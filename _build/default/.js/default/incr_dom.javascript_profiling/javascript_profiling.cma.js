// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Javascript_profiling
//# unitInfo: Requires: Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Stdlib
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Javascript_profiling$0 = "Javascript_profiling",
    cst_javascript_profiling$0 = "javascript_profiling",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Stdlib = global_data.Stdlib,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Javascript_profiling$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_javascript_profiling$0);
   caml_call1
    (Ppx_expect_runtime[1][1], "javascript_profiling/javascript_profiling.ml");
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_javascript_profiling$0,
     "javascript_profiling.ml");
   var
    cst_before = "_before",
    cst_after = "_after",
    cst_javascript_profiling = cst_javascript_profiling$0,
    cst_Javascript_profiling = cst_Javascript_profiling$0;
   function perf(param){
    var t0 = Js_of_ocaml_Js[52][1];
    return t0.performance;
   }
   function mark(name){return perf(0).mark(caml_jsstring_of_string(name));}
   function measure(name, start, end){
    return perf(0).measure
            (caml_jsstring_of_string(name),
             caml_jsstring_of_string(start),
             caml_jsstring_of_string(end));
   }
   function record(name, f){
    var
     before_name = caml_call2(Stdlib[28], name, cst_before),
     after_name = caml_call2(Stdlib[28], name, cst_after);
    mark(before_name);
    var res = caml_call1(f, 0);
    mark(after_name);
    measure(name, before_name, after_name);
    return res;
   }
   function clear_marks(param){return perf(0).clearMarks();}
   function clear_measures(param){return perf(0).clearMeasures();}
   var Manual = [0, mark, measure];
   caml_call1(Ppx_inline_test_lib[7], cst_javascript_profiling);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Javascript_profiling);
   var
    Javascript_profiling = [0, record, clear_marks, clear_measures, Manual];
   runtime.caml_register_global
    (20, Javascript_profiling, cst_Javascript_profiling$0);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJqYXZhc2NyaXB0X3Byb2ZpbGluZy5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsicGVyZiIsIm1hcmsiLCJuYW1lIiwibWVhc3VyZSIsInN0YXJ0IiwiZW5kIiwicmVjb3JkIiwiZiIsImJlZm9yZV9uYW1lIiwiYWZ0ZXJfbmFtZSIsInJlcyIsImNsZWFyX21hcmtzIiwiY2xlYXJfbWVhc3VyZXMiXSwic291cmNlcyI6WyIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9pbmNyX2RvbS9qYXZhc2NyaXB0X3Byb2ZpbGluZy9qYXZhc2NyaXB0X3Byb2ZpbGluZy5tbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBWUlBO0lBQTZCOztHQUE4QjtZQUMzREMsS0FBS0MsTUFBTyxPQURaRixhQUM0Qix3QkFBdkJFLE9BQXVDO1lBRTVDQyxRQUFTRCxNQUFNRSxPQUFPQztJQUN4QixPQUpFTDthQUlpQix3QkFEUkU7YUFDeUIsd0JBRG5CRTthQUNxQyx3QkFEOUJDO0dBQzhDO1lBR3BFQyxPQUFPSixNQUFNSztJQUNmO0tBQUlDLGNBQWMsdUJBRFROO0tBRUxPLGFBQWEsdUJBRlJQO0lBTlBELEtBT0VPO0lBR00sSUFBTkUsTUFBTSxXQUpLSDtJQU5iTixLQVFFUTtJQU5GTixRQUlPRCxNQUNMTSxhQUNBQztJQUlKLE9BRklDO0dBR0Q7WUFHREMsbUJBQWlCLE9BakJqQlgscUJBaUJzQztZQUN0Q1ksc0JBQW9CLE9BbEJwQlosd0JBa0I0QztHQUVoQyxpQkFuQlpDLE1BRUFFOzs7Ozs7K0JBSUFHLFFBVUFLLGFBQ0FDOzs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyJvcGVuIEpzX29mX29jYW1sXG5cbmNsYXNzIHR5cGUgcGVyZm9ybWFuY2UgPSBvYmplY3RcbiAgbWV0aG9kIG1hcmsgOiBKcy5qc19zdHJpbmcgSnMudCAtPiB1bml0IEpzLm1ldGhcblxuICBtZXRob2QgbWVhc3VyZSA6XG4gICAgSnMuanNfc3RyaW5nIEpzLnQgLT4gSnMuanNfc3RyaW5nIEpzLnQgLT4gSnMuanNfc3RyaW5nIEpzLnQgLT4gdW5pdCBKcy5tZXRoXG5cbiAgbWV0aG9kIGNsZWFyTWFya3MgOiB1bml0IEpzLm1ldGhcbiAgbWV0aG9kIGNsZWFyTWVhc3VyZXMgOiB1bml0IEpzLm1ldGhcbmVuZFxuXG5sZXQgcGVyZiAoKSA6IHBlcmZvcm1hbmNlIEpzLnQgPSBKcy5VbnNhZmUuZ2xvYmFsIyMucGVyZm9ybWFuY2VcbmxldCBtYXJrIG5hbWUgPSAocGVyZiAoKSkjI21hcmsgKEpzLnN0cmluZyBuYW1lKVxuXG5sZXQgbWVhc3VyZSB+bmFtZSB+c3RhcnQgfmVuZF8gPVxuICAocGVyZiAoKSkjI21lYXN1cmUgKEpzLnN0cmluZyBuYW1lKSAoSnMuc3RyaW5nIHN0YXJ0KSAoSnMuc3RyaW5nIGVuZF8pXG47O1xuXG5sZXQgcmVjb3JkIG5hbWUgfmYgPVxuICBsZXQgYmVmb3JlX25hbWUgPSBuYW1lIF4gXCJfYmVmb3JlXCIgaW5cbiAgbGV0IGFmdGVyX25hbWUgPSBuYW1lIF4gXCJfYWZ0ZXJcIiBpblxuICBsZXQgKCkgPSBtYXJrIGJlZm9yZV9uYW1lIGluXG4gIGxldCByZXMgPSBmICgpIGluXG4gIGxldCAoKSA9IG1hcmsgYWZ0ZXJfbmFtZSBpblxuICBtZWFzdXJlIH5uYW1lIH5zdGFydDpiZWZvcmVfbmFtZSB+ZW5kXzphZnRlcl9uYW1lO1xuICByZXNcbjs7XG5cbmxldCBjbGVhcl9tYXJrcyAoKSA9IChwZXJmICgpKSMjY2xlYXJNYXJrc1xubGV0IGNsZWFyX21lYXN1cmVzICgpID0gKHBlcmYgKCkpIyNjbGVhck1lYXN1cmVzXG5cbm1vZHVsZSBNYW51YWwgPSBzdHJ1Y3RcbiAgbGV0IG1hcmsgPSBtYXJrXG4gIGxldCBtZWFzdXJlID0gbWVhc3VyZVxuZW5kXG4iXX0=
