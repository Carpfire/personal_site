// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Dream__server
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, Dream_server = [0];
   runtime.caml_register_global(0, Dream_server, "Dream__server");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Helpers
//# unitInfo: Requires: Dream_pure__Formats, Dream_pure__Message, Dream_pure__Stream, Lwt, Stdlib
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$2 = "",
    cst_Content_Type$1 = "Content-Type",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$1 = cst$2,
    cst$0 = cst$2,
    cst = cst$2,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Lwt = global_data.Lwt,
    Dream_pure_Stream = global_data.Dream_pure__Stream,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    Stdlib = global_data.Stdlib,
    _h_ = [0, 1005],
    _g_ = [0, -454208630],
    _f_ = [0, -36502890],
    _e_ = [0, 581896612],
    cst_Location = "Location",
    cst_Content_Type$0 = cst_Content_Type$1,
    cst_Content_Type = cst_Content_Type$1,
    cst_127_0_0_1_0 = "127.0.0.1:0",
    _c_ = [0, "dream.client"],
    _d_ = [0, "dream.tls"],
    _a_ = 0,
    _b_ = [0, function(client){return client;}],
    client_field = caml_call3(Dream_pure_Message[39], _c_, _b_, _a_);
   function client(request){
    var match = caml_call2(Dream_pure_Message[40], request, client_field);
    if(! match) return cst_127_0_0_1_0;
    var client = match[1];
    return client;
   }
   function set_client(request, client){
    return caml_call3(Dream_pure_Message[41], request, client_field, client);
   }
   var
    tls_field = caml_call3(Dream_pure_Message[39], _d_, [0, Stdlib[30]], 0);
   function tls(request){
    var match = caml_call2(Dream_pure_Message[40], request, tls_field);
    if(match && match[1]) return 1;
    return 0;
   }
   function set_tls(request, tls){
    return caml_call3(Dream_pure_Message[41], request, tls_field, tls);
   }
   function request(client, method, target, tls, headers, server_stream){
    var
     request =
       caml_call5
        (Dream_pure_Message[1],
         [0, method],
         [0, target],
         [0, headers],
         Dream_pure_Stream[7],
         server_stream);
    set_client(request, client);
    set_tls(request, tls);
    return request;
   }
   function request_with_body(method, target, headers, body){
    var _v_ = caml_call1(Dream_pure_Stream[9], body);
    return caml_call5
            (Dream_pure_Message[1],
             method,
             target,
             headers,
             Dream_pure_Stream[7],
             _v_);
   }
   function response_with_body(status, code, headers, body){
    var
     response =
       caml_call5
        (Dream_pure_Message[6],
         status,
         code,
         headers,
         Dream_pure_Stream[7],
         Dream_pure_Stream[7]);
    caml_call2(Dream_pure_Message[20], response, body);
    return response;
   }
   function respond(status, code, headers, body){
    var _u_ = response_with_body(status, code, headers, body);
    return caml_call1(Lwt[4], _u_);
   }
   function html(status, code, headers, body){
    var response = response_with_body(status, code, headers, body);
    caml_call3
     (Dream_pure_Message[15],
      response,
      cst_Content_Type,
      Dream_pure_Formats[13]);
    return caml_call1(Lwt[4], response);
   }
   function json(status, code, headers, body){
    var response = response_with_body(status, code, headers, body);
    caml_call3
     (Dream_pure_Message[15],
      response,
      cst_Content_Type$0,
      Dream_pure_Formats[14]);
    return caml_call1(Lwt[4], response);
   }
   function redirect(status, code, headers, request, location){
    a:
    {
     if(! status && ! code){var status$0 = _e_; break a;}
     var status$0 = status;
    }
    var response = response_with_body(status$0, code, headers, cst);
    caml_call3(Dream_pure_Message[15], response, cst_Location, location);
    return caml_call1(Lwt[4], response);
   }
   function stream(status, code, headers, opt, callback){
    if(opt) var sth = opt[1], close = sth; else var close = 1;
    var
     match = caml_call1(Dream_pure_Stream[2], 0),
     writer = match[2],
     reader = match[1],
     client_stream =
       caml_call2(Dream_pure_Stream[6], reader, Dream_pure_Stream[5]),
     server_stream =
       caml_call2(Dream_pure_Stream[6], Dream_pure_Stream[4], writer),
     response =
       caml_call5
        (Dream_pure_Message[6],
         status,
         code,
         headers,
         client_stream,
         server_stream);
    function _o_(param){
     if(! close) return caml_call1(callback, server_stream);
     function _p_(exn){
      var ppx_lwt_0 = caml_call1(Dream_pure_Message[26], server_stream);
      function _s_(param){throw caml_maybe_attach_backtrace(exn, 1);}
      function _t_(exn){
       try{throw caml_maybe_attach_backtrace(exn, 0);}
       catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
      }
      return caml_call3(Lwt[81], _t_, ppx_lwt_0, _s_);
     }
     function _q_(param){
      return caml_call1(Dream_pure_Message[26], server_stream);
     }
     function _r_(param){return caml_call1(callback, server_stream);}
     return caml_call3(Lwt[9], _r_, _q_, _p_);
    }
    caml_call1(Lwt[11], _o_);
    return caml_call1(Lwt[4], response);
   }
   function empty(headers, status){
    return respond([0, status], 0, headers, cst$0);
   }
   function not_found(param){return respond(_f_, 0, 0, cst$1);}
   function websocket(headers, opt, callback){
    if(opt) var sth = opt[1], close = sth; else var close = 1;
    var
     response =
       caml_call5
        (Dream_pure_Message[6],
         _g_,
         0,
         headers,
         Dream_pure_Stream[8],
         Dream_pure_Stream[7]),
     websocket = caml_call1(Dream_pure_Message[31], response);
    function _i_(param){
     if(! close) return caml_call1(callback, websocket);
     function _j_(exn){
      var ppx_lwt_0 = caml_call2(Dream_pure_Message[33], _h_, websocket);
      function _m_(param){throw caml_maybe_attach_backtrace(exn, 1);}
      function _n_(exn){
       try{throw caml_maybe_attach_backtrace(exn, 0);}
       catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
      }
      return caml_call3(Lwt[81], _n_, ppx_lwt_0, _m_);
     }
     function _k_(param){
      return caml_call2(Dream_pure_Message[33], 0, websocket);
     }
     function _l_(param){return caml_call1(callback, websocket);}
     return caml_call3(Lwt[9], _l_, _k_, _j_);
    }
    caml_call1(Lwt[11], _i_);
    return caml_call1(Lwt[4], response);
   }
   function receive(param){
    var server_stream = param[2];
    return caml_call1(Dream_pure_Message[34], server_stream);
   }
   function receive_fragment(param){
    var server_stream = param[2];
    return caml_call1(Dream_pure_Message[35], server_stream);
   }
   function send(text_or_binary, end_of_message, param, data){
    var server_stream = param[2];
    return caml_call4
            (Dream_pure_Message[36],
             text_or_binary,
             end_of_message,
             server_stream,
             data);
   }
   var
    Dream_server_Helpers =
      [0,
       client_field,
       client,
       set_client,
       tls_field,
       tls,
       set_tls,
       request,
       request_with_body,
       response_with_body,
       respond,
       html,
       json,
       redirect,
       stream,
       empty,
       not_found,
       websocket,
       receive,
       receive_fragment,
       send];
   runtime.caml_register_global
    (18, Dream_server_Helpers, "Dream__server__Helpers");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Log
//# unitInfo: Requires: CamlinternalLazy, Dream__server__Helpers, Dream_pure__Message, Dream_pure__Method, Dream_pure__Status, Fmt, Logs, Lwt, Ptime, Stdlib, Stdlib__Buffer, Stdlib__Format, Stdlib__List, Stdlib__Option, Stdlib__Printexc, Stdlib__Printf, Stdlib__String
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$6 = "",
    cst$5 = " ",
    cst_s = "%s",
    cst_Dream_log_initialize_has_a =
      "Dream__log.initialize has already been called, ignoring this call.",
    cst_Dream_log_initialized_has_ =
      "Dream__log.initialized has already been set, check that this call is intentional",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_ml_string_length = runtime.caml_ml_string_length,
    caml_string_notequal = runtime.caml_string_notequal,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   function caml_call8(f, a0, a1, a2, a3, a4, a5, a6, a7){
    return (f.l >= 0 ? f.l : f.l = f.length) == 8
            ? f(a0, a1, a2, a3, a4, a5, a6, a7)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7]);
   }
   function caml_call12(f, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11){
    return (f.l >= 0 ? f.l : f.l = f.length) == 12
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11)
            : runtime.caml_call_gen
              (f, [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$2 = cst$5,
    cst$3 = cst$6,
    cst$4 = cst$6,
    cst$1 = cst$5,
    partial =
      [4, 3, [0, 2, 2], 0, [12, 46, [8, [0, 0, 0], [0, 2, 3], [0, 0], 0]]],
    cst$0 = cst$6,
    request_id = cst$6,
    partial$0 = [0, 0, cst$6],
    cst = "     ",
    level = "DEBUG",
    request_id_label = "dream.request_id",
    setup_logs =
      "\nTo initialize logs with a default reporter, and set up Dream, do the following:\n  If you are using MirageOS, use the Dream device in config.ml\n   \n  If you are using Lwt/Unix, execute `Dream.log_initialize ()`\n   \n",
    Lwt = global_data.Lwt,
    Dream_pure_Status = global_data.Dream_pure__Status,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Stdlib = global_data.Stdlib,
    Stdlib_Printexc = global_data.Stdlib__Printexc,
    Dream_server_Helpers = global_data.Dream__server__Helpers,
    Dream_pure_Method = global_data.Dream_pure__Method,
    Stdlib_String = global_data.Stdlib__String,
    Logs = global_data.Logs,
    Stdlib_Format = global_data.Stdlib__Format,
    Stdlib_List = global_data.Stdlib__List,
    Stdlib_Option = global_data.Stdlib__Option,
    Ptime = global_data.Ptime,
    Fmt = global_data.Fmt,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Stdlib_Buffer = global_data.Stdlib__Buffer,
    logs_lib_tag =
      caml_call3(Logs[8][1], 0, request_id_label, Stdlib_Format[13]),
    id_lwt_key = caml_call1(Lwt[49], 0),
    _p_ =
      [0,
       [4,
        3,
        0,
        0,
        [2, 0, [11, " in ", [8, [0, 0, 0], 0, [0, 0], [11, " \xce\xbcs", 0]]]]],
       "%i%s in %.0f \xce\xbcs"],
    cst_Location = "Location",
    _o_ = [0, [2, 0, 0], cst_s],
    _n_ = [0, [11, "Aborted by: ", [2, 0, 0]], "Aborted by: %s"],
    _m_ =
      [0,
       [2, 0, [12, 32, [2, 0, [12, 32, [2, 0, [12, 32, [2, 0, 0]]]]]]],
       "%s %s %s %s"],
    cst_User_Agent = "User-Agent",
    _k_ =
      [0,
       [11, cst_Dream_log_initialize_has_a, 0],
       cst_Dream_log_initialize_has_a],
    _l_ =
      [0,
       [11, cst_Dream_log_initialized_has_, 0],
       cst_Dream_log_initialized_has_],
    _j_ = [0, 1],
    _i_ = [0, [2, 0, 0], cst_s],
    _h_ = [0, [11, "Async exception: ", [2, 0, 0]], "Async exception: %s"],
    _g_ = [0, [2, 0, 0], cst_s],
    cst_The_default_logger_is_not_ =
      "The default logger is not yet initialized. ",
    _c_ =
      [0,
       [4,
        3,
        [0, 2, 2],
        0,
        [12,
         46,
         [4,
          3,
          [0, 2, 2],
          0,
          [12,
           46,
           [4,
            3,
            [0, 2, 2],
            0,
            [12,
             32,
             [4,
              3,
              [0, 2, 2],
              0,
              [12, 58, [4, 3, [0, 2, 2], 0, [12, 58, partial]]]]]]]]]],
       "%02i.%02i.%02i %02i:%02i:%02i.%03.0f"],
    cst_REQ = " REQ ",
    _d_ = [0, [17, 0, [17, 4, 0]], "@]@."],
    _e_ =
      [0,
       [15,
        [12,
         32,
         [15, [2, 0, [12, 32, [15, [15, [12, 32, [18, [1, partial$0], 0]]]]]]]]],
       "%a %a%s %a%a @["],
    cst_ERROR = "ERROR",
    cst_WARN = " WARN",
    cst_INFO = " INFO",
    cst_Dream_server_Log_Logs_are_ =
      "Dream__server__Log.Logs_are_not_initialized",
    cst_dream_logger = "dream.logger",
    _a_ = 0,
    _b_ = [0, function(id){return id;}],
    id_field =
      caml_call3(Dream_pure_Message[39], [0, request_id_label], _b_, _a_);
   function get_request_id(request, param){
    if(request)
     var
      request$0 = request[1],
      request_id = caml_call2(Dream_pure_Message[40], request$0, id_field);
    else
     var request_id = 0;
    return request_id ? request_id : caml_call1(Lwt[50], id_lwt_key);
   }
   var last_id = [0, 0];
   function reporter(now, param){
    var
     buffer = caml_call1(Stdlib_Buffer[1], 512),
     formatter = caml_call2(Fmt[10], [0, Fmt[2]], buffer);
    function report(src, level$0, over, k, user_s_callback){
     switch(level$0){
       case 0:
        var level$1 = cst, level_style = -588596599; break;
       case 1:
        var level$1 = cst_ERROR, level_style = 4100401; break;
       case 2:
        var level$1 = cst_WARN, level_style = 82908052; break;
       case 3:
        var level$1 = cst_INFO, level_style = 756711075; break;
       default: var level$1 = level, level_style = 737308346;
     }
     function write(param){
      var message = caml_call1(Stdlib_Buffer[2], buffer);
      caml_call1(Stdlib_Buffer[9], buffer);
      caml_call1(Stdlib[49], message);
      caml_call1(Stdlib[63], Stdlib[40]);
      caml_call1(over, 0);
      return caml_call1(k, 0);
     }
     return caml_call1
             (user_s_callback,
              function(header, tags, format_and_arguments){
               var
                unix_time = caml_call1(now, 0),
                _aj_ = caml_call1(Ptime[9], unix_time),
                time = caml_call1(Stdlib_Option[4], _aj_),
                fraction = runtime.caml_modf_float(unix_time)[1] * 1000.,
                clamped_fraction = 999. < fraction ? 999. : fraction,
                _ak_ = caml_call2(Ptime[21], 0, time),
                _al_ = _ak_[2][1],
                ss = _al_[3],
                mm = _al_[2],
                hh = _al_[1],
                match = _ak_[1],
                d = match[3],
                m = match[2],
                y = match[1],
                time$0 =
                  caml_call8
                   (Stdlib_Printf[4],
                    _c_,
                    d,
                    m,
                    y % 100 | 0,
                    hh,
                    mm,
                    ss,
                    clamped_fraction),
                _am_ = caml_call1(Logs[7][2], Logs[6]),
                width = 15;
               if
                (runtime.caml_string_equal(caml_call1(Logs[7][2], src), _am_))
                var source = caml_call2(Stdlib_String[1], width, 32);
               else{
                var name = caml_call1(Logs[7][2], src);
                if(15 < caml_ml_string_length(name))
                 var
                  _aw_ =
                    caml_call3
                     (Stdlib_String[16],
                      name,
                      caml_ml_string_length(name) - 15 | 0,
                      width);
                else
                 var
                  _ax_ =
                    caml_call2
                     (Stdlib_String[1], 15 - caml_ml_string_length(name) | 0, 32),
                  _aw_ = caml_call2(Stdlib[28], _ax_, name);
                var source = _aw_;
               }
               try{
                var
                 dot_index = caml_call2(Stdlib_String[38], source, 46) + 1 | 0,
                 source$1 =
                   caml_call3
                    (Stdlib_String[16],
                     source,
                     dot_index,
                     caml_ml_string_length(source) - dot_index | 0),
                 _av_ = caml_call3(Stdlib_String[16], source, 0, dot_index),
                 source$0 = source$1,
                 source_prefix = _av_;
               }
               catch(_ay_){
                var _an_ = caml_wrap_exception(_ay_);
                if(_an_ !== Stdlib[8])
                 throw caml_maybe_attach_backtrace(_an_, 0);
                var source$0 = source, source_prefix = cst$0;
               }
               if(tags)
                var
                 tags$0 = tags[1],
                 request_id_from_tags =
                   caml_call2(Logs[8][13], logs_lib_tag, tags$0);
               else
                var request_id_from_tags = 0;
               var
                request_id$0 = request_id_from_tags || get_request_id(0, 0);
               a:
               {
                if(request_id$0){
                 var request_id$1 = request_id$0[1];
                 if(caml_string_notequal(request_id$1, cst$6)){
                  var
                   last_byte =
                     runtime.caml_string_get
                      (request_id$1, caml_ml_string_length(request_id$1) - 1 | 0),
                   color = 0 === (last_byte & 1) ? 749039939 : -605101559,
                   request_style = color,
                   request_id$2 = caml_call2(Stdlib[28], cst_REQ, request_id$1);
                  break a;
                 }
                }
                var request_style = -588596599, request_id$2 = request_id;
               }
               var
                _ao_ = caml_call2(Fmt[92], 989373200, Fmt[57]),
                _ap_ = caml_call2(Fmt[92], request_style, _ao_),
                _aq_ = caml_call2(Fmt[92], level_style, Fmt[57]),
                _ar_ = caml_call2(Fmt[92], -588596599, Fmt[57]),
                _as_ = caml_call2(Fmt[92], 242899572, Fmt[57]),
                _at_ = caml_call2(Stdlib[98], format_and_arguments, _d_),
                _au_ = caml_call2(Stdlib[98], _e_, _at_);
               return caml_call12
                       (Stdlib_Format[144],
                        write,
                        formatter,
                        _au_,
                        _as_,
                        time$0,
                        _ar_,
                        source_prefix,
                        source$0,
                        _aq_,
                        level$1,
                        _ap_,
                        request_id$2);
              });
    }
    return [0, report];
   }
   var
    enable = [0, 1],
    level$0 = [0, 3],
    custom_log_levels = [0, 0],
    sources = [0, 0],
    set_printexc = [0, 1],
    set_async_exception_hook = [0, 1],
    initialized = [0, 0];
   function to_logs_level(l){
    return 106380200 <= l ? 815031438 <= l ? 3 : 1 : -364068301 <= l ? 4 : 2;
   }
   var
    Logs_are_not_initialized =
      [248, cst_Dream_server_Log_Logs_are_, runtime.caml_fresh_oo_id(0)];
   function _f_(param){
    return param === Logs_are_not_initialized
            ? [0,
              caml_call2
               (Stdlib[28], cst_The_default_logger_is_not_, setup_logs)]
            : 0;
   }
   caml_call1(Stdlib_Printexc[9], _f_);
   function initialized$0(param){
    var match = initialized[1];
    if(! match)
     throw caml_maybe_attach_backtrace(Logs_are_not_initialized, 1);
    var v = match[1], _ai_ = runtime.caml_obj_tag(v);
    if(250 === _ai_) return v[1];
    if(246 !== _ai_ && 244 !== _ai_) return v;
    return caml_call1(CamlinternalLazy[2], v);
   }
   function sub_log(level, name){
    function forward(destination_log, user_s_k){
     initialized$0(0);
     return caml_call1
             (destination_log,
              function(log){
               return caml_call1
                       (user_s_k,
                        function(request, format_and_arguments){
                         if(request){
                          var
                           request$0 = request[1],
                           match = get_request_id([0, request$0], 0);
                          if(match)
                           var
                            request_id = match[1],
                            _ah_ =
                              caml_call3
                               (Logs[8][11], logs_lib_tag, request_id, Logs[8][8]);
                          else
                           var _ah_ = Logs[8][8];
                          var tags = _ah_;
                         }
                         else
                          var tags = Logs[8][8];
                         return caml_call3(log, 0, [0, tags], format_and_arguments);
                        });
              });
    }
    var
     _aa_ = [0, [0, level$0[1]], 0],
     _ab_ = [0, caml_call2(Stdlib_List[50], name, custom_log_levels[1]), _aa_],
     _ac_ = [0, caml_call2(Stdlib_Option[7], to_logs_level, level), _ab_],
     level$1 = caml_call2(Stdlib_List[39], Stdlib_Option[11], _ac_),
     src = caml_call2(Logs[7][1], 0, name),
     Log = caml_call1(Logs[18], src);
    caml_call2(Logs[7][5], src, level$1);
    var _ad_ = caml_call2(Stdlib_List[55], name, custom_log_levels[1]);
    custom_log_levels[1] =
     [0, [0, name, caml_call1(Stdlib_Option[4], level$1)], _ad_];
    sources[1] =
     [0, [0, name, src], caml_call2(Stdlib_List[55], name, sources[1])];
    function _ae_(k){return forward(Log[6], k);}
    function _af_(k){return forward(Log[5], k);}
    function _ag_(k){return forward(Log[4], k);}
    return [0, function(k){return forward(Log[3], k);}, _ag_, _af_, _ae_];
   }
   function convenience_log(format_and_arguments){
    function ___(message){
     initialized$0(0);
     function _$_(log){return caml_call4(log, 0, 0, _g_, message);}
     return caml_call2(Logs[10], 0, _$_);
    }
    return caml_call2(Fmt[8], ___, format_and_arguments);
   }
   function iter_backtrace(f, backtrace){
    var _X_ = caml_call1(caml_call1(Stdlib_String[17], 10), backtrace);
    function _Y_(line){return caml_string_notequal(line, cst$6);}
    var _Z_ = caml_call1(caml_call1(Stdlib_List[44], _Y_), _X_);
    return caml_call1(caml_call1(Stdlib_List[18], f), _Z_);
   }
   var log = sub_log(0, cst_dream_logger);
   function set_up_exception_hook(param){
    var _S_ = set_async_exception_hook[1];
    if(_S_){
     set_async_exception_hook[1] = 0;
     var
      _T_ =
        function(exn){
         var backtrace = caml_call1(Stdlib_Printexc[6], 0);
         function _V_(log){
          return caml_call3(log, 0, _h_, caml_call1(Stdlib_Printexc[1], exn));
         }
         caml_call1(log[1], _V_);
         return iter_backtrace
                 (function(line){
                   function _W_(log){return caml_call3(log, 0, _i_, line);}
                   return caml_call1(log[1], _W_);
                  },
                  backtrace);
        };
     Lwt[12][1] = _T_;
     var _U_ = 0;
    }
    else
     var _U_ = _S_;
    return _U_;
   }
   function initialize_log(opt, _Q_, level, _P_, param){
    if(opt) var sth = opt[1], backtraces = sth; else var backtraces = 1;
    if(_Q_)
     var sth$0 = _Q_[1], async_exception_hook = sth$0;
    else
     var async_exception_hook = 1;
    if(_P_) var sth$1 = _P_[1], enable$0 = sth$1; else var enable$0 = 1;
    if(backtraces) caml_call1(Stdlib_Printexc[7], 1);
    set_printexc[1] = 0;
    if(async_exception_hook) set_up_exception_hook(0);
    set_async_exception_hook[1] = 0;
    var
     _R_ = caml_call2(Stdlib_Option[7], to_logs_level, level),
     level$1 = caml_call2(Stdlib_Option[3], _R_, 3);
    enable[1] = enable$0;
    level$0[1] = level$1;
    initialized$0(0);
    return 0;
   }
   function set_log_level(name, level){
    initialized$0(0);
    var level$0 = to_logs_level(level);
    custom_log_levels[1] =
     [0,
      [0, name, level$0],
      caml_call2(Stdlib_List[55], name, custom_log_levels[1])];
    var src = caml_call2(Stdlib_List[50], name, sources[1]);
    function _O_(s){return caml_call2(Logs[7][5], s, [0, level$0]);}
    return caml_call2(Stdlib_Option[9], _O_, src);
   }
   function Make(Pclock){
    function now(param){
     var _M_ = caml_call1(Pclock[1], 0), _N_ = caml_call1(Ptime[2], _M_);
     return caml_call1(Ptime[10], _N_);
    }
    function initializer(setup_outputs){
     return [246,
             function(_G_){
              if(enable[1]){
               caml_call1(setup_outputs, 0);
               caml_call2(Logs[2], _j_, [0, level$0[1]]);
               var
                _H_ = custom_log_levels[1],
                _I_ =
                  function(param){
                   var
                    level = param[2],
                    name = param[1],
                    _K_ = caml_call2(Stdlib_List[50], name, sources[1]);
                   function _L_(source){
                    return caml_call2(Logs[7][5], source, [0, level]);
                   }
                   return caml_call1(caml_call1(Stdlib_Option[9], _L_), _K_);
                  };
               caml_call1(caml_call1(Stdlib_List[18], _I_), _H_);
               var _J_ = reporter(now, 0);
               caml_call1(Logs[22], _J_);
              }
              return 457346292;
             }];
    }
    var set = [0, 0];
    function initialize(setup_outputs){
     if(set[1]){
      var _D_ = function(log){return caml_call3(log, 0, 0, _k_);};
      return caml_call2(Logs[14], 0, _D_);
     }
     try{initialized$0(0); caml_call1(Stdlib_Format[139], _l_);}
     catch(_F_){
      var _E_ = caml_wrap_exception(_F_);
      if(_E_ !== Logs_are_not_initialized)
       throw caml_maybe_attach_backtrace(_E_, 0);
     }
     set[1] = 1;
     initialized[1] = [0, initializer(setup_outputs)];
     return 0;
    }
    function logger(next_handler, request){
     var start = now(0);
     if(set_printexc[1]){
      caml_call1(Stdlib_Printexc[7], 1);
      set_printexc[1] = 0;
     }
     var match = caml_call2(Dream_pure_Message[40], request, id_field);
     if(match)
      var id = match[1], id$0 = id;
     else{
      last_id[1] = last_id[1] + 1 | 0;
      var id$1 = caml_call1(Stdlib[33], last_id[1]);
      caml_call3(Dream_pure_Message[41], request, id_field, id$1);
      var id$0 = id$1;
     }
     var
      _q_ = caml_call2(Dream_pure_Message[10], request, cst_User_Agent),
      user_agent = caml_call1(caml_call1(Stdlib_String[7], cst$1), _q_);
     function _r_(log){
      var
       _A_ = caml_call1(Dream_server_Helpers[2], request),
       _B_ = caml_call1(Dream_pure_Message[3], request),
       _C_ = caml_call1(Dream_pure_Message[2], request);
      return caml_call6
              (log,
               [0, request],
               _m_,
               caml_call1(Dream_pure_Method[1], _C_),
               _B_,
               _A_,
               user_agent);
     }
     caml_call1(log[3], _r_);
     function _s_(exn){
      var backtrace = caml_call1(Stdlib_Printexc[6], 0);
      function _y_(log){
       return caml_call3
               (log, [0, request], _n_, caml_call1(Stdlib_Printexc[1], exn));
      }
      caml_call1(log[2], _y_);
      iter_backtrace
       (function(line){
         function _z_(log){return caml_call3(log, 0, _o_, line);}
         return caml_call1(log[2], _z_);
        },
        backtrace);
      return caml_call1(Lwt[5], exn);
     }
     function _t_(response){
      var _w_ = caml_call1(Dream_pure_Message[7], response);
      if(caml_call1(Dream_pure_Status[3], _w_)){
       var match = caml_call2(Dream_pure_Message[9], response, cst_Location);
       if(match)
        var
         location = match[1],
         _x_ = caml_call2(Stdlib[28], cst$2, location);
       else
        var _x_ = cst$3;
       var location$0 = _x_;
      }
      else
       var location$0 = cst$4;
      var status = caml_call1(Dream_pure_Message[7], response);
      function report(log){
       var elapsed = now(0) - start;
       return caml_call5
               (log,
                [0, request],
                _p_,
                caml_call1(Dream_pure_Status[6], status),
                location$0,
                elapsed * 1000000.);
      }
      if(caml_call1(Dream_pure_Status[5], status))
       caml_call1(log[1], report);
      else if(caml_call1(Dream_pure_Status[4], status))
       caml_call1(log[2], report);
      else
       caml_call1(log[3], report);
      return caml_call1(Lwt[4], response);
     }
     function _u_(param){
      function _v_(param){return caml_call1(next_handler, request);}
      return caml_call3(Lwt[51], id_lwt_key, [0, id$0], _v_);
     }
     return caml_call3(Lwt[9], _u_, _t_, _s_);
    }
    return [0, now, initializer, set, initialize, logger];
   }
   var
    Dream_server_Log =
      [0,
       request_id_label,
       logs_lib_tag,
       id_lwt_key,
       id_field,
       get_request_id,
       last_id,
       reporter,
       enable,
       level$0,
       custom_log_levels,
       sources,
       set_printexc,
       set_async_exception_hook,
       initialized,
       to_logs_level,
       Logs_are_not_initialized,
       setup_logs,
       initialized$0,
       sub_log,
       convenience_log,
       iter_backtrace,
       log,
       set_up_exception_hook,
       initialize_log,
       set_log_level,
       Make];
   runtime.caml_register_global(55, Dream_server_Log, "Dream__server__Log");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Router
//# unitInfo: Requires: Dream__server__Helpers, Dream__server__Log, Dream_pure__Formats, Dream_pure__Message, Dream_pure__Method, Stdlib, Stdlib__List, Stdlib__Printf, Stdlib__String
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$4 = "",
    cst$3 = "*",
    cst$2 = "/",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_string_equal = runtime.caml_string_equal,
    caml_string_get = runtime.caml_string_get,
    caml_string_notequal = runtime.caml_string_notequal,
    caml_trampoline = runtime.caml_trampoline,
    caml_trampoline_return = runtime.caml_trampoline_return,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$1 = ", ",
    cst$0 = cst$2,
    cst = cst$2,
    Stdlib = global_data.Stdlib,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Stdlib_List = global_data.Stdlib__List,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Dream_server_Helpers = global_data.Dream__server__Helpers,
    Stdlib_String = global_data.Stdlib__String,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    Dream_pure_Method = global_data.Dream_pure__Method,
    Dream_server_Log = global_data.Dream__server__Log,
    _a_ =
      [0,
       [11, "Empty path parameter name in '", [2, 0, [12, 39, 0]]],
       "Empty path parameter name in '%s'"],
    cst_Path_wildcard_must_be_last = "Path wildcard must be last",
    cst_Path_wildcard_must_be_just = "Path wildcard must be just '**'",
    _n_ = [0, [2, 0, 0], "%s"],
    _m_ =
      [0,
       [11, "Dream.param: missing path parameter ", [3, 0, 0]],
       "Dream.param: missing path parameter %S"],
    _j_ = [0, [2, 0, [12, 61, [2, 0, 0]]], "%s=%s"],
    _b_ = [0, cst$3],
    _e_ = [0, "dream.path"],
    _h_ = [0, "dream.prefix"],
    _l_ = [0, "dream.params"],
    cst_dream_router = "dream.router";
   function make_star_or_wildcard(s){
    return caml_string_notequal(s, cst$4) ? [2, s] : _b_;
   }
   function parse(string){
    function parse_separator$0(counter, tokens, index){
     try{var val = caml_string_get(string, index);}
     catch(_T_){
      var _R_ = caml_wrap_exception(_T_);
      if(_R_[1] === Stdlib[6]) return caml_call1(Stdlib_List[10], tokens);
      throw caml_maybe_attach_backtrace(_R_, 0);
     }
     if(47 === val){
      var _S_ = index + 1 | 0;
      if(counter >= 50)
       return caml_trampoline_return(parse_component_start, [0, tokens, _S_]);
      var counter$1 = counter + 1 | 0;
      return parse_component_start(counter$1, tokens, _S_);
     }
     if(counter >= 50)
      return caml_trampoline_return(parse_component_start, [0, tokens, index]);
     var counter$0 = counter + 1 | 0;
     return parse_component_start(counter$0, tokens, index);
    }
    function parse_component_start(counter, tokens, index){
     var index$0 = index;
     for(;;){
      a:
      {
       try{var val = caml_string_get(string, index$0);}
       catch(_Q_){
        var _J_ = caml_wrap_exception(_Q_);
        if(_J_[1] === Stdlib[6]) break a;
        throw caml_maybe_attach_backtrace(_J_, 0);
       }
       if(42 === val){
        var _L_ = index$0 + 1 | 0, _M_ = index$0 + 1 | 0;
        if(counter >= 50)
         return caml_trampoline_return
                 (parse_component,
                  [0, tokens, make_star_or_wildcard, _M_, _L_]);
        var counter$1 = counter + 1 | 0;
        return parse_component
                (counter$1, tokens, make_star_or_wildcard, _M_, _L_);
       }
       if(47 === val){
        var index$1 = index$0 + 1 | 0, index$0 = index$1;
        continue;
       }
       if(58 === val){
        var
         _N_ = index$0 + 1 | 0,
         _O_ = index$0 + 1 | 0,
         _P_ = function(s){return [1, s];};
        if(counter >= 50)
         return caml_trampoline_return
                 (parse_component, [0, tokens, _P_, _O_, _N_]);
        var counter$0 = counter + 1 | 0;
        return parse_component(counter$0, tokens, _P_, _O_, _N_);
       }
      }
      var _K_ = function(s){return [0, s];};
      if(counter >= 50)
       return caml_trampoline_return
               (parse_component, [0, tokens, _K_, index$0, index$0]);
      var counter$2 = counter + 1 | 0;
      return parse_component(counter$2, tokens, _K_, index$0, index$0);
     }
    }
    function parse_component(counter, tokens, constructor, start_index, index){
     var index$0 = index;
     for(;;){
      try{var val = caml_string_get(string, index$0);}
      catch(_I_){
       var _G_ = caml_wrap_exception(_I_);
       if(_G_[1] !== Stdlib[6]) throw caml_maybe_attach_backtrace(_G_, 0);
       var
        token =
          caml_call1
           (constructor,
            caml_call3
             (Stdlib_String[16],
              string,
              start_index,
              index$0 - start_index | 0));
       return caml_call1(Stdlib_List[10], [0, token, tokens]);
      }
      if(47 === val){
       var
        token$0 =
          caml_call1
           (constructor,
            caml_call3
             (Stdlib_String[16],
              string,
              start_index,
              index$0 - start_index | 0)),
        _H_ = [0, token$0, tokens];
       if(counter >= 50)
        return caml_trampoline_return(parse_separator$0, [0, _H_, index$0]);
       var counter$0 = counter + 1 | 0;
       return parse_separator$0(counter$0, _H_, index$0);
      }
      var index$1 = index$0 + 1 | 0, index$0 = index$1;
     }
    }
    function parse_separator(tokens, index){
     return caml_trampoline(parse_separator$0(0, tokens, index));
    }
    var tokens$0 = parse_separator(0, 0), param = tokens$0;
    for(;;){
     a:
     if(param){
      var _F_ = param[1];
      switch(_F_[0]){
        case 1:
         if(! caml_string_notequal(_F_[1], cst$4)){
          caml_call3(Stdlib_Printf[10], Stdlib[2], _a_, string);
          break a;
         }
         break;
        case 2:
         if(caml_string_notequal(_F_[1], cst$3)){
          caml_call1(Stdlib[2], cst_Path_wildcard_must_be_just);
          break a;
         }
         if(! param[2]) break a;
         caml_call1(Stdlib[2], cst_Path_wildcard_must_be_last);
         break a;
      }
      var tokens = param[2], param = tokens;
      continue;
     }
     return tokens$0;
    }
   }
   function strip_empty_trailing_token(param){
    if(! param) return 0;
    var token = param[1];
    if
     (0 === token[0] && ! caml_string_notequal(token[1], cst$4) && ! param[2])
     return 0;
    var tokens = param[2];
    return [0, token, strip_empty_trailing_token(tokens)];
   }
   function get(pattern, handler){
    return [0, [0, parse(pattern), [0, 3546230, handler]], 0];
   }
   function post(pattern, handler){
    return [0, [0, parse(pattern), [0, 891112544, handler]], 0];
   }
   function put(pattern, handler){
    return [0, [0, parse(pattern), [0, 3997359, handler]], 0];
   }
   function delete$0(pattern, handler){
    return [0, [0, parse(pattern), [0, 492530731, handler]], 0];
   }
   function head(pattern, handler){
    return [0, [0, parse(pattern), [0, 801894688, handler]], 0];
   }
   function connect(pattern, handler){
    return [0, [0, parse(pattern), [0, 357830602, handler]], 0];
   }
   function options(pattern, handler){
    return [0, [0, parse(pattern), [0, -539883714, handler]], 0];
   }
   function trace(pattern, handler){
    return [0, [0, parse(pattern), [0, 336447077, handler]], 0];
   }
   function patch(pattern, handler){
    return [0, [0, parse(pattern), [0, 994393768, handler]], 0];
   }
   function any(pattern, handler){
    return [0, [0, parse(pattern), [0, 3257036, handler]], 0];
   }
   var no_route = 0;
   function apply(middlewares, routes){
    function compose(handler, param){
     if(! param) return handler;
     var more = param[2], middleware = param[1];
     return caml_call1(middleware, compose(handler, more));
    }
    var _D_ = caml_call1(Stdlib_List[15], routes);
    function _E_(param){
     var node = param[2], pattern = param[1];
     if(0 === node[0])
      var
       handler = node[2],
       method = node[1],
       node$0 = [0, method, compose(handler, middlewares)];
     else
      var route = node[1], node$0 = [1, apply(middlewares, [0, route, 0])];
     return [0, pattern, node$0];
    }
    return caml_call1(caml_call1(Stdlib_List[20], _E_), _D_);
   }
   function scope(prefix, middlewares, routes){
    var
     routes$0 = [0, apply(middlewares, routes), 0],
     _C_ = [1, caml_call1(Stdlib_List[15], routes$0)];
    return [0, [0, strip_empty_trailing_token(parse(prefix)), _C_], 0];
   }
   var
    _c_ = 0,
    _d_ = [0, function(path){return caml_call2(Stdlib_String[7], cst, path);}],
    path_field = caml_call3(Dream_pure_Message[39], _e_, _d_, _c_);
   function path(the_request){
    var match = caml_call2(Dream_pure_Message[40], the_request, path_field);
    if(match){var path = match[1]; return path;}
    var
     _A_ = caml_call1(Dream_pure_Message[3], the_request),
     _B_ = caml_call1(Dream_pure_Formats[9], _A_)[1];
    return caml_call1(Dream_pure_Formats[10], _B_);
   }
   function set_path(request, path){
    return caml_call3(Dream_pure_Message[41], request, path_field, path);
   }
   var
    _f_ = 0,
    _g_ =
      [0,
       function(prefix){
        var _z_ = caml_call1(Stdlib_List[10], prefix);
        return caml_call2(Stdlib_String[7], cst$0, _z_);
       }],
    prefix_field = caml_call3(Dream_pure_Message[39], _h_, _g_, _f_);
   function internal_prefix(request){
    var match = caml_call2(Dream_pure_Message[40], request, prefix_field);
    if(! match) return 0;
    var prefix = match[1];
    return prefix;
   }
   function prefix(request){
    var
     _x_ = internal_prefix(request),
     _y_ = caml_call1(Stdlib_List[10], _x_);
    return caml_call3(Dream_pure_Formats[11], 0, 0, _y_);
   }
   function set_prefix(request, prefix){
    return caml_call3(Dream_pure_Message[41], request, prefix_field, prefix);
   }
   var
    _i_ = 0,
    _k_ =
      [0,
       function(params){
        function _v_(param){
         var value = param[2];
         return caml_call3(Stdlib_Printf[4], _j_, param[1], value);
        }
        var _w_ = caml_call1(caml_call1(Stdlib_List[20], _v_), params);
        return caml_call1(caml_call1(Stdlib_String[7], cst$1), _w_);
       }],
    params_field = caml_call3(Dream_pure_Message[39], _l_, _k_, _i_),
    log = caml_call2(Dream_server_Log[19], 0, cst_dream_router);
   function missing_param(request, name){
    var message = caml_call2(Stdlib_Printf[4], _m_, name);
    function _u_(log){return caml_call3(log, [0, request], _n_, message);}
    caml_call1(log[1], _u_);
    return caml_call1(Stdlib[2], message);
   }
   function param(request, name){
    var match = caml_call2(Dream_pure_Message[40], request, params_field);
    if(! match) return missing_param(request, name);
    var params = match[1];
    try{var _s_ = caml_call2(Stdlib_List[49], name, params); return _s_;}
    catch(_t_){return missing_param(request, name);}
   }
   function router(routes){
    var routes$0 = caml_call1(Stdlib_List[15], routes);
    return function(request){
     function try_routes$0(counter, bindings, prefix, path, routes, ok, fail){
      if(! routes) return caml_call1(fail, 0);
      var
       routes$0 = routes[2],
       match = routes[1],
       node = match[2],
       pattern = match[1];
      function fail$0(param){
       return try_routes(bindings, prefix, path, routes$0, ok, fail);
      }
      var
       bindings$0 = bindings,
       prefix$0 = prefix,
       path$0 = path,
       pattern$0 = pattern;
      for(;;){
       if(! pattern$0){
        var _r_ = 0;
        if(counter >= 50)
         return caml_trampoline_return
                 (try_node,
                  [0, bindings$0, prefix$0, path$0, node, _r_, ok, fail$0]);
        var counter$0 = counter + 1 | 0;
        return try_node
                (counter$0,
                 bindings$0,
                 prefix$0,
                 path$0,
                 node,
                 _r_,
                 ok,
                 fail$0);
       }
       var match$0 = pattern$0[1];
       a:
       {
        switch(match$0[0]){
          case 0:
           if(path$0){
            var
             path$1 = path$0[2],
             s = path$0[1],
             pattern$1 = pattern$0[2],
             s$0 = match$0[1];
            if(! caml_string_equal(s$0, s)) break a;
            var
             prefix$1 = [0, s, prefix$0],
             prefix$0 = prefix$1,
             path$0 = path$1,
             pattern$0 = pattern$1;
            continue;
           }
           break;
          case 1:
           if(path$0){
            var s$1 = path$0[1], pattern$2 = pattern$0[2], s$2 = match$0[1];
            if(caml_string_equal(s$1, cst$4)) return fail$0(0);
            var
             path$2 = path$0[2],
             prefix$2 = [0, s$1, prefix$0],
             bindings$1 = [0, [0, s$2, s$1], bindings$0],
             bindings$0 = bindings$1,
             prefix$0 = prefix$2,
             path$0 = path$2,
             pattern$0 = pattern$2;
            continue;
           }
           break;
        }
        if(! path$0) return fail$0(0);
       }
       if(2 !== pattern$0[1][0]) return fail$0(0);
       var _q_ = 1;
       if(counter >= 50)
        return caml_trampoline_return
                (try_node,
                 [0, bindings$0, prefix$0, path$0, node, _q_, ok, fail$0]);
       var counter$1 = counter + 1 | 0;
       return try_node
               (counter$1,
                bindings$0,
                prefix$0,
                path$0,
                node,
                _q_,
                ok,
                fail$0);
      }
     }
     function try_node
     (counter, bindings, prefix, path, node, is_wildcard, ok, fail){
      if(0 !== node[0]){
       var routes = node[1];
       if(counter >= 50)
        return caml_trampoline_return
                (try_routes$0, [0, bindings, prefix, path, routes, ok, fail]);
       var counter$0 = counter + 1 | 0;
       return try_routes$0
               (counter$0, bindings, prefix, path, routes, ok, fail);
      }
      var
       method_set = node[1],
       handler = node[2],
       method = caml_call1(Dream_pure_Message[2], request);
      a:
      {
       if(typeof method_set === "number" && 3257036 === method_set){var _p_ = 1; break a;}
       var _p_ = caml_call2(Dream_pure_Method[4], method_set, method);
      }
      return _p_
              ? (caml_call3
                 (Dream_pure_Message[41], request, params_field, bindings),
                is_wildcard
                 ? (set_prefix
                    (request, prefix),
                   set_path(request, path),
                   caml_call2(ok, handler, request))
                 : 0
                   === path
                   ? caml_call2(ok, handler, request)
                   : caml_call1(fail, 0))
              : caml_call1(fail, 0);
     }
     function try_routes(bindings, prefix, path, routes, ok, fail){
      return caml_trampoline
              (try_routes$0(0, bindings, prefix, path, routes, ok, fail));
     }
     var match = caml_call2(Dream_pure_Message[40], request, params_field);
     if(match)
      var params = match[1], params$0 = params;
     else
      var params$0 = 0;
     var prefix = internal_prefix(request), path$0 = path(request);
     function _o_(param){
      return caml_call1(Dream_server_Helpers[16], request);
     }
     return try_routes
             (params$0,
              prefix,
              path$0,
              routes$0,
              function(handler, request){return caml_call1(handler, request);},
              _o_);};
   }
   var
    Dream_server_Router =
      [0,
       get,
       post,
       put,
       delete$0,
       head,
       connect,
       options,
       trace,
       patch,
       any,
       no_route,
       scope,
       router,
       param,
       path,
       prefix,
       set_path,
       set_prefix,
       parse];
   runtime.caml_register_global
    (28, Dream_server_Router, "Dream__server__Router");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Cookie
//# unitInfo: Requires: Dream__cipher__Cipher, Dream__server__Helpers, Dream__server__Router, Dream_pure__Formats, Dream_pure__Message, Stdlib, Stdlib__List
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$2 = "",
    cst_Host$1 = "__Host-",
    cst_Secure$1 = "__Secure-",
    cst_dream_cookie$1 = "dream.cookie-";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call9(f, a0, a1, a2, a3, a4, a5, a6, a7, a8){
    return (f.l >= 0 ? f.l : f.l = f.length) == 9
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7, a8]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$1 = cst$2,
    cst = cst$2,
    cst$0 = cst$2,
    Dream_server_Router = global_data.Dream__server__Router,
    Dream_server_Helpers = global_data.Dream__server__Helpers,
    Stdlib = global_data.Stdlib,
    Dream_cipher_Cipher = global_data.Dream__cipher__Cipher,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Stdlib_List = global_data.Stdlib__List,
    _e_ = [0, 0.],
    _f_ = [0, 0],
    _b_ = [0, 870530776],
    _c_ = [0, -976972951],
    _a_ = [0, 3801155],
    _d_ = [0, 3801155],
    cst_dream_cookie$0 = cst_dream_cookie$1,
    cst_Set_Cookie = "Set-Cookie",
    cst_dream_cookie = cst_dream_cookie$1,
    cst_Host = cst_Host$1,
    cst_Secure = cst_Secure$1,
    cst_Host$0 = cst_Host$1,
    cst_Secure$0 = cst_Secure$1,
    cst_Cookie = "Cookie";
   function all_cookies(request){
    var
     _q_ = caml_call2(Dream_pure_Message[10], request, cst_Cookie),
     _r_ = caml_call1(caml_call1(Stdlib_List[20], Dream_pure_Formats[8]), _q_);
    return caml_call1(Stdlib_List[15], _r_);
   }
   function infer_cookie_prefix(prefix, domain, path, secure){
    if(prefix){
     var _p_ = prefix[1];
     return _p_ ? 803994504 <= _p_[1] ? cst_Host : cst_Secure : cst;
    }
    a:
    {
     if(! domain && path && ! runtime.caml_string_notequal(path[1], "/")){if(secure) return cst_Host$0; break a;}
     if(secure) return cst_Secure$0;
    }
    return cst$0;
   }
   function cookie(cookie_prefix, opt, domain, path, secure, request, name){
    if(opt)
     var sth = opt[1], decrypt_cookie = sth;
    else
     var decrypt_cookie = 1;
    if(path)
     var path$0 = path[1], path$1 = path$0;
    else
     var path$1 = [0, caml_call1(Dream_server_Router[16], request)];
    if(secure)
     var secure$0 = secure[1], secure$1 = secure$0;
    else
     var secure$1 = caml_call1(Dream_server_Helpers[5], request);
    var
     cookie_prefix$0 =
       infer_cookie_prefix(cookie_prefix, domain, path$1, secure$1),
     name$0 = caml_call2(Stdlib[28], cookie_prefix$0, name);
    function test(param){
     var name = param[1];
     return runtime.caml_string_equal(name$0, name);
    }
    var
     _n_ = all_cookies(request),
     match = caml_call1(caml_call1(Stdlib_List[40], test), _n_);
    if(! match) return 0;
    var value = match[1][2];
    if(! decrypt_cookie) return [0, value];
    var match$0 = caml_call1(Dream_pure_Formats[3], value);
    if(! match$0) return 0;
    var
     value$0 = match$0[1],
     _o_ = [0, caml_call2(Stdlib[28], cst_dream_cookie, name$0)];
    return caml_call3(Dream_cipher_Cipher[8], _o_, request, value$0);
   }
   function set_cookie
   (cookie_prefix,
    opt,
    expires,
    max_age,
    domain,
    path,
    secure,
    _g_,
    same_site,
    response,
    request,
    name,
    value){
    if(opt)
     var sth = opt[1], encrypt_cookie = sth;
    else
     var encrypt_cookie = 1;
    if(_g_) var sth$0 = _g_[1], http_only = sth$0; else var http_only = 1;
    if(path)
     var path$0 = path[1], path$1 = path$0;
    else
     var path$1 = [0, caml_call1(Dream_server_Router[16], request)];
    if(secure)
     var secure$0 = secure[1], secure$1 = secure$0;
    else
     var secure$1 = caml_call1(Dream_server_Helpers[5], request);
    var
     cookie_prefix$0 =
       infer_cookie_prefix(cookie_prefix, domain, path$1, secure$1);
    if(same_site){
     var _h_ = same_site[1];
     if(_h_)
      var
       _i_ = _h_[1],
       _j_ = 3801155 === _i_ ? _a_ : 870530776 <= _i_ ? _b_ : _c_,
       _k_ = _j_;
     else
      var _k_ = 0;
     var same_site$0 = _k_;
    }
    else
     var same_site$0 = _d_;
    var name$0 = caml_call2(Stdlib[28], cookie_prefix$0, name);
    if(encrypt_cookie)
     var
      _l_ = [0, caml_call2(Stdlib[28], cst_dream_cookie$0, name$0)],
      _m_ = caml_call3(Dream_cipher_Cipher[7], _l_, request, value),
      value$0 = caml_call1(Dream_pure_Formats[2], _m_);
    else
     var value$0 = value;
    var
     set_cookie =
       caml_call9
        (Dream_pure_Formats[15],
         expires,
         max_age,
         domain,
         path$1,
         [0, secure$1],
         [0, http_only],
         same_site$0,
         name$0,
         value$0);
    return caml_call3
            (Dream_pure_Message[13], response, cst_Set_Cookie, set_cookie);
   }
   function drop_cookie
   (prefix,
    domain,
    path,
    secure,
    http_only,
    same_site,
    response,
    request,
    name){
    return set_cookie
            (prefix,
             _f_,
             _e_,
             0,
             domain,
             path,
             secure,
             http_only,
             same_site,
             response,
             request,
             name,
             cst$1);
   }
   var
    Dream_server_Cookie =
      [0, all_cookies, infer_cookie_prefix, cookie, set_cookie, drop_cookie];
   runtime.caml_register_global
    (25, Dream_server_Cookie, "Dream__server__Cookie");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Session
//# unitInfo: Requires: Dream__cipher__Random, Dream__server__Cookie, Dream__server__Log, Dream_pure__Formats, Dream_pure__Message, Lwt, Ptime, Stdlib, Stdlib__Hashtbl, Stdlib__List, Stdlib__Option, Stdlib__Printf, Stdlib__String, Yojson__Basic
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_dream_session = "dream.session",
    cst_expires_at$0 = "expires_at",
    cst_id$0 = "id",
    cst_label$0 = "label",
    cst_payload$0 = "payload",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_ml_string_length = runtime.caml_ml_string_length,
    caml_string_notequal = runtime.caml_string_notequal,
    caml_update_dummy = runtime.caml_update_dummy,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   function caml_call7(f, a0, a1, a2, a3, a4, a5, a6){
    return (f.l >= 0 ? f.l : f.l = f.length) == 7
            ? f(a0, a1, a2, a3, a4, a5, a6)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6]);
   }
   function caml_call13
   (f, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12){
    return (f.l >= 0 ? f.l : f.l = f.length) == 13
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12)
            : runtime.caml_call_gen
              (f, [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = ", ",
    message = "Missing session middleware",
    session_cookie = cst_dream_session,
    Stdlib_List = global_data.Stdlib__List,
    Ptime = global_data.Ptime,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Stdlib_String = global_data.Stdlib__String,
    Yojson_Basic = global_data.Yojson__Basic,
    Dream_server_Cookie = global_data.Dream__server__Cookie,
    Lwt = global_data.Lwt,
    Stdlib = global_data.Stdlib,
    Stdlib_Hashtbl = global_data.Stdlib__Hashtbl,
    Dream_cipher_Random = global_data.Dream__cipher__Random,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Dream_server_Log = global_data.Dream__server__Log,
    Stdlib_Option = global_data.Stdlib__Option,
    log = caml_call2(Dream_server_Log[19], 0, cst_dream_session),
    _f_ = [0, [3, 0, [11, ": ", [3, 0, 0]]], "%S: %S"],
    _g_ = [0, [2, 0, [11, " [", [2, 0, [12, 93, 0]]]], "%s [%s]"],
    cst_payload = cst_payload$0,
    cst_expires_at = cst_expires_at$0,
    cst_label = cst_label$0,
    cst_id = cst_id$0,
    cst_Bad_payload = "Bad payload",
    _d_ = [0, 0],
    _c_ = [0, 0],
    cst_0 = "0",
    _b_ = [0, cst_dream_session],
    _a_ = [0, [2, 0, 0], "%s"];
   function typed_middleware(show_value, param){
    var field = caml_call3(Dream_pure_Message[39], _b_, show_value, 0);
    function _ai_(request){
     var match = caml_call2(Dream_pure_Message[40], request, field);
     if(match){var session = match[1]; return session;}
     function _an_(log){return caml_call3(log, [0, request], _a_, message);}
     caml_call1(log[1], _an_);
     return caml_call1(Stdlib[2], message);
    }
    return [0,
            function(back_end, inner_handler, request){
             var ppx_lwt_0 = caml_call1(back_end[1], request);
             function _aj_(session){
              caml_call3(Dream_pure_Message[41], request, field, session);
              var ppx_lwt_0 = caml_call1(inner_handler, request);
              function _al_(response){
               return caml_call3(back_end[2], session, request, response);
              }
              function _am_(exn){
               try{throw caml_maybe_attach_backtrace(exn, 0);}
               catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
              }
              return caml_call3(Lwt[81], _am_, ppx_lwt_0, _al_);
             }
             function _ak_(exn){
              try{throw caml_maybe_attach_backtrace(exn, 0);}
              catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
             }
             return caml_call3(Lwt[81], _ak_, ppx_lwt_0, _aj_);
            },
            _ai_];
   }
   var symbol = Stdlib_Option[5];
   function new_id(param){
    var _ah_ = caml_call1(Dream_cipher_Random[5], 18);
    return caml_call1(Dream_pure_Formats[2], _ah_);
   }
   function new_label(param){
    var _ag_ = caml_call1(Dream_cipher_Random[5], 9);
    return caml_call1(Dream_pure_Formats[2], _ag_);
   }
   function version_session_id(id){return caml_call2(Stdlib[28], cst_0, id);}
   function read_session_id(id){
    return 1 <= caml_ml_string_length(id)
            ? 48
              === runtime.caml_string_get(id, 0)
              ? [0,
                caml_call3
                 (Stdlib_String[16], id, 1, caml_ml_string_length(id) - 1 | 0)]
              : 0
            : 0;
   }
   function create(hash_table, expires_at){
    for(;;){
     var id = new_id(0);
     if(! caml_call2(Stdlib_Hashtbl[9], hash_table, id)){
      var session = [0, id, new_label(0), expires_at, 0];
      caml_call3(Stdlib_Hashtbl[11], hash_table, id, session);
      return session;
     }
    }
   }
   function put(session, name, value){
    var
     _af_ = session[4],
     dictionary = caml_call1(caml_call1(Stdlib_List[55], name), _af_),
     dictionary$0 = [0, [0, name, value], dictionary];
    session[4] = dictionary$0;
    return Lwt[36];
   }
   function drop(session, name){
    var
     _ae_ = session[4],
     dictionary = caml_call1(caml_call1(Stdlib_List[55], name), _ae_);
    session[4] = dictionary;
    return Lwt[36];
   }
   function invalidate(hash_table, now, lifetime, operations, session){
    caml_call2(Stdlib_Hashtbl[10], hash_table, session[1][1]);
    session[1] = create(hash_table, caml_call1(now, 0) + lifetime);
    operations[4] = 1;
    return Lwt[36];
   }
   function operations(now, hash_table, lifetime, session, dirty){
    var operations = [];
    function _ac_(param){
     return invalidate(hash_table, now, lifetime, operations, session);
    }
    function _ad_(name){return drop(session[1], name);}
    caml_update_dummy
     (operations,
      [0,
       function(name, value){return put(session[1], name, value);},
       _ad_,
       _ac_,
       dirty]);
    return operations;
   }
   function load(gettimeofday, hash_table, lifetime, request){
    var now = caml_call1(gettimeofday, 0);
    function _$_(session){
     return now < session[3]
             ? [0, session]
             : (caml_call2(Stdlib_Hashtbl[10], hash_table, session[1]), 0);
    }
    var
     _aa_ = caml_call1(Stdlib_Hashtbl[7], hash_table),
     valid_session =
       caml_call2
        (symbol,
         caml_call2
          (symbol,
           caml_call2
            (symbol,
             caml_call7
              (Dream_server_Cookie[3],
               0,
               _c_,
               0,
               0,
               0,
               request,
               session_cookie),
             read_session_id),
           _aa_),
         _$_);
    if(valid_session){
     var session = valid_session[1];
     if(lifetime / 2. < session[3] - now)
      var session$0 = session, dirty = 0;
     else{session[3] = now + lifetime; var session$0 = session, dirty = 1;}
    }
    else
     var
      session$2 = create(hash_table, now + lifetime),
      session$0 = session$2,
      dirty = 1;
    var
     session$1 = [0, session$0],
     _ab_ =
       [0,
        operations(gettimeofday, hash_table, lifetime, session$1, dirty),
        session$1];
    return caml_call1(Lwt[4], _ab_);
   }
   function send(now, param, request, response){
    var session = param[2], operations = param[1];
    if(operations[4]){
     var
      id = version_session_id(session[1][1]),
      ___ = caml_call1(now, 0),
      max_age = session[1][3] - ___;
     caml_call13
      (Dream_server_Cookie[4],
       0,
       _d_,
       0,
       [0, max_age],
       0,
       0,
       0,
       0,
       0,
       response,
       request,
       session_cookie,
       id);
    }
    return caml_call1(Lwt[4], response);
   }
   function back_end(now, lifetime){
    var hash_table = caml_call2(Stdlib_Hashtbl[1], 0, 256);
    function _V_(_X_, _Y_, _Z_){return send(now, _X_, _Y_, _Z_);}
    return [0,
            function(_W_){return load(now, hash_table, lifetime, _W_);},
            _V_];
   }
   var
    Memory =
      [0, create, put, drop, invalidate, operations, load, send, back_end];
   function create$0(expires_at){
    var _U_ = new_label(0);
    return [0, new_id(0), _U_, expires_at, 0];
   }
   function put$0(operations, session, name, value){
    var
     _T_ = session[4],
     dictionary = caml_call1(caml_call1(Stdlib_List[55], name), _T_),
     dictionary$0 = [0, [0, name, value], dictionary];
    session[4] = dictionary$0;
    operations[4] = 1;
    return Lwt[36];
   }
   function drop$0(operations, session, name){
    var
     _S_ = session[4],
     dictionary = caml_call1(caml_call1(Stdlib_List[55], name), _S_);
    session[4] = dictionary;
    operations[4] = 1;
    return Lwt[36];
   }
   function invalidate$0(now, lifetime, operations, session){
    session[1] = create$0(caml_call1(now, 0) + lifetime);
    operations[4] = 1;
    return Lwt[36];
   }
   function operations$0(now, lifetime, session, dirty){
    var operations = [];
    function _Q_(param){
     return invalidate$0(now, lifetime, operations, session);
    }
    function _R_(name){return drop$0(operations, session[1], name);}
    caml_update_dummy
     (operations,
      [0,
       function(name, value){
        return put$0(operations, session[1], name, value);
       },
       _R_,
       _Q_,
       dirty]);
    return operations;
   }
   function load$0(gettimeofday, lifetime, request){
    var now = caml_call1(gettimeofday, 0);
    function _y_(value){
     var match = caml_call4(Yojson_Basic[33], 0, 0, 0, value);
     if(typeof match !== "number" && 963043957 === match[1]){
      var _A_ = match[2];
      if(_A_){
       var _B_ = _A_[1];
       if(! caml_string_notequal(_B_[1], cst_id$0)){
        var _C_ = _B_[2];
        if(typeof _C_ !== "number" && -976970511 === _C_[1]){
         var _D_ = _A_[2];
         if(_D_){
          var _E_ = _D_[1], id = _C_[2];
          if(! caml_string_notequal(_E_[1], cst_label$0)){
           var _F_ = _E_[2];
           if(typeof _F_ !== "number" && -976970511 === _F_[1]){
            var _G_ = _D_[2];
            if(_G_){
             var _H_ = _G_[1], label = _F_[2];
             if(! caml_string_notequal(_H_[1], cst_expires_at$0)){
              var _I_ = _G_[2];
              if(_I_){
               var _J_ = _I_[1], expires_at = _H_[2];
               if(! caml_string_notequal(_J_[1], cst_payload$0)){
                var _K_ = _J_[2];
                if
                 (typeof _K_ !== "number" && 963043957 === _K_[1] && ! _I_[2]){
                 var payload = _K_[2];
                 a:
                 {
                  b:
                  {
                   var
                    _L_ =
                      function(expires_at){
                       if(expires_at <= now) return 0;
                       function _P_(param){
                        var match = param[2];
                        if(typeof match !== "number" && -976970511 === match[1]){
                         var value = match[2], name = param[1];
                         return [0, name, value];
                        }
                        return caml_call1(Stdlib[2], cst_Bad_payload);
                       }
                       var
                        payload$0 =
                          caml_call1(caml_call1(Stdlib_List[20], _P_), payload);
                       return [0, [0, id, label, expires_at, payload$0]];
                      };
                   if(typeof expires_at !== "number"){
                    var _N_ = expires_at[1];
                    if(3654863 === _N_)
                     var n = expires_at[2], _O_ = [0, n];
                    else{
                     if(365180284 !== _N_) break b;
                     var n$0 = expires_at[2], _O_ = [0, n$0];
                    }
                    var _M_ = _O_;
                    break a;
                   }
                  }
                  var _M_ = 0;
                 }
                 return caml_call2(symbol, _M_, _L_);
                }
               }
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
     return 0;
    }
    var
     valid_session =
       caml_call2
        (symbol,
         caml_call2
          (symbol,
           caml_call7
            (Dream_server_Cookie[3], 0, 0, 0, 0, 0, request, session_cookie),
           read_session_id),
         _y_);
    if(valid_session){
     var session = valid_session[1];
     if(lifetime / 2. < session[3] - now)
      var session$0 = session, dirty = 0;
     else{session[3] = now + lifetime; var session$0 = session, dirty = 1;}
    }
    else
     var
      session$2 = create$0(now + lifetime),
      session$0 = session$2,
      dirty = 1;
    var
     session$1 = [0, session$0],
     _z_ =
       [0, operations$0(gettimeofday, lifetime, session$1, dirty), session$1];
    return caml_call1(Lwt[4], _z_);
   }
   function send$0(now, param, request, response){
    var session = param[2], operations = param[1];
    if(operations[4]){
     var
      _t_ = caml_call1(now, 0),
      max_age = session[1][3] - _t_,
      _u_ = 0,
      _v_ = session[1][4],
      _w_ =
        function(param){
         var value = param[2], name = param[1];
         return [0, name, [0, -976970511, value]];
        },
      _x_ =
        [0,
         [0,
          cst_payload,
          [0, 963043957, caml_call1(caml_call1(Stdlib_List[20], _w_), _v_)]],
         _u_],
      value =
        version_session_id
         (caml_call5
           (Yojson_Basic[1],
            0,
            0,
            0,
            0,
            [0,
             963043957,
             [0,
              [0, cst_id, [0, -976970511, session[1][1]]],
              [0,
               [0, cst_label, [0, -976970511, session[1][2]]],
               [0, [0, cst_expires_at, [0, 365180284, session[1][3]]], _x_]]]]));
     caml_call13
      (Dream_server_Cookie[4],
       0,
       0,
       0,
       [0, max_age],
       0,
       0,
       0,
       0,
       0,
       response,
       request,
       session_cookie,
       value);
    }
    return caml_call1(Lwt[4], response);
   }
   function back_end$0(now, lifetime){
    function _o_(_q_, _r_, _s_){return send$0(now, _q_, _r_, _s_);}
    return [0, function(_p_){return load$0(now, lifetime, _p_);}, _o_];
   }
   var
    Cookie =
      [0,
       create$0,
       put$0,
       drop$0,
       invalidate$0,
       operations$0,
       load$0,
       send$0,
       back_end$0],
    _e_ = 0,
    match =
      typed_middleware
       ([0,
         function(param){
          var session = param[2], _k_ = session[1][4];
          function _l_(param){
           var value = param[2], name = param[1];
           return caml_call3(Stdlib_Printf[4], _f_, name, value);
          }
          var
           _m_ = caml_call1(caml_call1(Stdlib_List[20], _l_), _k_),
           _n_ = caml_call1(caml_call1(Stdlib_String[7], cst), _m_);
          return caml_call1
                  (caml_call2(Stdlib_Printf[4], _g_, session[1][2]), _n_);
         }],
        _e_),
    getter = match[2],
    middleware = match[1],
    two_weeks = 1209600.;
   function Make(Pclock){
    function now(param){
     var _i_ = caml_call1(Pclock[1], 0), _j_ = caml_call1(Ptime[2], _i_);
     return caml_call1(Ptime[10], _j_);
    }
    function memory_sessions(opt){
     if(opt) var sth = opt[1], lifetime = sth; else var lifetime = two_weeks;
     return caml_call1(middleware, caml_call2(Memory[8], now, lifetime));
    }
    function cookie_sessions(opt){
     if(opt) var sth = opt[1], lifetime = sth; else var lifetime = two_weeks;
     return caml_call1(middleware, caml_call2(Cookie[8], now, lifetime));
    }
    return [0, now, memory_sessions, cookie_sessions];
   }
   function session(name, request){
    var _h_ = caml_call1(getter, request)[2][1][4];
    return caml_call2(Stdlib_List[50], name, _h_);
   }
   function put_session(name, value, request){
    return caml_call2(caml_call1(getter, request)[1][1], name, value);
   }
   function drop_session_field(request, name){
    return caml_call1(caml_call1(getter, request)[1][2], name);
   }
   function all_session_values(request){
    return caml_call1(getter, request)[2][1][4];
   }
   function invalidate_session(request){
    return caml_call1(caml_call1(getter, request)[1][3], 0);
   }
   function session_id(request){return caml_call1(getter, request)[2][1][1];}
   function session_label(request){
    return caml_call1(getter, request)[2][1][2];
   }
   function session_expires_at(request){
    return caml_call1(getter, request)[2][1][3];
   }
   var
    Dream_server_Session =
      [0,
       log,
       typed_middleware,
       session_cookie,
       symbol,
       new_id,
       new_label,
       version_session_id,
       read_session_id,
       version_session_id,
       read_session_id,
       Memory,
       Cookie,
       middleware,
       getter,
       two_weeks,
       Make,
       session,
       put_session,
       drop_session_field,
       all_session_values,
       invalidate_session,
       session_id,
       session_label,
       session_expires_at];
   runtime.caml_register_global
    (41, Dream_server_Session, "Dream__server__Session");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Csrf
//# unitInfo: Requires: Dream__cipher__Cipher, Dream__server__Log, Dream__server__Session, Dream_pure__Formats, Lwt, Stdlib, Yojson__Basic
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_CSRF_token_could_not_be_ve = "CSRF token could not be verified",
    cst_CSRF_token_expired = "CSRF token expired",
    cst_CSRF_token_not_Base64_enco = "CSRF token not Base64-encoded",
    cst_CSRF_token_not_for_this_se = "CSRF token not for this session",
    cst_CSRF_token_payload_invalid = "CSRF token payload invalid",
    cst_expires_at$0 = "expires_at",
    cst_session$0 = "session",
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    field_name = "dream.csrf",
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    Dream_cipher_Cipher = global_data.Dream__cipher__Cipher,
    Yojson_Basic = global_data.Yojson__Basic,
    Dream_server_Session = global_data.Dream__server__Session,
    Lwt = global_data.Lwt,
    Dream_server_Log = global_data.Dream__server__Log,
    _e_ =
      [0,
       [11, cst_CSRF_token_not_Base64_enco, 0],
       cst_CSRF_token_not_Base64_enco],
    _d_ =
      [0,
       [11, cst_CSRF_token_could_not_be_ve, 0],
       cst_CSRF_token_could_not_be_ve],
    _a_ =
      [0,
       [11, cst_CSRF_token_payload_invalid, 0],
       cst_CSRF_token_payload_invalid],
    _c_ = [0, [11, cst_CSRF_token_expired, 0], cst_CSRF_token_expired],
    _b_ =
      [0,
       [11, cst_CSRF_token_not_for_this_se, 0],
       cst_CSRF_token_not_for_this_se],
    cst_expires_at = cst_expires_at$0,
    cst_session = cst_session$0,
    default_valid_for = 3600.;
   function csrf_token(now, opt, request){
    if(opt)
     var sth = opt[1], valid_for = sth;
    else
     var valid_for = default_valid_for;
    var
     now$0 = caml_call1(now, 0),
     _w_ =
       [0,
        963043957,
        [0,
         [0,
          cst_session,
          [0, -976970511, caml_call1(Dream_server_Session[23], request)]],
         [0,
          [0, cst_expires_at, [0, 365180284, Math.floor(now$0 + valid_for)]],
          0]]],
     _x_ = caml_call5(Yojson_Basic[1], 0, 0, 0, 0, _w_),
     _y_ =
       caml_call1
        (caml_call2(Dream_cipher_Cipher[7], [0, field_name], request), _x_);
    return caml_call1(Dream_pure_Formats[2], _y_);
   }
   var log = caml_call2(Dream_server_Log[19], 0, field_name);
   function verify_csrf_token(now, request, token){
    var match = caml_call1(Dream_pure_Formats[3], token);
    if(match){
     var
      token$0 = match[1],
      match$0 =
        caml_call3(Dream_cipher_Cipher[8], [0, field_name], request, token$0);
     if(match$0){
      var token$1 = match$0[1];
      a:
      {
       b:
       {
        try{var val = caml_call4(Yojson_Basic[33], 0, 0, 0, token$1);}
        catch(_v_){break b;}
        if(typeof val !== "number" && 963043957 === val[1]){
         var _j_ = val[2];
         if(_j_){
          var _k_ = _j_[1];
          if(! caml_string_notequal(_k_[1], cst_session$0)){
           var _l_ = _k_[2];
           if(typeof _l_ !== "number" && -976970511 === _l_[1]){
            var _m_ = _j_[2];
            if(_m_){
             var _n_ = _m_[1], token_session_label = _l_[2];
             if(! caml_string_notequal(_n_[1], cst_expires_at$0)){
              var expires_at = _n_[2];
              if(typeof expires_at !== "number"){
               var _o_ = expires_at[1];
               if(3654863 !== _o_ && 365180284 !== _o_) break b;
               if(! _m_[2]){
                if(365180284 <= expires_at[1])
                 var n = expires_at[2], expires_at$0 = n;
                else
                 var n$0 = expires_at[2], expires_at$0 = n$0;
                var
                 real_session_label =
                   caml_call1(Dream_server_Session[23], request);
                if
                 (caml_string_notequal
                   (token_session_label, real_session_label)){
                 var
                  _p_ =
                    function(log){return caml_call2(log, [0, request], _b_);};
                 caml_call1(log[2], _p_);
                 var _q_ = 680209124;
                }
                else{
                 var now$0 = caml_call1(now, 0);
                 if(now$0 < expires_at$0)
                  var _r_ = 17724;
                 else{
                  var
                   _s_ =
                     function(log){return caml_call2(log, [0, request], _c_);};
                  caml_call1(log[2], _s_);
                  var _r_ = [0, -222591099, expires_at$0];
                 }
                 var _q_ = _r_;
                }
                var _g_ = _q_;
                break a;
               }
              }
             }
            }
           }
          }
         }
        }
       }
       var _f_ = function(log){return caml_call2(log, [0, request], _a_);};
       caml_call1(log[2], _f_);
       var _g_ = 144245463;
      }
      var _h_ = _g_;
     }
     else{
      var _t_ = function(log){return caml_call2(log, [0, request], _d_);};
      caml_call1(log[2], _t_);
      var _h_ = 144245463;
     }
     var _i_ = _h_;
    }
    else{
     var _u_ = function(log){return caml_call2(log, [0, request], _e_);};
     caml_call1(log[2], _u_);
     var _i_ = 144245463;
    }
    return caml_call1(Lwt[4], _i_);
   }
   var
    Dream_server_Csrf =
      [0, field_name, default_valid_for, csrf_token, log, verify_csrf_token];
   runtime.caml_register_global(18, Dream_server_Csrf, "Dream__server__Csrf");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Form
//# unitInfo: Requires: Dream__server__Csrf, Dream__server__Log, Dream_pure__Formats, Dream_pure__Message, Lwt, Stdlib__List, Stdlib__String
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_CSRF_token_duplicated = "CSRF token duplicated",
    cst_CSRF_token_missing = "CSRF token missing",
    cst_Content_Type_not_applicati =
      "Content-Type not 'application/x-www-form-urlencoded'",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    Lwt = global_data.Lwt,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Stdlib_String = global_data.Stdlib__String,
    Dream_server_Csrf = global_data.Dream__server__Csrf,
    Stdlib_List = global_data.Stdlib__List,
    Dream_server_Log = global_data.Dream__server__Log,
    log = caml_call2(Dream_server_Log[19], 0, "dream.form"),
    cst_Content_Type = "Content-Type",
    _c_ =
      [0,
       [11, cst_Content_Type_not_applicati, 0],
       cst_Content_Type_not_applicati],
    _b_ = [0, [11, cst_CSRF_token_missing, 0], cst_CSRF_token_missing],
    _a_ = [0, [11, cst_CSRF_token_duplicated, 0], cst_CSRF_token_duplicated];
   function sort(form){
    function _o_(param, _p_){
     var key = _p_[1], key$0 = param[1];
     return caml_call2(Stdlib_String[10], key$0, key);
    }
    return caml_call2(Stdlib_List[60], _o_, form);
   }
   function sort_and_check_form(now, to_value, form, request){
    function _h_(param){
     var name = param[1];
     return runtime.caml_string_equal(name, Dream_server_Csrf[1]);
    }
    var
     match = caml_call2(Stdlib_List[47], _h_, form),
     form$0 = match[2],
     csrf_token = match[1],
     form$1 = sort(form$0);
    if(! csrf_token){
     var _m_ = function(log){return caml_call2(log, [0, request], _b_);};
     caml_call1(log[2], _m_);
     return caml_call1(Lwt[4], [0, 464415232, form$1]);
    }
    var value = csrf_token[1][2];
    if(csrf_token[2]){
     var _i_ = function(log){return caml_call2(log, [0, request], _a_);};
     caml_call1(log[2], _i_);
     return caml_call1(Lwt[4], [0, -871438822, form$1]);
    }
    function _j_(exn){throw caml_maybe_attach_backtrace(exn, 0);}
    function _k_(param){
     if(typeof param === "number")
      return 144245463 === param
              ? caml_call1(Lwt[4], [0, 685770833, form$1])
              : 680209124
                <= param
                ? caml_call1(Lwt[4], [0, 680209124, form$1])
                : caml_call1(Lwt[4], [0, 17724, form$1]);
     var time = param[2];
     return caml_call1(Lwt[4], [0, -222591099, [0, form$1, time]]);
    }
    function _l_(param){
     var _n_ = caml_call1(to_value, value);
     return caml_call3(Dream_server_Csrf[5], now, request, _n_);
    }
    return caml_call3(Lwt[9], _l_, _k_, _j_);
   }
   function wrong_content_type(request){
    function _g_(log){return caml_call2(log, [0, request], _c_);}
    caml_call1(log[2], _g_);
    return caml_call1(Lwt[4], -63947662);
   }
   function form(opt, now, request){
    if(opt) var sth = opt[1], csrf = sth; else var csrf = 1;
    var match = caml_call2(Dream_pure_Message[9], request, cst_Content_Type);
    if(! match) return wrong_content_type(request);
    var
     content_type = match[1],
     match$0 = caml_call2(Stdlib_String[17], 59, content_type);
    if
     (match$0
      &&
       !
       runtime.caml_string_notequal
        (match$0[1], "application/x-www-form-urlencoded")){
     var
      ppx_lwt_0 = caml_call1(Dream_pure_Message[19], request),
      _d_ =
        function(body){
         var form = caml_call1(Dream_pure_Formats[7], body);
         if(csrf)
          return sort_and_check_form
                  (now, function(string){return string;}, form, request);
         var _f_ = [0, 17724, sort(form)];
         return caml_call1(Lwt[4], _f_);
        },
      _e_ =
        function(exn){
         try{throw caml_maybe_attach_backtrace(exn, 0);}
         catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
        };
     return caml_call3(Lwt[81], _e_, ppx_lwt_0, _d_);
    }
    return wrong_content_type(request);
   }
   var
    Dream_server_Form =
      [0, log, sort, sort_and_check_form, wrong_content_type, form];
   runtime.caml_register_global(13, Dream_server_Form, "Dream__server__Form");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Upload
//# unitInfo: Requires: CamlinternalOO, Dream__server__Form, Dream__server__Log, Dream_pure__Message, Lwt, Lwt_stream, Multipart_form, Multipart_form_lwt, Stdlib, Stdlib__List, Stdlib__Map, Stdlib__Option, Stdlib__Result, Stdlib__String, Unstrctrd
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$3 = "",
    cst$2 = "\r\n",
    cst_Content_Type$1 = "Content-Type",
    cst_End_of_the_part = "End of the part.",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_string_notequal = runtime.caml_string_notequal,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = cst$2,
    message =
      "The request does not have 'Content-Type: multipart/form_data; ...'",
    cst$1 = cst$3,
    cst$0 = cst$2,
    Lwt_stream = global_data.Lwt_stream,
    Lwt = global_data.Lwt,
    Multipart_form = global_data.Multipart_form,
    Stdlib_List = global_data.Stdlib__List,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Stdlib = global_data.Stdlib,
    Stdlib_Result = global_data.Stdlib__Result,
    Multipart_form_lwt = global_data.Multipart_form_lwt,
    Stdlib_Option = global_data.Stdlib__Option,
    Dream_server_Form = global_data.Dream__server__Form,
    CamlinternalOO = global_data.CamlinternalOO,
    Unstrctrd = global_data.Unstrctrd,
    Dream_server_Log = global_data.Dream__server__Log,
    Stdlib_String = global_data.Stdlib__String,
    Stdlib_Map = global_data.Stdlib__Map,
    _d_ = [0, [2, 0, 0], "%s"],
    cst_Content_Type = cst_Content_Type$1,
    cst_Content_Type$0 = cst_Content_Type$1,
    _b_ = [0, [11, cst_End_of_the_part, 0], cst_End_of_the_part],
    _a_ = [0, "dream.multipart"],
    cst_dream_upload = "dream.upload";
   function initial_multipart_state(param){
    return [0, 1, 0, 0, caml_call1(Lwt_stream[12], 0)];
   }
   var multipart_state_field = caml_call3(Dream_pure_Message[39], _a_, 0, 0);
   function multipart_state(request){
    var
     match =
       caml_call2(Dream_pure_Message[40], request, multipart_state_field);
    if(match){var state = match[1]; return state;}
    var state$0 = initial_multipart_state(0);
    caml_call3
     (Dream_pure_Message[41], request, multipart_state_field, state$0);
    return state$0;
   }
   function field_to_string(request, field){
    var field_name = field[1];
    switch(field[2]){
      case 0:
       var v = field[3];
       return [0, field_name, caml_call1(Multipart_form[2][8], v)];
      case 1:
       var v$0 = field[3];
       return [0, field_name, caml_call1(Multipart_form[3][3], v$0)];
      case 2:
       var v$1 = field[3], state = multipart_state(request);
       state[3] = caml_call1(Multipart_form[4][3], v$1);
       state[2] = caml_call1(Multipart_form[4][2], v$1);
       return [0, field_name, caml_call1(Multipart_form[4][8], v$1)];
      default:
       var v$2 = field[3];
       return [0, field_name, caml_call2(Unstrctrd[7], 0, v$2)];
    }
   }
   var log = caml_call2(Dream_server_Log[19], 0, cst_dream_upload);
   function upload_part(request){
    var state = multipart_state(request);
    function _M_(exn){throw caml_maybe_attach_backtrace(exn, 0);}
    function _N_(param){
     if(! param) return Lwt[37];
     var stream = param[1][3];
     function _P_(exn){throw caml_maybe_attach_backtrace(exn, 0);}
     function _Q_(v){
      if(v) return caml_call1(Lwt[4], v);
      function _S_(m){return caml_call2(m, 0, _b_);}
      caml_call1(log[4], _S_);
      var ppx_lwt_0 = caml_call1(Lwt_stream[27], state[4]);
      function _T_(param){return Lwt[37];}
      function _U_(exn){
       try{throw caml_maybe_attach_backtrace(exn, 0);}
       catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
      }
      return caml_call3(Lwt[81], _U_, ppx_lwt_0, _T_);
     }
     function _R_(param){return caml_call1(Lwt_stream[21], stream);}
     return caml_call3(Lwt[9], _R_, _Q_, _P_);
    }
    function _O_(param){return caml_call1(Lwt_stream[19], state[4]);}
    return caml_call3(Lwt[9], _O_, _N_, _M_);
   }
   var _c_ = [0, 0];
   function identify(param){
    if(! _c_[1]){
     var
      _J_ = caml_call1(CamlinternalOO[16], 0),
      _K_ = function(_L_){return caml_call2(CamlinternalOO[24], 0, _J_);};
     caml_call1(CamlinternalOO[17], _J_);
     _c_[1] = _K_;
    }
    return caml_call1(_c_[1], 0);
   }
   function state(request){
    var state = multipart_state(request), stream = state[4];
    function _B_(exn){throw caml_maybe_attach_backtrace(exn, 0);}
    function _C_(param){
     if(param){
      var
       headers = param[1][2],
       _E_ = caml_call1(Multipart_form[6][6], headers),
       _F_ = function(_I_){return field_to_string(request, _I_);},
       headers$0 = caml_call1(caml_call1(Stdlib_List[20], _F_), _E_),
       part = [0, state[2], state[3], headers$0];
      return caml_call1(Lwt[4], [0, part]);
     }
     var ppx_lwt_0 = caml_call1(Lwt_stream[27], stream);
     function _G_(param){return Lwt[37];}
     function _H_(exn){
      try{throw caml_maybe_attach_backtrace(exn, 0);}
      catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
     }
     return caml_call3(Lwt[81], _H_, ppx_lwt_0, _G_);
    }
    function _D_(param){return caml_call1(Lwt_stream[19], stream);}
    return caml_call3(Lwt[9], _D_, _C_, _B_);
   }
   function upload(request){
    var state$0 = multipart_state(request);
    if(! state$0[1]) return state(request);
    var match = caml_call2(Dream_pure_Message[9], request, cst_Content_Type);
    if(match)
     var
      content_type = match[1],
      _s_ = caml_call2(Stdlib[28], content_type, cst),
      _t_ = caml_call1(Multipart_form[2][7], _s_),
      content_type$0 = caml_call1(Stdlib_Result[17], _t_);
    else
     var content_type$0 = 0;
    if(content_type$0){
     var
      content_type$1 = content_type$0[1],
      _u_ =
        function(param){
         var _A_ = caml_call1(Dream_pure_Message[28], request);
         return caml_call1(Dream_pure_Message[23], _A_);
        },
      body = caml_call1(Lwt_stream[1], _u_),
      _v_ =
        caml_call4(Multipart_form_lwt[1], 0, identify, body, content_type$1),
      stream = _v_[2],
      th = _v_[1][2],
      _w_ =
        function(param){
         function _y_(param){return Lwt[36];}
         function _z_(exn){
          try{throw caml_maybe_attach_backtrace(exn, 0);}
          catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
         }
         return caml_call3(Lwt[81], _z_, th, _y_);
        };
     caml_call1(Lwt[11], _w_);
     state$0[4] = stream;
     state$0[1] = 0;
     return state(request);
    }
    function _x_(log){return caml_call3(log, 0, _d_, message);}
    caml_call1(log[1], _x_);
    return caml_call1(Stdlib[2], message);
   }
   var Map = caml_call1(Stdlib_Map[1], [0, Stdlib_String[10]]);
   function multipart(opt, now, request){
    if(opt) var sth = opt[1], csrf = sth; else var csrf = 1;
    var
     match = caml_call2(Dream_pure_Message[9], request, cst_Content_Type$0);
    if(match)
     var
      content_type = match[1],
      _e_ = caml_call2(Stdlib[28], content_type, cst$0),
      _f_ = caml_call1(Multipart_form[2][7], _e_),
      content_type$0 = caml_call1(Stdlib_Result[17], _f_);
    else
     var content_type$0 = 0;
    if(! content_type$0) return caml_call1(Lwt[4], -63947662);
    var content_type$1 = content_type$0[1];
    function _g_(param){
     var _r_ = caml_call1(Dream_pure_Message[28], request);
     return caml_call1(Dream_pure_Message[23], _r_);
    }
    var body = caml_call1(Lwt_stream[1], _g_);
    function _h_(exn){throw caml_maybe_attach_backtrace(exn, 0);}
    function _i_(param){
     if(0 !== param[0]) return caml_call1(Lwt[4], -63947662);
     var
      match = param[1],
      assoc = match[2],
      tree = match[1],
      tree$0 = caml_call1(Multipart_form[8], tree);
     function fold(acc, param){
      var
       uid = param[2],
       header = param[1],
       contents = caml_call2(Stdlib_List[49], uid, assoc),
       content_disposition = caml_call1(Multipart_form[6][5], header),
       filename =
         caml_call2
          (Stdlib_Option[5], content_disposition, Multipart_form[4][3]),
       match =
         caml_call2
          (Stdlib_Option[5], content_disposition, Multipart_form[4][2]);
      if(! match) return acc;
      var name = match[1], match$0 = caml_call2(Map[18], name, acc);
      if(match$0) var vs = match$0[1], vs$0 = vs; else var vs$0 = 0;
      return caml_call3(Map[2], name, [0, [0, filename, contents], vs$0], acc);
     }
     var
      _k_ = caml_call3(Stdlib_List[26], fold, Map[1], tree$0),
      _l_ = caml_call1(Map[10], _k_);
     function _m_(param){
      var values = param[2], name = param[1];
      if(values){
       var _p_ = values[1], _q_ = _p_[1];
       if
        (_q_
         &&
          !
          caml_string_notequal(_q_[1], cst$3)
          && ! caml_string_notequal(_p_[2], cst$3) && ! values[2])
        return [0, name, 0];
      }
      return [0, name, caml_call1(Stdlib_List[10], values)];
     }
     var parts = caml_call1(caml_call1(Stdlib_List[20], _m_), _l_);
     if(csrf){
      var
       _n_ =
         function(param){
          if(param){
           var _o_ = param[1];
           if(! _o_[1] && ! param[2]){var value = _o_[2]; return value;}
          }
          return cst$1;
         };
      return caml_call4(Dream_server_Form[3], now, _n_, parts, request);
     }
     var form = caml_call1(Dream_server_Form[2], parts);
     return caml_call1(Lwt[4], [0, 17724, form]);
    }
    function _j_(param){
     return caml_call2(Multipart_form_lwt[2], body, content_type$1);
    }
    return caml_call3(Lwt[9], _j_, _i_, _h_);
   }
   var
    Dream_server_Upload =
      [0,
       initial_multipart_state,
       multipart_state_field,
       multipart_state,
       field_to_string,
       log,
       upload_part,
       identify,
       state,
       upload,
       Map,
       multipart];
   runtime.caml_register_global
    (27, Dream_server_Upload, "Dream__server__Upload");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Tag
//# unitInfo: Requires: Dream__server__Csrf, Dream_pure, Dream_pure__Formats, Stdlib__Buffer, Stdlib__Printf
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, cst_s = "%s";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = '">\n',
    Dream_server_Csrf = global_data.Dream__server__Csrf,
    Stdlib_Buffer = global_data.Stdlib__Buffer,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    html_escape = Dream_pure_Formats[1],
    to_base64url = Dream_pure_Formats[2],
    from_base64url = Dream_pure_Formats[3],
    to_percent_encoded = Dream_pure_Formats[4],
    from_percent_encoded = Dream_pure_Formats[5],
    to_form_urlencoded = Dream_pure_Formats[6],
    from_form_urlencoded = Dream_pure_Formats[7],
    from_cookie = Dream_pure_Formats[8],
    split_target = Dream_pure_Formats[9],
    from_path = Dream_pure_Formats[10],
    to_path = Dream_pure_Formats[11],
    drop_trailing_slash = Dream_pure_Formats[12],
    text_html = Dream_pure_Formats[13],
    application_json = Dream_pure_Formats[14],
    to_set_cookie = Dream_pure_Formats[15],
    Dream =
      [0,
       html_escape,
       to_base64url,
       from_base64url,
       to_percent_encoded,
       from_percent_encoded,
       to_form_urlencoded,
       from_form_urlencoded,
       from_cookie,
       split_target,
       from_path,
       to_path,
       drop_trailing_slash,
       text_html,
       application_json,
       to_set_cookie],
    cst_input_name = '<input name="',
    _a_ = [0, [2, 0, 0], cst_s],
    cst_type_hidden_value = '" type="hidden" value="',
    _b_ = [0, [2, 0, 0], cst_s];
   function csrf_tag(now, request){
    var
     token = caml_call3(Dream_server_Csrf[3], now, 0, request),
     eml_buffer = caml_call1(Stdlib_Buffer[1], 4096);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst_input_name);
    caml_call3(Stdlib_Printf[5], eml_buffer, _a_, Dream_server_Csrf[1]);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst_type_hidden_value);
    caml_call3(Stdlib_Printf[5], eml_buffer, _b_, token);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst);
    return caml_call1(Stdlib_Buffer[2], eml_buffer);
   }
   var Dream_server_Tag = [0, Dream, csrf_tag];
   runtime.caml_register_global(9, Dream_server_Tag, "Dream__server__Tag");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Site_prefix
//# unitInfo: Requires: Dream__server__Router, Dream_pure__Formats, Dream_pure__Message, Dream_pure__Stream, Lwt, Stdlib__List
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Dream_server_Router = global_data.Dream__server__Router,
    Stdlib_List = global_data.Stdlib__List,
    Dream_pure_Stream = global_data.Dream_pure__Stream,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Lwt = global_data.Lwt,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    _a_ = [0, 339662858];
   function match_site_prefix(prefix, path){
    var prefix$0 = prefix, path$0 = path;
    for(;;){
     if(! prefix$0) return [0, path$0];
     if(! path$0) return 0;
     var
      path$1 = path$0[2],
      path_crumb = path$0[1],
      prefix$1 = prefix$0[2],
      prefix_crumb = prefix$0[1];
     if(! runtime.caml_equal(path_crumb, prefix_crumb)) return 0;
     var prefix$0 = prefix$1, path$0 = path$1;
    }
   }
   function with_site_prefix(prefix){
    var
     _b_ = caml_call1(Dream_pure_Formats[10], prefix),
     prefix$0 = caml_call1(Dream_pure_Formats[12], _b_);
    return function(next_handler, request){
     var
      match =
        match_site_prefix
         (prefix$0, caml_call1(Dream_server_Router[15], request));
     if(match){
      var path = match[1], _c_ = caml_call1(Stdlib_List[10], prefix$0);
      caml_call2(Dream_server_Router[18], request, _c_);
      caml_call2(Dream_server_Router[17], request, path);
      return caml_call1(next_handler, request);
     }
     var
      _d_ =
        caml_call5
         (Dream_pure_Message[6],
          _a_,
          0,
          0,
          Dream_pure_Stream[8],
          Dream_pure_Stream[7]);
     return caml_call1(Lwt[4], _d_);};
   }
   var Dream_server_Site_prefix = [0, match_site_prefix, with_site_prefix];
   runtime.caml_register_global
    (7, Dream_server_Site_prefix, "Dream__server__Site_prefix");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Query
//# unitInfo: Requires: Dream_pure__Formats, Dream_pure__Message, Stdlib__List
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Stdlib_List = global_data.Stdlib__List,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Dream_pure_Formats = global_data.Dream_pure__Formats;
   function all_queries(request){
    var
     _f_ = caml_call1(Dream_pure_Message[3], request),
     _g_ = caml_call1(Dream_pure_Formats[9], _f_)[2];
    return caml_call1(Dream_pure_Formats[7], _g_);
   }
   function query(request, name){
    var _e_ = all_queries(request);
    return caml_call2(Stdlib_List[50], name, _e_);
   }
   function queries(request, name){
    var _a_ = all_queries(request), _b_ = 0;
    function _c_(accumulator, param){
     var value = param[2], name$0 = param[1];
     return runtime.caml_string_equal(name$0, name)
             ? [0, value, accumulator]
             : accumulator;
    }
    var _d_ = caml_call1(caml_call2(Stdlib_List[26], _c_, _b_), _a_);
    return caml_call1(Stdlib_List[10], _d_);
   }
   var Dream_server_Query = [0, all_queries, query, queries];
   runtime.caml_register_global(3, Dream_server_Query, "Dream__server__Query");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Origin_referrer_check
//# unitInfo: Requires: Dream__server__Helpers, Dream__server__Log, Dream_pure__Message, Dream_pure__Stream, Lwt, Stdlib, Stdlib__String, Uri
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Host_header_missing = "Host header missing",
    cst_Origin_and_Referer_headers = "Origin and Referer headers both missing",
    caml_equal = runtime.caml_equal,
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Dream_pure_Message = global_data.Dream_pure__Message,
    Uri = global_data.Uri,
    Dream_server_Helpers = global_data.Dream__server__Helpers,
    Stdlib_String = global_data.Stdlib__String,
    Stdlib = global_data.Stdlib,
    Dream_pure_Stream = global_data.Dream_pure__Stream,
    Lwt = global_data.Lwt,
    Dream_server_Log = global_data.Dream__server__Log,
    log = caml_call2(Dream_server_Log[19], 0, "dream.origin"),
    _e_ =
      [0,
       [11, cst_Origin_and_Referer_headers, 0],
       cst_Origin_and_Referer_headers],
    _c_ = [0, [11, cst_Host_header_missing, 0], cst_Host_header_missing],
    _a_ =
      [0,
       [11,
        "Origin-Host mismatch: '",
        [2, 0, [11, "' vs. '", [2, 0, [12, 39, 0]]]]],
       "Origin-Host mismatch: '%s' vs. '%s'"],
    cst_Origin = "Origin",
    cst_Referer = "Referer",
    cst_Host = "Host",
    _b_ = [0, -949323947],
    _d_ = [0, -949323947],
    _f_ = [0, -949323947];
   function origin_referrer_check(inner_handler, request){
    var match = caml_call1(Dream_pure_Message[2], request);
    a:
    if(typeof match === "number"){
     if(3546230 !== match && 801894688 !== match) break a;
     return caml_call1(inner_handler, request);
    }
    var origin = caml_call2(Dream_pure_Message[9], request, cst_Origin);
    a:
    {
     if(origin && caml_string_notequal(origin[1], "null")){var origin$0 = origin; break a;}
     var origin$0 = caml_call2(Dream_pure_Message[9], request, cst_Referer);
    }
    if(! origin$0){
     var _n_ = function(log){return caml_call2(log, [0, request], _e_);};
     caml_call1(log[2], _n_);
     var
      _o_ =
        caml_call5
         (Dream_pure_Message[6],
          _f_,
          0,
          0,
          Dream_pure_Stream[8],
          Dream_pure_Stream[7]);
     return caml_call1(Lwt[4], _o_);
    }
    var
     origin$1 = origin$0[1],
     match$0 = caml_call2(Dream_pure_Message[9], request, cst_Host);
    if(! match$0){
     var _l_ = function(log){return caml_call2(log, [0, request], _c_);};
     caml_call1(log[2], _l_);
     var
      _m_ =
        caml_call5
         (Dream_pure_Message[6],
          _d_,
          0,
          0,
          Dream_pure_Stream[8],
          Dream_pure_Stream[7]);
     return caml_call1(Lwt[4], _m_);
    }
    var
     host = match$0[1],
     origin_uri = caml_call1(Uri[7], origin$1),
     match$1 = caml_call1(Uri[29], origin_uri);
    a:
    {
     b:
     if(match$1){
      var _g_ = match$1[1];
      if(caml_string_notequal(_g_, "http")){
       if(caml_string_notequal(_g_, "https")) break b;
       var _k_ = caml_call1(Dream_server_Helpers[5], request);
      }
      else
       var _k_ = 1 - caml_call1(Dream_server_Helpers[5], request);
      var schemes_match = _k_;
      break a;
     }
     var schemes_match = 0;
    }
    var match$2 = caml_call2(Stdlib_String[17], 58, host);
    a:
    {
     if(match$2){
      var _h_ = match$2[2];
      if(_h_ && ! _h_[2]){
       var
        port$0 = _h_[1],
        host$0 = match$2[1],
        host_port = [0, port$0],
        host_host$0 = [0, host$0];
       break a;
      }
     }
     var host_host = [0, host], host_port = 0, host_host$0 = host_host;
    }
    var match$3 = caml_call1(Uri[39], origin_uri);
    if(match$3)
     var port = match$3[1], origin_port = [0, caml_call1(Stdlib[33], port)];
    else
     var origin_port = 0;
    var
     hosts_match = caml_equal(caml_call1(Uri[36], origin_uri), host_host$0),
     ports_match = caml_equal(origin_port, host_port);
    if(schemes_match && hosts_match && ports_match)
     return caml_call1(inner_handler, request);
    function _i_(log){
     return caml_call4(log, [0, request], _a_, origin$1, host);
    }
    caml_call1(log[2], _i_);
    var
     _j_ =
       caml_call5
        (Dream_pure_Message[6],
         _b_,
         0,
         0,
         Dream_pure_Stream[8],
         Dream_pure_Stream[7]);
    return caml_call1(Lwt[4], _j_);
   }
   var Dream_server_Origin_referrer_c = [0, log, origin_referrer_check];
   runtime.caml_register_global
    (21,
     Dream_server_Origin_referrer_c,
     "Dream__server__Origin_referrer_check");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Livereload
//# unitInfo: Requires: Dream__server__Helpers, Dream_pure__Message, Lwt, Markup, Soup, Stdlib__Printf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_livereload = "/_livereload",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_string_notequal = runtime.caml_string_notequal,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    route = cst_livereload,
    Markup = global_data.Markup,
    Soup = global_data.Soup,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Lwt = global_data.Lwt,
    Dream_server_Helpers = global_data.Dream__server__Helpers,
    Stdlib_Printf = global_data.Stdlib__Printf,
    script =
      caml_call3
       (Stdlib_Printf[4],
        [0,
         [11,
          '\nvar socketUrl = "ws://" + location.host + "',
          [2,
           0,
           [11,
            '";\nvar s = new WebSocket(socketUrl);\n\ns.onopen = function(even) {\n  console.debug("Live reload: WebSocket connection open");\n};\n\ns.onclose = function(even) {\n  console.debug("Live reload: WebSocket connection closed");\n\n  var retryIntervalMs = ',
            [4,
             3,
             0,
             0,
             [11,
              ';\n\n  function reload() {\n    s2 = new WebSocket(socketUrl);\n\n    s2.onerror = function(event) {\n      setTimeout(reload, retryIntervalMs);\n    };\n\n    s2.onopen = function(event) {\n      location.reload();\n    };\n  };\n\n  reload();\n};\n\ns.onerror = function(event) {\n  console.debug("Live reload: WebSocket error:", event);\n};\n',
              0]]]]],
         '\nvar socketUrl = "ws://" + location.host + "%s";\nvar s = new WebSocket(socketUrl);\n\ns.onopen = function(even) {\n  console.debug("Live reload: WebSocket connection open");\n};\n\ns.onclose = function(even) {\n  console.debug("Live reload: WebSocket connection closed");\n\n  var retryIntervalMs = %i;\n\n  function reload() {\n    s2 = new WebSocket(socketUrl);\n\n    s2.onerror = function(event) {\n      setTimeout(reload, retryIntervalMs);\n    };\n\n    s2.onopen = function(event) {\n      location.reload();\n    };\n  };\n\n  reload();\n};\n\ns.onerror = function(event) {\n  console.debug("Live reload: WebSocket error:", event);\n};\n'],
        route,
        500),
    _a_ = [0, -188437701],
    cst_head = "head",
    cst_script = "script",
    cst_Content_Type = "Content-Type",
    retry_interval_ms = 500;
   function livereload(next_handler, request){
    var target = caml_call1(Dream_pure_Message[3], request);
    if(runtime.caml_string_equal(target, cst_livereload)){
     var
      _b_ =
        function(socket){
         var ppx_lwt_0 = caml_call1(Dream_server_Helpers[18], socket);
         function _m_(param){
          return caml_call2(Dream_pure_Message[33], 0, socket);
         }
         function _n_(exn){
          try{throw caml_maybe_attach_backtrace(exn, 0);}
          catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
         }
         return caml_call3(Lwt[81], _n_, ppx_lwt_0, _m_);
        };
     return caml_call3(Dream_server_Helpers[17], 0, 0, _b_);
    }
    var ppx_lwt_0 = caml_call1(next_handler, request);
    function _c_(response){
     var
      match = caml_call2(Dream_pure_Message[9], response, cst_Content_Type);
     a:
     if(match){
      var _e_ = match[1];
      if
       (caml_string_notequal(_e_, "text/html")
        && caml_string_notequal(_e_, "text/html; charset=utf-8"))
       break a;
      var
       ppx_lwt_0 = caml_call1(Dream_pure_Message[19], response),
       _f_ =
         function(body){
          var
           _h_ = caml_call1(Markup[10], body),
           _i_ = caml_call1(caml_call3(Markup[8], 0, 0, _a_), _h_),
           _j_ = caml_call1(Markup[4], _i_),
           soup = caml_call1(Soup[63], _j_),
           match = caml_call2(Soup[8][2], soup, cst_head);
          if(! match) return caml_call1(Lwt[4], response);
          var
           head = match[1],
           _k_ = caml_call6(Soup[66], 0, 0, 0, 0, [0, script], cst_script);
          caml_call1(caml_call1(Soup[69], head), _k_);
          var _l_ = caml_call1(Soup[60], soup);
          caml_call1(caml_call1(Dream_pure_Message[20], response), _l_);
          return caml_call1(Lwt[4], response);
         },
       _g_ =
         function(exn){
          try{throw caml_maybe_attach_backtrace(exn, 0);}
          catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
         };
      return caml_call3(Lwt[81], _g_, ppx_lwt_0, _f_);
     }
     return caml_call1(Lwt[4], response);
    }
    function _d_(exn){
     try{throw caml_maybe_attach_backtrace(exn, 0);}
     catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
    }
    return caml_call3(Lwt[81], _d_, ppx_lwt_0, _c_);
   }
   var
    Dream_server_Livereload =
      [0, route, retry_interval_ms, script, livereload];
   runtime.caml_register_global
    (14, Dream_server_Livereload, "Dream__server__Livereload");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Flash
//# unitInfo: Requires: Dream__server__Cookie, Dream__server__Log, Dream_pure__Message, Lwt, Stdlib, Stdlib__List, Stdlib__Option, Stdlib__String, Yojson__Basic
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_s = "%s",
    cst_dream_flash = "dream.flash",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_ml_string_length = runtime.caml_ml_string_length,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   function caml_call7(f, a0, a1, a2, a3, a4, a5, a6){
    return (f.l >= 0 ? f.l : f.l = f.length) == 7
            ? f(a0, a1, a2, a3, a4, a5, a6)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6]);
   }
   function caml_call13
   (f, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12){
    return (f.l >= 0 ? f.l : f.l = f.length) == 13
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12)
            : runtime.caml_call_gen
              (f, [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$1 = "",
    cst = ": ",
    cst$0 = ", ",
    message = "Missing flash message middleware",
    flash_cookie = cst_dream_flash,
    Stdlib_List = global_data.Stdlib__List,
    Dream_server_Cookie = global_data.Dream__server__Cookie,
    Yojson_Basic = global_data.Yojson__Basic,
    Lwt = global_data.Lwt,
    Stdlib = global_data.Stdlib,
    Stdlib_String = global_data.Stdlib__String,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Stdlib_Option = global_data.Stdlib__Option,
    Dream_server_Log = global_data.Dream__server__Log,
    log = caml_call2(Dream_server_Log[19], 0, cst_dream_flash),
    storage_field =
      caml_call3(Dream_pure_Message[39], [0, cst_dream_flash], 0, 0),
    symbol = Stdlib_Option[5],
    _d_ =
      [0,
       [11,
        "Flash messages exceed soft size limit (",
        [4, 0, 0, 0, [11, " bytes)", 0]]],
       "Flash messages exceed soft size limit (%d bytes)"],
    _e_ = [0, 0.],
    _b_ = [0, [11, "Flash messages: ", [2, 0, 0]], "Flash messages: %s"],
    cst_No_flash_messages = "No flash messages.",
    _c_ = [0, [2, 0, 0], cst_s],
    _a_ = [0, [2, 0, 0], cst_s],
    cst_Bad_flash_message_content = "Bad flash message content",
    five_minutes = 300.,
    content_byte_size_limit = 3072;
   function flash(request){
    function group(x){
     if(x){
      var match = x[2];
      if(match){
       var rest = match[2], x2 = match[1], x1 = x[1];
       return [0, [0, x1, x2], group(rest)];
      }
     }
     return 0;
    }
    function unpack(u){
     if(typeof u !== "number" && -976970511 === u[1]){var x = u[2]; return x;}
     return caml_call1(Stdlib[2], cst_Bad_flash_message_content);
    }
    function _q_(value){
     var match = caml_call4(Yojson_Basic[33], 0, 0, 0, value);
     if(typeof match !== "number" && 848054398 === match[1]){
      var y = match[2];
      return [0, group(caml_call2(Stdlib_List[20], unpack, y))];
     }
     return 0;
    }
    var
     x =
       caml_call2
        (symbol,
         caml_call7
          (Dream_server_Cookie[3], 0, 0, 0, 0, 0, request, flash_cookie),
         _q_);
    return caml_call2(Stdlib_Option[3], x, 0);
   }
   function put_flash(request, category, message$0){
    var match = caml_call2(Dream_pure_Message[40], request, storage_field);
    if(match)
     var outbox = match[1], outbox$0 = outbox;
    else{
     var
      _p_ = function(log){return caml_call3(log, [0, request], _a_, message);};
     caml_call1(log[1], _p_);
     var outbox$0 = caml_call1(Stdlib[2], message);
    }
    outbox$0[1] = [0, [0, category, message$0], outbox$0[1]];
    return 0;
   }
   function flash_messages(inner_handler, request){
    function _f_(log){
     var _l_ = flash(request);
     function _m_(param){
      var q = param[2], p = param[1], _o_ = caml_call2(Stdlib[28], cst, q);
      return caml_call2(Stdlib[28], p, _o_);
     }
     var
      _n_ = caml_call1(caml_call1(Stdlib_List[20], _m_), _l_),
      current = caml_call1(caml_call1(Stdlib_String[7], cst$0), _n_);
     return 0 < caml_ml_string_length(current)
             ? caml_call3(log, [0, request], _b_, current)
             : caml_call3(log, [0, request], _c_, cst_No_flash_messages);
    }
    caml_call1(log[4], _f_);
    var outbox = [0, 0];
    caml_call3(Dream_pure_Message[41], request, storage_field, outbox);
    var
     existing =
       caml_call7
        (Dream_server_Cookie[3], 0, 0, 0, 0, 0, request, flash_cookie),
     ppx_lwt_0 = caml_call1(inner_handler, request);
    function _g_(response){
     var entries = caml_call1(Stdlib_List[10], outbox[1]);
     a:
     {
      if(existing){
       if(! entries){
        caml_call13
         (Dream_server_Cookie[4],
          0,
          0,
          _e_,
          0,
          0,
          0,
          0,
          0,
          0,
          response,
          request,
          flash_cookie,
          cst$1);
        break a;
       }
      }
      else if(! entries) break a;
      var
       _i_ = 0,
       _j_ =
         function(param, a){
          var y = param[2], x = param[1];
          return [0, [0, -976970511, x], [0, [0, -976970511, y], a]];
         },
       content = caml_call3(Stdlib_List[27], _j_, entries, _i_),
       value =
         caml_call5(Yojson_Basic[1], 0, 0, 0, 0, [0, 848054398, content]);
      if(3072 <= caml_ml_string_length(value)){
       var
        _k_ =
          function(log){
           return caml_call3(log, [0, request], _d_, content_byte_size_limit);
          };
       caml_call1(log[2], _k_);
      }
      caml_call13
       (Dream_server_Cookie[4],
        0,
        0,
        0,
        [0, five_minutes],
        0,
        0,
        0,
        0,
        0,
        response,
        request,
        flash_cookie,
        value);
     }
     return caml_call1(Lwt[4], response);
    }
    function _h_(exn){
     try{throw caml_maybe_attach_backtrace(exn, 0);}
     catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
    }
    return caml_call3(Lwt[81], _h_, ppx_lwt_0, _g_);
   }
   var
    Dream_server_Flash =
      [0,
       log,
       five_minutes,
       storage_field,
       flash_cookie,
       content_byte_size_limit,
       symbol,
       flash,
       put_flash,
       flash_messages];
   runtime.caml_register_global
    (25, Dream_server_Flash, "Dream__server__Flash");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Error_template
//# unitInfo: Requires: Dream_pure, Dream_pure__Formats, Stdlib__Buffer, Stdlib__Printf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$1 = " ",
    cst_i = "%i",
    cst_s = "%s";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = cst$1,
    cst$0 = cst$1,
    Stdlib_Buffer = global_data.Stdlib__Buffer,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Dream_pure_Formats = global_data.Dream_pure__Formats,
    html_escape = Dream_pure_Formats[1],
    to_base64url = Dream_pure_Formats[2],
    from_base64url = Dream_pure_Formats[3],
    to_percent_encoded = Dream_pure_Formats[4],
    from_percent_encoded = Dream_pure_Formats[5],
    to_form_urlencoded = Dream_pure_Formats[6],
    from_form_urlencoded = Dream_pure_Formats[7],
    from_cookie = Dream_pure_Formats[8],
    split_target = Dream_pure_Formats[9],
    from_path = Dream_pure_Formats[10],
    to_path = Dream_pure_Formats[11],
    drop_trailing_slash = Dream_pure_Formats[12],
    text_html = Dream_pure_Formats[13],
    application_json = Dream_pure_Formats[14],
    to_set_cookie = Dream_pure_Formats[15],
    Dream =
      [0,
       html_escape,
       to_base64url,
       from_base64url,
       to_percent_encoded,
       from_percent_encoded,
       to_form_urlencoded,
       from_form_urlencoded,
       from_cookie,
       split_target,
       from_path,
       to_path,
       drop_trailing_slash,
       text_html,
       application_json,
       to_set_cookie],
    cst_DOCTYPE_html_html_lang_en_ =
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />\n    <style>\n\n    body {\n      color: rgb(17, 24, 39);\n      font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Open Sans, Helvetica Neue, Helvetica, Arial, sans-serif;\n      margin: 3rem 2rem;\n    }\n\n    h1 {\n      font-weight: 600;\n      margin: 0;\n    }\n\n    h2 {\n      font-weight: normal;\n    }\n\n    h3 {\n      font-size: 16px;\n      font-weight: normal;\n      border: 1px solid #ddd;\n      margin: 0;\n      padding: 1rem 1.5rem;\n    }\n\n    pre {\n      background-color: rgb(31, 41, 55);\n      color: white;\n      font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n      font-size: 16px;\n      line-height: 1.5;\n      margin: 0;\n      padding: 1rem;\n    }\n\n    <\/style>\n    <title>',
    _a_ = [0, [4, 3, 0, 0, 0], cst_i],
    _b_ = [0, [2, 0, 0], cst_s],
    cst_title_head_body_h1_An_erro =
      "<\/title>\n  <\/head>\n\n  <body>\n    <h1>An error occured!<\/h1>\n    <h2>",
    _c_ = [0, [4, 3, 0, 0, 0], cst_i],
    _d_ = [0, [2, 0, 0], cst_s],
    cst_h2_p_This_error_page_has_b =
      "<\/h2>\n    <p>\n      This error page has been generated by Dream's error handler.<br />\n      Remember to turn debugging mode off when deploying your application in\n      production.\n    <\/p>\n    <h3>Debug Dump<\/h3>\n    <pre><code>",
    _e_ = [0, [2, 0, 0], cst_s],
    cst_code_pre_body_html = "<\/code><\/pre>\n  <\/body>\n<\/html>\n";
   function render(debug_dump, code, reason){
    var eml_buffer = caml_call1(Stdlib_Buffer[1], 4096);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst_DOCTYPE_html_html_lang_en_);
    caml_call3(Stdlib_Printf[5], eml_buffer, _a_, code);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst);
    var _f_ = caml_call1(Dream[1], reason);
    caml_call3(Stdlib_Printf[5], eml_buffer, _b_, _f_);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst_title_head_body_h1_An_erro);
    caml_call3(Stdlib_Printf[5], eml_buffer, _c_, code);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst$0);
    var _g_ = caml_call1(Dream[1], reason);
    caml_call3(Stdlib_Printf[5], eml_buffer, _d_, _g_);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst_h2_p_This_error_page_has_b);
    var _h_ = caml_call1(Dream[1], debug_dump);
    caml_call3(Stdlib_Printf[5], eml_buffer, _e_, _h_);
    caml_call2(Stdlib_Buffer[16], eml_buffer, cst_code_pre_body_html);
    return caml_call1(Stdlib_Buffer[2], eml_buffer);
   }
   var Dream_server_Error_template = [0, Dream, render];
   runtime.caml_register_global
    (14, Dream_server_Error_template, "Dream__server__Error_template");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Echo
//# unitInfo: Requires: Dream_pure__Message, Dream_pure__Stream, Lwt
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Dream_pure_Stream = global_data.Dream_pure__Stream,
    Dream_pure_Message = global_data.Dream_pure__Message,
    Lwt = global_data.Lwt;
   function echo(request){
    var
     _a_ = Dream_pure_Stream[7],
     _b_ = caml_call1(Dream_pure_Message[28], request),
     _c_ = caml_call5(Dream_pure_Message[6], 0, 0, 0, _b_, _a_);
    return caml_call1(Lwt[4], _c_);
   }
   var Dream_server_Echo = [0, echo];
   runtime.caml_register_global(3, Dream_server_Echo, "Dream__server__Echo");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream__server__Catch
//# unitInfo: Requires: Dream__server__Helpers, Dream_pure__Message, Dream_pure__Status, Lwt
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Dream_pure_Message = global_data.Dream_pure__Message,
    Dream_pure_Status = global_data.Dream_pure__Status,
    Dream_server_Helpers = global_data.Dream__server__Helpers,
    Lwt = global_data.Lwt;
   function catch$0(error_handler, next_handler, request){
    function _a_(exn){
     var
      error =
        [0,
         [0, 3458171, exn],
         3257473,
         583778019,
         [0, request],
         0,
         [0, caml_call1(Dream_server_Helpers[2], request)],
         106380200,
         1];
     return caml_call1(error_handler, error);
    }
    function _b_(response){
     var status = caml_call1(Dream_pure_Message[7], response);
     if
      (!
       caml_call1(Dream_pure_Status[4], status)
       && ! caml_call1(Dream_pure_Status[5], status))
      return caml_call1(Lwt[4], response);
     if(caml_call1(Dream_pure_Status[4], status))
      var severity = -685964740, caused_by = 1055145579;
     else
      var severity = 106380200, caused_by = 583778019;
     var
      error =
        [0,
         [0, -71406943, response],
         3257473,
         caused_by,
         [0, request],
         [0, response],
         [0, caml_call1(Dream_server_Helpers[2], request)],
         severity,
         1];
     return caml_call1(error_handler, error);
    }
    function _c_(param){return caml_call1(next_handler, request);}
    return caml_call3(Lwt[9], _c_, _b_, _a_);
   }
   var Dream_server_Catch = [0, catch$0];
   runtime.caml_register_global(4, Dream_server_Catch, "Dream__server__Catch");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJkcmVhbV9fc2VydmVyLmNtYS5qcyIsInNvdXJjZVJvb3QiOiIiLCJuYW1lcyI6WyJjbGllbnQiLCJjbGllbnRfZmllbGQiLCJyZXF1ZXN0Iiwic2V0X2NsaWVudCIsInRsc19maWVsZCIsInRscyIsInNldF90bHMiLCJtZXRob2QiLCJ0YXJnZXQiLCJoZWFkZXJzIiwic2VydmVyX3N0cmVhbSIsInJlcXVlc3Rfd2l0aF9ib2R5IiwiYm9keSIsInJlc3BvbnNlX3dpdGhfYm9keSIsInN0YXR1cyIsImNvZGUiLCJyZXNwb25zZSIsInJlc3BvbmQiLCJodG1sIiwianNvbiIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJzdGF0dXMkMCIsInN0cmVhbSIsIm9wdCIsImNhbGxiYWNrIiwic3RoIiwiY2xvc2UiLCJ3cml0ZXIiLCJyZWFkZXIiLCJjbGllbnRfc3RyZWFtIiwiZXhuIiwicHB4X2x3dF8wIiwiZXhuJDAiLCJlbXB0eSIsIm5vdF9mb3VuZCIsIndlYnNvY2tldCIsInJlY2VpdmUiLCJyZWNlaXZlX2ZyYWdtZW50Iiwic2VuZCIsInRleHRfb3JfYmluYXJ5IiwiZW5kX29mX21lc3NhZ2UiLCJkYXRhIiwicmVxdWVzdF9pZCIsImxldmVsIiwicmVxdWVzdF9pZF9sYWJlbCIsInNldHVwX2xvZ3MiLCJsb2dzX2xpYl90YWciLCJpZF9sd3Rfa2V5IiwiaWQiLCJpZF9maWVsZCIsImdldF9yZXF1ZXN0X2lkIiwicmVxdWVzdCQwIiwibGFzdF9pZCIsInJlcG9ydGVyIiwibm93IiwiYnVmZmVyIiwiZm9ybWF0dGVyIiwicmVwb3J0Iiwic3JjIiwibGV2ZWwkMCIsIm92ZXIiLCJrIiwidXNlcl9zX2NhbGxiYWNrIiwibGV2ZWwkMSIsImxldmVsX3N0eWxlIiwid3JpdGUiLCJtZXNzYWdlIiwiaGVhZGVyIiwidGFncyIsImZvcm1hdF9hbmRfYXJndW1lbnRzIiwidW5peF90aW1lIiwidGltZSIsImZyYWN0aW9uIiwiY2xhbXBlZF9mcmFjdGlvbiIsInNzIiwibW0iLCJoaCIsImQiLCJtIiwieSIsInRpbWUkMCIsIndpZHRoIiwic291cmNlIiwibmFtZSIsImRvdF9pbmRleCIsInNvdXJjZSQwIiwic291cmNlX3ByZWZpeCIsInRhZ3MkMCIsInJlcXVlc3RfaWRfZnJvbV90YWdzIiwicmVxdWVzdF9pZCQwIiwicmVxdWVzdF9pZCQxIiwibGFzdF9ieXRlIiwiY29sb3IiLCJyZXF1ZXN0X3N0eWxlIiwicmVxdWVzdF9pZCQyIiwiZW5hYmxlIiwiY3VzdG9tX2xvZ19sZXZlbHMiLCJzb3VyY2VzIiwic2V0X3ByaW50ZXhjIiwic2V0X2FzeW5jX2V4Y2VwdGlvbl9ob29rIiwiaW5pdGlhbGl6ZWQiLCJ0b19sb2dzX2xldmVsIiwibCIsImluaXRpYWxpemVkJDAiLCJ2Iiwic3ViX2xvZyIsImZvcndhcmQiLCJkZXN0aW5hdGlvbl9sb2ciLCJ1c2VyX3NfayIsImxvZyIsIkxvZyIsImNvbnZlbmllbmNlX2xvZyIsIml0ZXJfYmFja3RyYWNlIiwiZiIsImJhY2t0cmFjZSIsImxpbmUiLCJzZXRfdXBfZXhjZXB0aW9uX2hvb2siLCJpbml0aWFsaXplX2xvZyIsImJhY2t0cmFjZXMiLCJzdGgkMCIsImFzeW5jX2V4Y2VwdGlvbl9ob29rIiwic3RoJDEiLCJlbmFibGUkMCIsInNldF9sb2dfbGV2ZWwiLCJzIiwiaW5pdGlhbGl6ZXIiLCJzZXR1cF9vdXRwdXRzIiwic2V0IiwiaW5pdGlhbGl6ZSIsImxvZ2dlciIsIm5leHRfaGFuZGxlciIsInN0YXJ0IiwiaWQkMCIsImlkJDEiLCJ1c2VyX2FnZW50IiwibG9jYXRpb24kMCIsImVsYXBzZWQiLCJtYWtlX3N0YXJfb3Jfd2lsZGNhcmQiLCJwYXJzZSIsInN0cmluZyIsInBhcnNlX3NlcGFyYXRvciQwIiwidG9rZW5zIiwiaW5kZXgiLCJwYXJzZV9jb21wb25lbnRfc3RhcnQiLCJpbmRleCQwIiwicGFyc2VfY29tcG9uZW50IiwiaW5kZXgkMSIsImNvbnN0cnVjdG9yIiwic3RhcnRfaW5kZXgiLCJ0b2tlbiIsInRva2VuJDAiLCJwYXJzZV9zZXBhcmF0b3IiLCJ0b2tlbnMkMCIsInN0cmlwX2VtcHR5X3RyYWlsaW5nX3Rva2VuIiwiZ2V0IiwicGF0dGVybiIsImhhbmRsZXIiLCJwb3N0IiwicHV0IiwiZGVsZXRlJDAiLCJoZWFkIiwiY29ubmVjdCIsIm9wdGlvbnMiLCJ0cmFjZSIsInBhdGNoIiwiYW55Iiwibm9fcm91dGUiLCJhcHBseSIsIm1pZGRsZXdhcmVzIiwicm91dGVzIiwiY29tcG9zZSIsIm1vcmUiLCJtaWRkbGV3YXJlIiwibm9kZSIsIm5vZGUkMCIsInJvdXRlIiwic2NvcGUiLCJwcmVmaXgiLCJyb3V0ZXMkMCIsInBhdGgiLCJwYXRoX2ZpZWxkIiwidGhlX3JlcXVlc3QiLCJzZXRfcGF0aCIsInByZWZpeF9maWVsZCIsImludGVybmFsX3ByZWZpeCIsInNldF9wcmVmaXgiLCJwYXJhbXMiLCJ2YWx1ZSIsInBhcmFtc19maWVsZCIsIm1pc3NpbmdfcGFyYW0iLCJwYXJhbSIsInJvdXRlciIsInRyeV9yb3V0ZXMkMCIsImJpbmRpbmdzIiwib2siLCJmYWlsIiwiZmFpbCQwIiwidHJ5X3JvdXRlcyIsImJpbmRpbmdzJDAiLCJwcmVmaXgkMCIsInBhdGgkMCIsInBhdHRlcm4kMCIsInRyeV9ub2RlIiwicGF0aCQxIiwicGF0dGVybiQxIiwicyQwIiwicHJlZml4JDEiLCJzJDEiLCJwYXR0ZXJuJDIiLCJzJDIiLCJwYXRoJDIiLCJwcmVmaXgkMiIsImJpbmRpbmdzJDEiLCJpc193aWxkY2FyZCIsIm1ldGhvZF9zZXQiLCJwYXJhbXMkMCIsImFsbF9jb29raWVzIiwiaW5mZXJfY29va2llX3ByZWZpeCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsImNvb2tpZV9wcmVmaXgiLCJkZWNyeXB0X2Nvb2tpZSIsInNlY3VyZSQwIiwic2VjdXJlJDEiLCJjb29raWVfcHJlZml4JDAiLCJuYW1lJDAiLCJ0ZXN0IiwidmFsdWUkMCIsInNldF9jb29raWUiLCJleHBpcmVzIiwibWF4X2FnZSIsInNhbWVfc2l0ZSIsImVuY3J5cHRfY29va2llIiwiaHR0cF9vbmx5Iiwic2FtZV9zaXRlJDAiLCJkcm9wX2Nvb2tpZSIsInNlc3Npb25fY29va2llIiwidHlwZWRfbWlkZGxld2FyZSIsInNob3dfdmFsdWUiLCJmaWVsZCIsInNlc3Npb24iLCJiYWNrX2VuZCIsImlubmVyX2hhbmRsZXIiLCJzeW1ib2wiLCJuZXdfaWQiLCJuZXdfbGFiZWwiLCJ2ZXJzaW9uX3Nlc3Npb25faWQiLCJyZWFkX3Nlc3Npb25faWQiLCJjcmVhdGUiLCJoYXNoX3RhYmxlIiwiZXhwaXJlc19hdCIsImRpY3Rpb25hcnkiLCJkaWN0aW9uYXJ5JDAiLCJkcm9wIiwiaW52YWxpZGF0ZSIsImxpZmV0aW1lIiwib3BlcmF0aW9ucyIsImRpcnR5IiwibG9hZCIsImdldHRpbWVvZmRheSIsInZhbGlkX3Nlc3Npb24iLCJzZXNzaW9uJDAiLCJzZXNzaW9uJDIiLCJzZXNzaW9uJDEiLCJjcmVhdGUkMCIsInB1dCQwIiwiZHJvcCQwIiwiaW52YWxpZGF0ZSQwIiwib3BlcmF0aW9ucyQwIiwibG9hZCQwIiwibGFiZWwiLCJwYXlsb2FkIiwicGF5bG9hZCQwIiwibiIsIm4kMCIsInNlbmQkMCIsImJhY2tfZW5kJDAiLCJnZXR0ZXIiLCJ0d29fd2Vla3MiLCJtZW1vcnlfc2Vzc2lvbnMiLCJjb29raWVfc2Vzc2lvbnMiLCJwdXRfc2Vzc2lvbiIsImRyb3Bfc2Vzc2lvbl9maWVsZCIsImFsbF9zZXNzaW9uX3ZhbHVlcyIsImludmFsaWRhdGVfc2Vzc2lvbiIsInNlc3Npb25faWQiLCJzZXNzaW9uX2xhYmVsIiwic2Vzc2lvbl9leHBpcmVzX2F0IiwiZmllbGRfbmFtZSIsImRlZmF1bHRfdmFsaWRfZm9yIiwiY3NyZl90b2tlbiIsInZhbGlkX2ZvciIsIm5vdyQwIiwidmVyaWZ5X2NzcmZfdG9rZW4iLCJ0b2tlbiQxIiwidG9rZW5fc2Vzc2lvbl9sYWJlbCIsImV4cGlyZXNfYXQkMCIsInJlYWxfc2Vzc2lvbl9sYWJlbCIsInNvcnQiLCJmb3JtIiwia2V5Iiwia2V5JDAiLCJzb3J0X2FuZF9jaGVja19mb3JtIiwidG9fdmFsdWUiLCJmb3JtJDAiLCJmb3JtJDEiLCJ3cm9uZ19jb250ZW50X3R5cGUiLCJjc3JmIiwiY29udGVudF90eXBlIiwiaW5pdGlhbF9tdWx0aXBhcnRfc3RhdGUiLCJtdWx0aXBhcnRfc3RhdGVfZmllbGQiLCJtdWx0aXBhcnRfc3RhdGUiLCJzdGF0ZSIsInN0YXRlJDAiLCJmaWVsZF90b19zdHJpbmciLCJ2JDAiLCJ2JDEiLCJ2JDIiLCJ1cGxvYWRfcGFydCIsImlkZW50aWZ5IiwiaGVhZGVycyQwIiwicGFydCIsInVwbG9hZCIsImNvbnRlbnRfdHlwZSQwIiwiY29udGVudF90eXBlJDEiLCJ0aCIsIm11bHRpcGFydCIsImFzc29jIiwidHJlZSIsInRyZWUkMCIsImZvbGQiLCJhY2MiLCJ1aWQiLCJjb250ZW50cyIsImNvbnRlbnRfZGlzcG9zaXRpb24iLCJmaWxlbmFtZSIsInZzIiwidnMkMCIsInZhbHVlcyIsInBhcnRzIiwibWF0Y2hfc2l0ZV9wcmVmaXgiLCJwYXRoX2NydW1iIiwicHJlZml4X2NydW1iIiwid2l0aF9zaXRlX3ByZWZpeCIsImFsbF9xdWVyaWVzIiwicXVlcnkiLCJxdWVyaWVzIiwiYWNjdW11bGF0b3IiLCJvcmlnaW5fcmVmZXJyZXJfY2hlY2siLCJvcmlnaW4iLCJvcmlnaW4kMCIsIm9yaWdpbiQxIiwiaG9zdCIsIm9yaWdpbl91cmkiLCJzY2hlbWVzX21hdGNoIiwicG9ydCQwIiwiaG9zdCQwIiwiaG9zdF9wb3J0IiwiaG9zdF9ob3N0JDAiLCJob3N0X2hvc3QiLCJwb3J0Iiwib3JpZ2luX3BvcnQiLCJob3N0c19tYXRjaCIsInBvcnRzX21hdGNoIiwic2NyaXB0IiwicmV0cnlfaW50ZXJ2YWxfbXMiLCJsaXZlcmVsb2FkIiwic29ja2V0Iiwic291cCIsImZsYXNoX2Nvb2tpZSIsInN0b3JhZ2VfZmllbGQiLCJmaXZlX21pbnV0ZXMiLCJjb250ZW50X2J5dGVfc2l6ZV9saW1pdCIsImZsYXNoIiwiZ3JvdXAiLCJ4IiwicmVzdCIsIngyIiwieDEiLCJ1bnBhY2siLCJ1IiwicHV0X2ZsYXNoIiwiY2F0ZWdvcnkiLCJtZXNzYWdlJDAiLCJvdXRib3giLCJvdXRib3gkMCIsImZsYXNoX21lc3NhZ2VzIiwicSIsInAiLCJjdXJyZW50IiwiZXhpc3RpbmciLCJlbnRyaWVzIiwiYSIsImNvbnRlbnQiLCJlY2hvIiwiY2F0Y2gkMCIsImVycm9yX2hhbmRsZXIiLCJlcnJvciIsInNldmVyaXR5IiwiY2F1c2VkX2J5Il0sInNvdXJjZXMiOlsiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL2hlbHBlcnMubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9kcmVhbS9zZXJ2ZXIvbG9nLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL3JvdXRlci5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2RyZWFtL3NlcnZlci9jb29raWUubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9kcmVhbS9zZXJ2ZXIvc2Vzc2lvbi5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2RyZWFtL3NlcnZlci9jc3JmLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL2Zvcm0ubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9kcmVhbS9zZXJ2ZXIvdXBsb2FkLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL3NpdGVfcHJlZml4Lm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL3F1ZXJ5Lm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL29yaWdpbl9yZWZlcnJlcl9jaGVjay5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2RyZWFtL3NlcnZlci9saXZlcmVsb2FkLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL2ZsYXNoLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvZHJlYW0vc2VydmVyL2VjaG8ubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9kcmVhbS9zZXJ2ZXIvY2F0Y2gubWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7RTs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7R0FpQmdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFBQSxtQkFBS0EsUUFBVSxPQUFWQSxPQUFnQjtJQUhqQ0MsZUFDRjtZQU9FRCxPQUFPRTtJQUNILFlBQUEsbUNBREdBLFNBUlBEO2dCQVVRO1FBQ0hEO0lBQVUsT0FBVkE7R0FBZ0I7WUFFckJHLFdBQVdELFNBQVFGO0lBQ3JCLE9BQUEsbUNBRGFFLFNBYlhELGNBYW1CRDtHQUN3QjtHQUs3QztJQURFSSxZQUNGO1lBS0VDLElBQUlIO0lBQ0EsWUFBQSxtQ0FEQUEsU0FOSkU7MEJBUWE7SUFDUjtHQUFLO1lBRVZFLFFBQVFKLFNBQVFHO0lBQ2xCLE9BQUEsbUNBRFVILFNBWFJFLFdBV2dCQztHQUNxQjtZQUlyQ0gsUUFBU0YsUUFBUU8sUUFBU0MsUUFBUUgsS0FBS0ksU0FBUUM7SUFFL0M7S0FERVI7T0FDRjs7YUFGaUJLO2FBQVNDO2FBQWFDOztTQUFRQztJQXJCL0NQLFdBc0JFRCxTQURPRjtJQUxUTSxRQU1FSixTQURnQ0c7SUFJcEMsT0FISUg7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QUEsV0FuREk0WSxlQXdDQUM7SUFXZTtpQkE1Q2hCL1g7S0FDVSxJQUFURixTQUFTLGtDQURWRTtLQUlpQzs7T0FBakMsaUNBSENGO1lBR2dDLGlDQUhoQ0E7TUF5QkYsT0FBQSxtQkExQkNFO0tBTUksR0FBQSxpQ0FMSEY7VUFJYWtZLHVCQUFYQzs7VUFBV0Qsc0JBQVhDO0tBT1E7TUFBUkY7O3dCQVpIL1g7O1NBS0dpWTthQVp5Qi9ZO2FBTzVCYzthQWtCZSxvQ0F6QmFkO1NBWWQ4WTs7S0FrQmYsT0FBQSxXQTlCRUYsZUFtQkVDO0lBY2U7d0JBNUJyQixPQUVGLFdBUG9CNVEsY0FBYWpJLFNBS1g7SUFrQ3RCLE9BQUE7R0FZc0I7Z0NBbkR0QjJZOzs7RSIsInNvdXJjZXNDb250ZW50IjpbIigqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIERyZWFtLCByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLm1kXG4gICBmb3IgZGV0YWlscywgb3IgdmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL2FhbnRyb24vZHJlYW0uXG5cbiAgIENvcHlyaWdodCAyMDIxIEFudG9uIEJhY2hpbiAqKVxuXG5cblxubW9kdWxlIEZvcm1hdHMgPSBEcmVhbV9wdXJlLkZvcm1hdHNcbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5tb2R1bGUgU3RhdHVzID0gRHJlYW1fcHVyZS5TdGF0dXNcbm1vZHVsZSBTdHJlYW0gPSBEcmVhbV9wdXJlLlN0cmVhbVxuXG5cblxubGV0IGNsaWVudF9maWVsZCA9XG4gIE1lc3NhZ2UubmV3X2ZpZWxkXG4gICAgfm5hbWU6XCJkcmVhbS5jbGllbnRcIlxuICAgIH5zaG93X3ZhbHVlOihmdW4gY2xpZW50IC0+IGNsaWVudClcbiAgICAoKVxuXG4oKiBUT0RPIFdoYXQgc2hvdWxkIGJlIHJlcG9ydGVkIHdoZW4gdGhlIGNsaWVudCBhZGRyZXNzIGlzIG1pc3Npbmc/IFRoaXMgaXMgYVxuICAgc2lnbiBvZiBsb2NhbCB0ZXN0aW5nLiAqKVxubGV0IGNsaWVudCByZXF1ZXN0ID1cbiAgbWF0Y2ggTWVzc2FnZS5maWVsZCByZXF1ZXN0IGNsaWVudF9maWVsZCB3aXRoXG4gIHwgTm9uZSAtPiBcIjEyNy4wLjAuMTowXCJcbiAgfCBTb21lIGNsaWVudCAtPiBjbGllbnRcblxubGV0IHNldF9jbGllbnQgcmVxdWVzdCBjbGllbnQgPVxuICBNZXNzYWdlLnNldF9maWVsZCByZXF1ZXN0IGNsaWVudF9maWVsZCBjbGllbnRcblxuXG5cbmxldCB0bHNfZmllbGQgPVxuICBNZXNzYWdlLm5ld19maWVsZFxuICAgIH5uYW1lOlwiZHJlYW0udGxzXCJcbiAgICB+c2hvd192YWx1ZTpzdHJpbmdfb2ZfYm9vbFxuICAgICgpXG5cbmxldCB0bHMgcmVxdWVzdCA9XG4gIG1hdGNoIE1lc3NhZ2UuZmllbGQgcmVxdWVzdCB0bHNfZmllbGQgd2l0aFxuICB8IFNvbWUgdHJ1ZSAtPiB0cnVlXG4gIHwgXyAtPiBmYWxzZVxuXG5sZXQgc2V0X3RscyByZXF1ZXN0IHRscyA9XG4gIE1lc3NhZ2Uuc2V0X2ZpZWxkIHJlcXVlc3QgdGxzX2ZpZWxkIHRsc1xuXG5cblxubGV0IHJlcXVlc3QgfmNsaWVudCB+bWV0aG9kXyB+dGFyZ2V0IH50bHMgfmhlYWRlcnMgc2VydmVyX3N0cmVhbSA9XG4gIGxldCByZXF1ZXN0ID1cbiAgICBNZXNzYWdlLnJlcXVlc3Qgfm1ldGhvZF8gfnRhcmdldCB+aGVhZGVycyBTdHJlYW0ubnVsbCBzZXJ2ZXJfc3RyZWFtIGluXG4gIHNldF9jbGllbnQgcmVxdWVzdCBjbGllbnQ7XG4gIHNldF90bHMgcmVxdWVzdCB0bHM7XG4gIHJlcXVlc3RcblxubGV0IHJlcXVlc3Rfd2l0aF9ib2R5ID9tZXRob2RfID90YXJnZXQgP2hlYWRlcnMgYm9keSA9XG4gIE1lc3NhZ2UucmVxdWVzdCA/bWV0aG9kXyA/dGFyZ2V0ID9oZWFkZXJzIFN0cmVhbS5udWxsIChTdHJlYW0uc3RyaW5nIGJvZHkpXG5cblxuXG5sZXQgcmVzcG9uc2Vfd2l0aF9ib2R5ID9zdGF0dXMgP2NvZGUgP2hlYWRlcnMgYm9keSA9XG4gIGxldCByZXNwb25zZSA9XG4gICAgTWVzc2FnZS5yZXNwb25zZSA/c3RhdHVzID9jb2RlID9oZWFkZXJzIFN0cmVhbS5udWxsIFN0cmVhbS5udWxsIGluXG4gIE1lc3NhZ2Uuc2V0X2JvZHkgcmVzcG9uc2UgYm9keTtcbiAgcmVzcG9uc2VcblxubGV0IHJlc3BvbmQgP3N0YXR1cyA/Y29kZSA/aGVhZGVycyBib2R5ID1cbiAgTHd0LnJldHVybiAocmVzcG9uc2Vfd2l0aF9ib2R5ID9zdGF0dXMgP2NvZGUgP2hlYWRlcnMgYm9keSlcblxubGV0IGh0bWwgP3N0YXR1cyA/Y29kZSA/aGVhZGVycyBib2R5ID1cbiAgbGV0IHJlc3BvbnNlID0gcmVzcG9uc2Vfd2l0aF9ib2R5ID9zdGF0dXMgP2NvZGUgP2hlYWRlcnMgYm9keSBpblxuICBNZXNzYWdlLnNldF9oZWFkZXIgcmVzcG9uc2UgXCJDb250ZW50LVR5cGVcIiBGb3JtYXRzLnRleHRfaHRtbDtcbiAgTHd0LnJldHVybiByZXNwb25zZVxuXG5sZXQganNvbiA/c3RhdHVzID9jb2RlID9oZWFkZXJzIGJvZHkgPVxuICBsZXQgcmVzcG9uc2UgPSByZXNwb25zZV93aXRoX2JvZHkgP3N0YXR1cyA/Y29kZSA/aGVhZGVycyBib2R5IGluXG4gIE1lc3NhZ2Uuc2V0X2hlYWRlciByZXNwb25zZSBcIkNvbnRlbnQtVHlwZVwiIEZvcm1hdHMuYXBwbGljYXRpb25fanNvbjtcbiAgTHd0LnJldHVybiByZXNwb25zZVxuXG4oKiBUT0RPIEFjdHVhbGx5IHVzZSB0aGUgcmVxdWVzdCBhbmQgZXh0cmFjdCB0aGUgc2l0ZSBwcmVmaXguICopXG5sZXQgcmVkaXJlY3QgP3N0YXR1cyA/Y29kZSA/aGVhZGVycyBfcmVxdWVzdCBsb2NhdGlvbiA9XG4gIGxldCBzdGF0dXMgPSAoc3RhdHVzIDo+IFN0YXR1cy5yZWRpcmVjdGlvbiBvcHRpb24pIGluXG4gIGxldCBzdGF0dXMgPVxuICAgIG1hdGNoIHN0YXR1cywgY29kZSB3aXRoXG4gICAgfCBOb25lLCBOb25lIC0+IFNvbWUgKGBTZWVfT3RoZXIpXG4gICAgfCBfIC0+IHN0YXR1c1xuICBpblxuICBsZXQgcmVzcG9uc2UgPSByZXNwb25zZV93aXRoX2JvZHkgP3N0YXR1cyA/Y29kZSA/aGVhZGVycyBcIlwiIGluXG4gIE1lc3NhZ2Uuc2V0X2hlYWRlciByZXNwb25zZSBcIkxvY2F0aW9uXCIgbG9jYXRpb247XG4gIEx3dC5yZXR1cm4gcmVzcG9uc2VcblxubGV0IHN0cmVhbSA/c3RhdHVzID9jb2RlID9oZWFkZXJzID8oY2xvc2UgPSB0cnVlKSBjYWxsYmFjayA9XG4gIGxldCByZWFkZXIsIHdyaXRlciA9IFN0cmVhbS5waXBlICgpIGluXG4gIGxldCBjbGllbnRfc3RyZWFtID0gU3RyZWFtLnN0cmVhbSByZWFkZXIgU3RyZWFtLm5vX3dyaXRlclxuICBhbmQgc2VydmVyX3N0cmVhbSA9IFN0cmVhbS5zdHJlYW0gU3RyZWFtLm5vX3JlYWRlciB3cml0ZXIgaW5cbiAgbGV0IHJlc3BvbnNlID1cbiAgICBNZXNzYWdlLnJlc3BvbnNlID9zdGF0dXMgP2NvZGUgP2hlYWRlcnMgY2xpZW50X3N0cmVhbSBzZXJ2ZXJfc3RyZWFtIGluXG5cbiAgKCogVE9ETyBNYWtlIHN1cmUgdGhlIHJlcXVlc3QgaWQgaXMgcHJvcGFnYXRlZCB0byB0aGUgY2FsbGJhY2suICopXG4gIEx3dC5hc3luYyAoZnVuICgpIC0+XG4gICAgaWYgY2xvc2UgdGhlblxuICAgICAgbWF0Y2glbHd0IGNhbGxiYWNrIHNlcnZlcl9zdHJlYW0gd2l0aFxuICAgICAgfCAoKSAtPlxuICAgICAgICBNZXNzYWdlLmNsb3NlIHNlcnZlcl9zdHJlYW1cbiAgICAgIHwgZXhjZXB0aW9uIGV4biAtPlxuICAgICAgICBsZXQlbHd0ICgpID0gTWVzc2FnZS5jbG9zZSBzZXJ2ZXJfc3RyZWFtIGluXG4gICAgICAgIHJhaXNlIGV4blxuICAgIGVsc2VcbiAgICAgIGNhbGxiYWNrIHNlcnZlcl9zdHJlYW0pO1xuXG4gIEx3dC5yZXR1cm4gcmVzcG9uc2VcblxubGV0IGVtcHR5ID9oZWFkZXJzIHN0YXR1cyA9XG4gIHJlc3BvbmQgP2hlYWRlcnMgfnN0YXR1cyBcIlwiXG5cbmxldCBub3RfZm91bmQgXyA9XG4gIHJlc3BvbmQgfnN0YXR1czpgTm90X0ZvdW5kIFwiXCJcblxuXG5cbmxldCB3ZWJzb2NrZXQgP2hlYWRlcnMgPyhjbG9zZSA9IHRydWUpIGNhbGxiYWNrID1cbiAgbGV0IHJlc3BvbnNlID1cbiAgICBNZXNzYWdlLnJlc3BvbnNlXG4gICAgICB+c3RhdHVzOmBTd2l0Y2hpbmdfUHJvdG9jb2xzID9oZWFkZXJzIFN0cmVhbS5lbXB0eSBTdHJlYW0ubnVsbCBpblxuICBsZXQgd2Vic29ja2V0ID0gTWVzc2FnZS5jcmVhdGVfd2Vic29ja2V0IHJlc3BvbnNlIGluXG5cbiAgKCogVE9ETyBNYWtlIHN1cmUgdGhlIHJlcXVlc3QgaWQgaXMgcHJvcGFnYXRlZCB0byB0aGUgY2FsbGJhY2suICopXG4gIEx3dC5hc3luYyAoZnVuICgpIC0+XG4gICAgaWYgY2xvc2UgdGhlblxuICAgICAgbWF0Y2glbHd0IGNhbGxiYWNrIHdlYnNvY2tldCB3aXRoXG4gICAgICB8ICgpIC0+XG4gICAgICAgIE1lc3NhZ2UuY2xvc2Vfd2Vic29ja2V0IHdlYnNvY2tldFxuICAgICAgfCBleGNlcHRpb24gZXhuIC0+XG4gICAgICAgIGxldCVsd3QgKCkgPSBNZXNzYWdlLmNsb3NlX3dlYnNvY2tldCB3ZWJzb2NrZXQgfmNvZGU6MTAwNSBpblxuICAgICAgICByYWlzZSBleG5cbiAgICBlbHNlXG4gICAgICBjYWxsYmFjayB3ZWJzb2NrZXQpO1xuXG4gIEx3dC5yZXR1cm4gcmVzcG9uc2VcblxubGV0IHJlY2VpdmUgKF8sIHNlcnZlcl9zdHJlYW0pID1cbiAgTWVzc2FnZS5yZWNlaXZlIHNlcnZlcl9zdHJlYW1cblxubGV0IHJlY2VpdmVfZnJhZ21lbnQgKF8sIHNlcnZlcl9zdHJlYW0pID1cbiAgTWVzc2FnZS5yZWNlaXZlX2ZyYWdtZW50IHNlcnZlcl9zdHJlYW1cblxubGV0IHNlbmQgP3RleHRfb3JfYmluYXJ5ID9lbmRfb2ZfbWVzc2FnZSAoXywgc2VydmVyX3N0cmVhbSkgZGF0YSA9XG4gIE1lc3NhZ2Uuc2VuZCA/dGV4dF9vcl9iaW5hcnkgP2VuZF9vZl9tZXNzYWdlIHNlcnZlcl9zdHJlYW0gZGF0YVxuIiwiKCogVGhpcyBmaWxlIGlzIHBhcnQgb2YgRHJlYW0sIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UubWRcbiAgIGZvciBkZXRhaWxzLCBvciB2aXNpdCBodHRwczovL2dpdGh1Yi5jb20vYWFudHJvbi9kcmVhbS5cblxuICAgQ29weXJpZ2h0IDIwMjEgQW50b24gQmFjaGluICopXG5cblxuXG4oKiBBbW9uZyBvdGhlciB0aGluZ3MsIHRoaXMgbW9kdWxlIHdyYXBzIHRoZSBMb2dzIGxpYnJhcnkgc28gYXMgdG8gcHJlcGVuZFxuICAgcmVxdWVzdCBpZHMgdG8gbG9nIG1lc3NhZ2VzLlxuXG4gICBIb3dldmVyLCBpbnN0ZWFkIG9mIHByZXBlbmRpbmcgdGhlIGlkIGF0IHRoZSBmcm9udCBlbmQgb2YgTG9ncywgaW4gdGhlXG4gICB3cmFwcGVycywgd2UgcHJlcGVuZCB0aGUgaWQgYXQgdGhlIGJhY2sgZW5kIGluc3RlYWQgLSBpbiB0aGUgcmVwb3J0ZXIuIFRoZVxuICAgcmF0aW9uYWxlIGZvciB0aGlzIGlzIHRoYXQgd2Ugd2FudCB0byAodHJ5IHRvKSBwcmVwZW5kIHRoZSBpZCBldmVuIHRvIHN0cmluZ3NcbiAgIHRoYXQgZG9uJ3QgY29tZSBmcm9tIERyZWFtIG9yIHRoZSB1c2VyJ3MgRHJlYW0gYXBwLCBhbmQgdGh1cyAqZGVmaW5pdGVseSogZG9cbiAgIG5vdCBjYWxsIHRoaXMgbW9kdWxlJ3Mgd3JhcHBlcnMuXG5cbiAgIFRoZSB3cmFwcGVycyB0cnkgdG8gZ2V0IHRoZSByZXF1ZXN0IGlkIGZyb20gdGhlaXIgYXJndW1lbnQgfnJlcXVlc3QsIGFuZCBwYXNzXG4gICBpdCBkb3duIHRvIHRoZSByZXBvcnRlciBpbiBhIExvZ3MgdGFnLlxuXG4gICBUaGUgcmVwb3J0ZXIgcmVhZHMgdGhlIHRhZyBhbmQgdXNlcyB0aGF0IHJlcXVlc3QgaWQgaWYgaXQgaXMgYXZhaWxhYmxlLiBJZlxuICAgdGhlIHJlcXVlc3QgaWQgaXMgbm90IGF2YWlsYWJsZSwgaXQgaXMgYmVjYXVzZSB0aGUgbG9nIG1lc3NhZ2UgY29tZXMgZnJvbSBhXG4gICBwb2ludCBpbiB0aGUgRHJlYW0gYXBwIHdoZXJlIGFuIGlkIGhhcyBub3QgYmVlbiBhc3NpZ25lZCB0byB0aGUgcmVxdWVzdCwgb3JcbiAgIGJlY2F1c2UgdGhlIGxvZyBtZXNzYWdlIGNvbWVzIGZyb20gYW5vdGhlciBkZXBlbmRlbmN5IChvciBhIHNsb3BweSBjYWxsXG4gICBzaXRlISkuIEluIHRoYXQgY2FzZSwgdGhlIHJlcG9ydGVyIHRyaWVzIHRvIHJldHJpZXZlIHRoZSBpZCBmcm9tIHRoZVxuICAgcHJvbWlzZS1jaGFpbi1sb2NhbCBzdG9yYWdlIG9mIEx3dC5cblxuICAgVGhpcyBpcyBzdWZmaWNpZW50IGZvciBhdHRhY2hpbmcgYSByZXF1ZXN0IGlkIHRvIG1vc3QgbG9nIG1lc3NhZ2VzLCBpblxuICAgcHJhY3RpY2UuICopXG5cbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5tb2R1bGUgTWV0aG9kID0gRHJlYW1fcHVyZS5NZXRob2Rcbm1vZHVsZSBTdGF0dXMgPSBEcmVhbV9wdXJlLlN0YXR1c1xuXG5cblxudHlwZSBsb2dfbGV2ZWwgPSBbXG4gIHwgYEVycm9yXG4gIHwgYFdhcm5pbmdcbiAgfCBgSW5mb1xuICB8IGBEZWJ1Z1xuXVxuXG5cblxuKCogVGhlIGxvZ2dpbmcgbWlkZGxld2FyZSBhc3NpZ25zIHJlcXVlc3QgaWRzIHRvIHJlcXVlc3RzLCBhbmQgdHJpZXMgdG8gc2hvd1xuICAgdGhlbSBpbiB0aGUgbG9ncy4gVGhlIHNjaGVtZSB3b3JrcyBhcyBmb2xsb3dzOlxuXG4gICAtIFJlcXVlc3QgaWRzIGFyZSBzdHJpbmdzIHN0b3JlZCBpbiByZXF1ZXN0LWxvY2FsIHZhcmlhYmxlcy5cbiAgIC0gVGhlIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgcmVxdWVzdCBpZHMgYXJlIHRha2VuIGZyb20gYSBzaW1wbGUgZ2xvYmFsXG4gICAgIHNlcXVlbmNlLlxuICAgLSBUaGUgdXNlciBjYW4gb3ZlcnJpZGUgdGhlIGF1dG9tYXRpYyByZXF1ZXN0IGlkIGJ5IGFzc2lnbmluZyBhIHJlcXVlc3QgaWRcbiAgICAgaW4gYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBiZWZvcmUgdGhlIGxvZ2dlci4gVXNlci1wcm92aWRlZCByZXF1ZXN0IGlkcyBjYW5cbiAgICAgYmUgcGVyLXRocmVhZCwgY2FuIGNvbWUgZnJvbSBhIHByb3h5IGhlYWRlciwgZXRjLlxuICAgLSBUaGUgbG9nZ2VyIG1ha2VzIGEgYmVzdCBlZmZvcnQgdG8gZm9yd2FyZCB0aGUgcmVxdWVzdCBpZCB0byBhbGwgbG9nZ2luZ1xuICAgICBzdGF0ZW1lbnRzIHRoYXQgYXJlIGJlaW5nIGZvcm1hdHRlZC4gSWYgdGhlIH5yZXF1ZXN0IGFyZ3VtZW50IGlzIHByb3ZpZGVkXG4gICAgIGR1cmluZyBhIGxvZ2dpbmcgY2FsbCwgdGhhdCByZXF1ZXN0J3MgaWQgaXMgc2hvd24uIFRvIGhhbmRsZSBhbGwgb3RoZXJcbiAgICAgY2FzZXMsIHRoZSBsb2dnZXIgcHV0cyB0aGUgcmVxdWVzdCdzIGlkIGludG8gYW4gTHd0IHNlcXVlbmNlLWFzc29jaWF0ZWRcbiAgICAgc3RvcmFnZSBrZXksIGFuZCB0aGUgbG9nIG1lc3NhZ2UgZm9ybWF0dGVyIHRyaWVzIHRvIGdldCBpdCBmcm9tIHRoZXJlLiAqKVxuKCogVE9ETyBOZWNlc3NhcnkgaGVscGVycyBmb3IgdGhlIHVzZXIgc2V0dGluZyB0aGUgcmVxdWVzdCBpZCBhcmUgbm90IHlldFxuICAgZXhwb3NlZCBpbiB0aGUgQVBJLCBwZW5kaW5nIHNvbWUgb3RoZXIgcmVmYWN0b3JpbmcgKHJlcXVlc3QgbXV0YWJpbGl0eSkuICopXG5cbmxldCByZXF1ZXN0X2lkX2xhYmVsID0gXCJkcmVhbS5yZXF1ZXN0X2lkXCJcblxuKCogTG9ncyBsaWJyYXJ5IHRhZyB1ZXNkIHRvIHBhc3MgYW4gaWQgZnJvbSBhIHJlcXVlc3QgcHJvdmlkZWQgdGhyb3VnaFxuICAgfnJlcXVlc3QuICopXG5sZXQgbG9nc19saWJfdGFnIDogc3RyaW5nIExvZ3MuVGFnLmRlZiA9XG4gIExvZ3MuVGFnLmRlZlxuICAgIHJlcXVlc3RfaWRfbGFiZWxcbiAgICBGb3JtYXQucHBfcHJpbnRfc3RyaW5nXG5cbigqIEx3dCBzZXF1ZW5jZS1hc3NvY2lhdGVkIHN0b3JhZ2Uga2V5IHVzZWQgdG8gcGFzcyByZXF1ZXN0IGlkcyBmb3IgdXNlIHdoZW5cbiAgIH5yZXF1ZXN0IGlzIG5vdCBwcm92aWRlZC4gKilcbmxldCBpZF9sd3Rfa2V5IDogc3RyaW5nIEx3dC5rZXkgPVxuICBMd3QubmV3X2tleSAoKVxuXG4oKiBUaGUgYWN0dWFsIHJlcXVlc3QgaWQgXCJmaWVsZFwiIGFzc29jaWF0ZWQgd2l0aCBlYWNoIHJlcXVlc3QgYnkgdGhlIGxvZ2dlci4gSWZcbiAgIHRoaXMgZmllbGQgaXMgbWlzc2luZywgdGhlIGxvZ2dlciBhc3NpZ25zIHRoZSByZXF1ZXN0IGEgZnJlc2ggaWQuICopXG5sZXQgaWRfZmllbGQgPVxuICBNZXNzYWdlLm5ld19maWVsZFxuICAgIH5uYW1lOnJlcXVlc3RfaWRfbGFiZWxcbiAgICB+c2hvd192YWx1ZTooZnVuIGlkIC0+IGlkKVxuICAgICgpXG5cbigqIE1ha2VzIGEgYmVzdC1lZmZvcnQgYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgcmVxdWVzdCBpZC4gKilcbmxldCBnZXRfcmVxdWVzdF9pZCA/cmVxdWVzdCAoKSA9XG4gIGxldCByZXF1ZXN0X2lkID1cbiAgICBtYXRjaCByZXF1ZXN0IHdpdGhcbiAgICB8IE5vbmUgLT4gTm9uZVxuICAgIHwgU29tZSByZXF1ZXN0IC0+IE1lc3NhZ2UuZmllbGQgcmVxdWVzdCBpZF9maWVsZFxuICBpblxuICBtYXRjaCByZXF1ZXN0X2lkIHdpdGhcbiAgfCBTb21lIF8gLT4gcmVxdWVzdF9pZFxuICB8IE5vbmUgLT4gTHd0LmdldCBpZF9sd3Rfa2V5XG5cbigqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSByZXF1ZXN0IGlkIHNlcXVlbmNlLiAqKVxubGV0IGxhc3RfaWQgPVxuICByZWYgMFxuXG5cblxuKCogVE9ETyBOaWNlIGxvZ2dpbmcgZm9yIG11bHRpbGluZSBzdHJpbmdzPyAqKVxuKCogVGhlIFwiYmFjayBlbmQuXCIgSSBpbmxpbmVkIHNldmVyYWwgZXhhbXBsZXMgZnJvbSB0aGUgTG9ncywgTG9nc19sd3QsIGFuZCBGbXRcbiAgIGRvY3MgaW50byBlYWNoIG90aGVyLCBhbmQgbW9kaWZpZWQgdGhlIHJlc3VsdCwgdG8gYXJyaXZlIGF0IHRoaXMgZnVuY3Rpb24uXG4gICBTZWUgdGhvc2UgZG9jcyBmb3IgdGhlIG1lYW5pbmdzIG9mIHRoZSB2YXJpb3VzIGhlbHBlcnMgYW5kIHZhbHVlcy5cblxuICAgVGhlIHJlcG9ydGVyIG5lZWRzIHRvIGJlIHN1c3BlbmRlZCBpbiBhIGZ1bmN0aW9uIGJlY2F1c2UgRHJlYW0gc2V0cyB1cCB0aGVcbiAgIGxvZ2dlciBsYXppbHk7IGl0IGRvZXNuJ3QgcXVlcnkgdGhlIG91dHB1dCBzdHJlYW1zIGZvciB3aGV0aGVyIHRoZXkgYXJlIFRUWXNcbiAgIHVudGlsIG5lZWRlZC4gU2V0dGluZyB1cCB0aGUgcmVwb3J0ZXIgYmVmb3JlIFRUWSBjaGVja2luZyB3aWxsIGNhdXNlIGl0IHRvXG4gICBub3Qgb3V0cHV0IGNvbG9yLiAqKVxubGV0IHJlcG9ydGVyIH5ub3cgKCkgPVxuXG4gICgqIEZvcm1hdCBpbnRvIGFuIGludGVybmFsIGJ1ZmZlci4gKilcbiAgbGV0IGJ1ZmZlciA9IEJ1ZmZlci5jcmVhdGUgNTEyIGluXG4gIGxldCBmb3JtYXR0ZXIgPSBGbXQud2l0aF9idWZmZXIgfmxpa2U6Rm10LnN0ZGVyciBidWZmZXIgaW5cbiAgbGV0IGZsdXNoICgpID1cbiAgICBsZXQgbWVzc2FnZSA9IEJ1ZmZlci5jb250ZW50cyBidWZmZXIgaW5cbiAgICBCdWZmZXIucmVzZXQgYnVmZmVyO1xuICAgIG1lc3NhZ2VcbiAgaW5cblxuICAoKiBHZXRzIGNhbGxlZCBieSBMb2dzIGZvciBlYWNoIGxvZyBjYWxsIHRoYXQgcGFzc2VzIGl0cyBsZXZlbCB0aHJlc2hvbGQuXG4gICAgIH5vdmVyIGlzIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBJL08gdW5kZXJseWluZyB0aGUgbG9nIG9wZXJhdGlvbiBpcyBmdWxseVxuICAgICBjb21wbGV0ZS4gSW4gcHJhY3RpY2UsIHNpbmNlIG1vc3QgY2FsbCBzaXRlcyBhcmUgbm90IHVzaW5nIEx3dCwgdGhleSB3aWxsXG4gICAgIGNvbnRpbnVlIGV4ZWN1dGluZyBhbnl3YXkuIFRoaXMgbWVhbnMgdGhhdCB0aGUgbWVzc2FnZSBtdXN0IGJlIGZvcm1hdHRlZFxuICAgICBhbmQgdGhlIGJ1ZmZlciBmbHVzaGVkIGJlZm9yZSBkb2luZyBhbnl0aGluZyBhc3luY2hyb25vdXMsIHNvIHRoYXRcbiAgICAgc3Vic2VxdWVudCBsb2dnaW5nIG9wZXJhdGlvbnMgZG9uJ3QgZ2V0IGludG8gdGhlIHNhbWUgZ2VuZXJhdGlvbiBvZiB0aGVcbiAgICAgYnVmZmVyLlxuXG4gICAgIFRoZSB1c2VyJ3NfY2FsbGJhY2sgYXJndW1lbnQgaXMgbm90IGV4YWN0bHkgdGhlIHVzZXIncyBjYWxsYmFjayAtIGl0J3MgdGhlXG4gICAgIGNhbGxiYWNrIHRoYXQgZ290IHdyYXBwZWQgaW4gZnVuY3Rpb24gc291cmNlICh0aGUgXCJmcm9udCBlbmRcIikgYmVsb3cuIFRoYXRcbiAgICAgd3JhcHBlciBpcyB0aGUgYWN0dWFsIHVzZXIncyBjYWxsYmFjaywgYW5kIGl0IGNhbGxzIHVzZXInc19jYWxsYmFjay4gKilcbiAgbGV0IHJlcG9ydCBzcmMgbGV2ZWwgfm92ZXIgayB1c2VyJ3NfY2FsbGJhY2sgPVxuXG4gICAgbGV0IGxldmVsX3N0eWxlLCBsZXZlbCA9XG4gICAgICBtYXRjaCBsZXZlbCB3aXRoXG4gICAgICB8IExvZ3MuQXBwIC0+ICAgICBgV2hpdGUsICAgXCIgICAgIFwiXG4gICAgICB8IExvZ3MuRXJyb3IgLT4gICBgUmVkLCAgICAgXCJFUlJPUlwiXG4gICAgICB8IExvZ3MuV2FybmluZyAtPiBgWWVsbG93LCAgXCIgV0FSTlwiXG4gICAgICB8IExvZ3MuSW5mbyAtPiAgICBgR3JlZW4sICAgXCIgSU5GT1wiXG4gICAgICB8IExvZ3MuRGVidWcgLT4gICBgQmx1ZSwgICAgXCJERUJVR1wiXG4gICAgaW5cblxuICAgIGxldCB3cml0ZSBfID1cbiAgICAgICgqIEdldCB0aGUgZm9ybWF0dGVkIG1lc3NhZ2Ugb3V0IG9mIHRoZSBidWZmZXIgcmlnaHQgYXdheSwgYmVjYXVzZSB3ZSBhcmVcbiAgICAgICAgIGRvaW5nIEx3dCBvcGVyYXRpb25zIG5leHQsIGFuZCB0aGUgY2FsbGVyIG1pZ2h0IG5vdCB3YWl0LiAqKVxuICAgICAgbGV0IG1lc3NhZ2UgPSBmbHVzaCAoKSBpblxuXG4gICAgICAoKiBXcml0ZSB0aGUgbWVzc2FnZS4gKilcbiAgICAgIHByZXJyX3N0cmluZyBtZXNzYWdlO1xuICAgICAgU3RkbGliLmZsdXNoIHN0ZGVycjtcbiAgICAgIG92ZXIgKCk7XG4gICAgICBrICgpXG4gICAgaW5cblxuICAgICgqIENhbGwgdGhlIHVzZXIncyBjYWxsYmFjayB0byBnZXQgdGhlIGFjdHVhbCBtZXNzYWdlIGFuZCB0cmlnZ2VyXG4gICAgICAgZm9ybWF0dGluZywgYW5kLCBldmVudHVhbGx5LCB3cml0aW5nLiBUaGUgd3JhcHBlcnMgZG9uJ3QgdXNlIHRoZSA/aGVhZGVyXG4gICAgICAgYXJndW1lbnQsIHNvIHdlIGlnbm9yZSBpdC4gKilcbiAgICB1c2VyJ3NfY2FsbGJhY2sgQEAgZnVuID9oZWFkZXIgP3RhZ3MgZm9ybWF0X2FuZF9hcmd1bWVudHMgLT5cbiAgICAgIGlnbm9yZSBoZWFkZXI7XG5cbiAgICAgICgqIEZvcm1hdCB0aGUgY3VycmVudCBsb2NhbCB0aW1lLiBGb3IgdGhlIG1pbGxpc2Vjb25kIGZyYWN0aW9uLCBiZSBjYXJlZnVsXG4gICAgICAgICBvZiByb3VuZGluZyA5OTkuNSsgdG8gMTAwMCBvbiBvdXRwdXQuICopXG4gICAgICBsZXQgdGltZSA9XG4gICAgICAgIGxldCB1bml4X3RpbWUgPSBub3cgKCkgaW5cbiAgICAgICAgbGV0IHRpbWUgPSBPcHRpb24uZ2V0IChQdGltZS5vZl9mbG9hdF9zIHVuaXhfdGltZSkgaW5cbiAgICAgICAgbGV0IGZyYWN0aW9uID1cbiAgICAgICAgICBmc3QgKG1vZGYgdW5peF90aW1lKSAqLiAxMDAwLiBpblxuICAgICAgICBsZXQgY2xhbXBlZF9mcmFjdGlvbiA9XG4gICAgICAgICAgaWYgZnJhY3Rpb24gPiA5OTkuIHRoZW4gOTk5LlxuICAgICAgICAgIGVsc2UgZnJhY3Rpb25cbiAgICAgICAgaW5cbiAgICAgICAgbGV0ICgoeSwgbSwgZCksICgoaGgsIG1tLCBzcyksIF90el9vZmZzZXRfcykpID1cbiAgICAgICAgICBQdGltZS50b19kYXRlX3RpbWUgdGltZSBpblxuICAgICAgICBQcmludGYuc3ByaW50ZiBcIiUwMmkuJTAyaS4lMDJpICUwMmk6JTAyaTolMDJpLiUwMy4wZlwiXG4gICAgICAgICAgZCBtICh5IG1vZCAxMDApXG4gICAgICAgICAgaGggbW0gc3MgY2xhbXBlZF9mcmFjdGlvblxuICAgICAgaW5cblxuICAgICAgKCogRm9ybWF0IHRoZSBzb3VyY2UgbmFtZSBjb2x1bW4uIEl0IGlzIHRoZSByaWdodC1hbGlnbmVkIGxvZyBzb3VyY2UgbmFtZSxcbiAgICAgICAgIGNsaXBwZWQgdG8gdGhlIGNvbHVtbiB3aWR0aC4gSWYgdGhlIHNvdXJjZSBpcyB0aGUgZGVmYXVsdCBhcHBsaWNhdGlvblxuICAgICAgICAgc291cmNlLCBsZWF2ZSB0aGUgY29sdW1uIGVtcHR5LiAqKVxuICAgICAgbGV0IHNvdXJjZSA9XG4gICAgICAgIGxldCB3aWR0aCA9IDE1IGluXG4gICAgICAgIGlmIExvZ3MuU3JjLm5hbWUgc3JjID0gTG9ncy5TcmMubmFtZSBMb2dzLmRlZmF1bHQgdGhlblxuICAgICAgICAgIFN0cmluZy5tYWtlIHdpZHRoICcgJ1xuICAgICAgICBlbHNlXG4gICAgICAgICAgbGV0IG5hbWUgPSBMb2dzLlNyYy5uYW1lIHNyYyBpblxuICAgICAgICAgIGlmIFN0cmluZy5sZW5ndGggbmFtZSA+IHdpZHRoIHRoZW5cbiAgICAgICAgICAgIFN0cmluZy5zdWIgbmFtZSAoU3RyaW5nLmxlbmd0aCBuYW1lIC0gd2lkdGgpIHdpZHRoXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgKFN0cmluZy5tYWtlICh3aWR0aCAtIFN0cmluZy5sZW5ndGggbmFtZSkgJyAnKSBeIG5hbWVcbiAgICAgIGluXG4gICAgICBsZXQgc291cmNlX3ByZWZpeCwgc291cmNlID1cbiAgICAgICAgdHJ5XG4gICAgICAgICAgbGV0IGRvdF9pbmRleCA9IFN0cmluZy5yaW5kZXggc291cmNlICcuJyArIDEgaW5cbiAgICAgICAgICBTdHJpbmcuc3ViIHNvdXJjZSAwIGRvdF9pbmRleCxcbiAgICAgICAgICBTdHJpbmcuc3ViIHNvdXJjZSBkb3RfaW5kZXggKFN0cmluZy5sZW5ndGggc291cmNlIC0gZG90X2luZGV4KVxuICAgICAgICB3aXRoIE5vdF9mb3VuZCAtPlxuICAgICAgICAgIFwiXCIsIHNvdXJjZVxuICAgICAgaW5cblxuICAgICAgKCogQ2hlY2sgaWYgYSByZXF1ZXN0IGlkIGlzIGF2YWlsYWJsZSBpbiB0aGUgdGFncyBwYXNzZWQgZnJvbSB0aGUgZnJvbnRcbiAgICAgICAgIGVuZC4gSWYgbm90LCB0cnkgdG8gZ2V0IGl0IGZyb20gdGhlIHByb21pc2UtY2hhaW4tbG9jYWwgc3RvcmFnZS4gSWZcbiAgICAgICAgIHdlIGVuZCB1cCB3aXRoIGEgcmVxdWVzdCBpZCwgZm9ybWF0IGl0LiAqKVxuICAgICAgbGV0IHJlcXVlc3RfaWRfZnJvbV90YWdzID1cbiAgICAgICAgbWF0Y2ggdGFncyB3aXRoXG4gICAgICAgIHwgTm9uZSAtPiBOb25lXG4gICAgICAgIHwgU29tZSB0YWdzIC0+XG4gICAgICAgICAgTG9ncy5UYWcuZmluZCBsb2dzX2xpYl90YWcgdGFnc1xuICAgICAgaW5cblxuICAgICAgbGV0IHJlcXVlc3RfaWQgPVxuICAgICAgICBtYXRjaCByZXF1ZXN0X2lkX2Zyb21fdGFncyB3aXRoXG4gICAgICAgIHwgU29tZSBfIC0+IHJlcXVlc3RfaWRfZnJvbV90YWdzXG4gICAgICAgIHwgTm9uZSAtPiBnZXRfcmVxdWVzdF9pZCAoKVxuICAgICAgaW5cblxuICAgICAgbGV0IHJlcXVlc3RfaWQsIHJlcXVlc3Rfc3R5bGUgPVxuICAgICAgICBtYXRjaCByZXF1ZXN0X2lkIHdpdGhcbiAgICAgICAgfCBTb21lIFwiXCIgfCBOb25lIC0+IFwiXCIsIGBXaGl0ZVxuICAgICAgICB8IFNvbWUgcmVxdWVzdF9pZCAtPlxuICAgICAgICAgICgqIFRoZSBsYXN0IGJ5dGUgb2YgdGhlIHJlcXVlc3QgaWQgaXMgYmFzaWNhbGx5IGFsd2F5cyBnb2luZyB0byBiZSBhXG4gICAgICAgICAgICAgZGlnaXQsIGdyb3dpbmcgaW5jcmVtZW50YWxseSwgc28gd2UgY2FuIHVzZSB0aGUgcGFyaXR5IG9mIGl0c1xuICAgICAgICAgICAgIEFTQ0lJIGNvZGUgdG8gc3RyaXBlIHRoZSByZXF1ZXN0cyBpbiB0aGUgbG9nLiAqKVxuICAgICAgICAgIGxldCBsYXN0X2J5dGUgPSByZXF1ZXN0X2lkLltTdHJpbmcubGVuZ3RoIHJlcXVlc3RfaWQgLSAxXSBpblxuICAgICAgICAgIGxldCBjb2xvciA9XG4gICAgICAgICAgICBpZiAoQ2hhci5jb2RlIGxhc3RfYnl0ZSkgbGFuZCAxID0gMCB0aGVuXG4gICAgICAgICAgICAgIGBDeWFuXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGBNYWdlbnRhXG4gICAgICAgICAgaW5cbiAgICAgICAgICBcIiBSRVEgXCIgXiByZXF1ZXN0X2lkLCBjb2xvclxuICAgICAgaW5cblxuICAgICAgKCogVGhlIGZvcm1hdHRpbmcgcHJvcGVyLiAqKVxuICAgICAgRm9ybWF0LmtmcHJpbnRmIHdyaXRlIGZvcm1hdHRlclxuICAgICAgICAoXCIlYSAlYSVzICVhJWEgQFtcIiBeXiBmb3JtYXRfYW5kX2FyZ3VtZW50cyBeXiBcIkBdQC5cIilcbiAgICAgICAgRm10LihzdHlsZWQgYEZhaW50IHN0cmluZykgdGltZVxuICAgICAgICBGbXQuKHN0eWxlZCBgV2hpdGUgc3RyaW5nKSBzb3VyY2VfcHJlZml4IHNvdXJjZVxuICAgICAgICBGbXQuKHN0eWxlZCBsZXZlbF9zdHlsZSBzdHJpbmcpIGxldmVsXG4gICAgICAgIEZtdC4oc3R5bGVkIHJlcXVlc3Rfc3R5bGUgKHN0eWxlZCBgSXRhbGljIHN0cmluZykpIHJlcXVlc3RfaWRcbiAgaW5cblxuICB7TG9ncy5yZXBvcnR9XG5cblxuXG4oKiBMYXp5IGluaXRpYWxpemF0aW9uIHVwb24gZmlyc3QgdXNlIG9yIGNhbGwgdG8gaW5pdGlhbGl6ZS4gKilcbmxldCBlbmFibGUgPVxuICByZWYgdHJ1ZVxuXG5sZXQgbGV2ZWwgPVxuICByZWYgTG9ncy5JbmZvXG5cbmxldCBjdXN0b21fbG9nX2xldmVscyA6IChzdHJpbmcgKiBMb2dzLmxldmVsKSBsaXN0IHJlZiA9XG4gIHJlZiBbXVxuXG5sZXQgc291cmNlcyA6IChzdHJpbmcgKiBMb2dzLnNyYykgbGlzdCByZWYgPVxuICByZWYgW11cblxubGV0IHNldF9wcmludGV4YyA9XG4gIHJlZiB0cnVlXG5cbmxldCBzZXRfYXN5bmNfZXhjZXB0aW9uX2hvb2sgPVxuICByZWYgdHJ1ZVxuXG5sZXQgX2luaXRpYWxpemVkID0gcmVmIE5vbmVcblxubGV0IHRvX2xvZ3NfbGV2ZWwgbCA9XG4gIG1hdGNoIGwgd2l0aFxuICB8IGBFcnJvciAtPiBMb2dzLkVycm9yXG4gIHwgYFdhcm5pbmcgLT4gTG9ncy5XYXJuaW5nXG4gIHwgYEluZm8gLT4gTG9ncy5JbmZvXG4gIHwgYERlYnVnIC0+IExvZ3MuRGVidWdcblxuZXhjZXB0aW9uIExvZ3NfYXJlX25vdF9pbml0aWFsaXplZFxuXG5sZXQgc2V0dXBfbG9ncyA9XG4gIFwiXFxuVG8gaW5pdGlhbGl6ZSBsb2dzIHdpdGggYSBkZWZhdWx0IHJlcG9ydGVyLCBhbmQgc2V0IHVwIERyZWFtLCBcXFxuICAgZG8gdGhlIGZvbGxvd2luZzpcXFxuICAgXFxuICBJZiB5b3UgYXJlIHVzaW5nIE1pcmFnZU9TLCB1c2UgdGhlIERyZWFtIGRldmljZSBpbiBjb25maWcubWxcbiAgIFxcbiAgSWYgeW91IGFyZSB1c2luZyBMd3QvVW5peCwgZXhlY3V0ZSBgRHJlYW0ubG9nX2luaXRpYWxpemUgKClgXG4gICBcXG5cIlxuXG5sZXQgKCkgPSBQcmludGV4Yy5yZWdpc3Rlcl9wcmludGVyIEBAIGZ1bmN0aW9uXG4gIHwgTG9nc19hcmVfbm90X2luaXRpYWxpemVkIC0+XG4gICAgU29tZSAoXCJUaGUgZGVmYXVsdCBsb2dnZXIgaXMgbm90IHlldCBpbml0aWFsaXplZC4gXCIgXiBzZXR1cF9sb2dzKVxuICB8IF8gLT4gTm9uZVxuXG5sZXQgaW5pdGlhbGl6ZWQgKCkgOiBbIGBJbml0aWFsaXplZCBdID1cbiAgbWF0Y2ggIV9pbml0aWFsaXplZCB3aXRoXG4gIHwgTm9uZSAtPiByYWlzZSBMb2dzX2FyZV9ub3RfaW5pdGlhbGl6ZWRcbiAgfCBTb21lIHYgLT4gTGF6eS5mb3JjZSB2XG5cbigqIFRoZSBcImZyb250IGVuZC5cIiAqKVxudHlwZSAoJ2EsICdiKSBjb25kaXRpb25hbF9sb2cgPVxuICAoKD9yZXF1ZXN0Ok1lc3NhZ2UucmVxdWVzdCAtPlxuICAgKCdhLCBTdGRsaWIuRm9ybWF0LmZvcm1hdHRlciwgdW5pdCwgJ2IpIFN0ZGxpYi5mb3JtYXQ0IC0+ICdhKSAtPiAnYikgLT5cbiAgICB1bml0XG5cbnR5cGUgc3ViX2xvZyA9IHtcbiAgZXJyb3IgOiAnYS4gKCdhLCB1bml0KSBjb25kaXRpb25hbF9sb2c7XG4gIHdhcm5pbmcgOiAnYS4gKCdhLCB1bml0KSBjb25kaXRpb25hbF9sb2c7XG4gIGluZm8gOiAnYS4gKCdhLCB1bml0KSBjb25kaXRpb25hbF9sb2c7XG4gIGRlYnVnIDogJ2EuICgnYSwgdW5pdCkgY29uZGl0aW9uYWxfbG9nO1xufVxuXG5sZXQgc3ViX2xvZyA/bGV2ZWw6bGV2ZWxfIG5hbWUgPVxuICAoKiBUaGlzIGNyZWF0ZXMgYSB3cmFwcGVyLCBhcyBkZXNjcmliZWQgYWJvdmUuIFRoZSB3cmFwcGVyIGZvcndhcmRzIHRvIGFcbiAgICAgbG9nZ2VyIG9mIHRoZSBMb2dzIGxpYnJhcnksIGJ1dCBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlIGZvcm1hdHRlciBtIHRvIHRoZVxuICAgICB1c2VyJ3MgY2FsbGJhY2ssIGl0IHBhc3NlcyBhIGZvcm1hdHRlciBtJywgd2hpY2ggaXMgbGlrZSBtLCBidXQgbGFja3MgYVxuICAgICA/dGFncyBhcmd1bWVudC4gSXQgaGFzIGEgP3JlcXVlc3QgYXJndW1lbnQgaW5zdGVhZC4gSWYgfnJlcXVlc3QgaXMgZ2l2ZW4sXG4gICAgIG0nIGltbWVkaWF0ZWx5IHRyaWVzIHRvIHJldHJpZXZlIHRoZSByZXF1ZXN0IGlkLCBwdXQgaXQgaW50byBhIExvZ3MgdGFnLFxuICAgICBhbmQgY2FsbCBMb2dzJyBtIHdpdGggdGhlIHVzZXIncyBmb3JtYXR0aW5nIGFyZ3VtZW50cyBhbmQgdGhlIHRhZy4gKilcbiAgbGV0IGZvcndhcmQgfihkZXN0aW5hdGlvbl9sb2cgOiBfIExvZ3MubG9nKSB1c2VyJ3NfayA9XG4gICAgbGV0IGBJbml0aWFsaXplZCA9IGluaXRpYWxpemVkICgpIGluXG5cbiAgICBkZXN0aW5hdGlvbl9sb2cgKGZ1biBsb2cgLT5cbiAgICAgIHVzZXInc19rIChmdW4gP3JlcXVlc3QgZm9ybWF0X2FuZF9hcmd1bWVudHMgLT5cbiAgICAgICAgbGV0IHRhZ3MgPVxuICAgICAgICAgIG1hdGNoIHJlcXVlc3Qgd2l0aFxuICAgICAgICAgIHwgTm9uZSAtPiBMb2dzLlRhZy5lbXB0eVxuICAgICAgICAgIHwgU29tZSByZXF1ZXN0IC0+XG4gICAgICAgICAgICBtYXRjaCBnZXRfcmVxdWVzdF9pZCB+cmVxdWVzdCAoKSB3aXRoXG4gICAgICAgICAgICB8IE5vbmUgLT4gTG9ncy5UYWcuZW1wdHlcbiAgICAgICAgICAgIHwgU29tZSByZXF1ZXN0X2lkIC0+XG4gICAgICAgICAgICAgIExvZ3MuVGFnLmFkZCBsb2dzX2xpYl90YWcgcmVxdWVzdF9pZCBMb2dzLlRhZy5lbXB0eVxuICAgICAgICBpblxuICAgICAgICBsb2cgfnRhZ3MgZm9ybWF0X2FuZF9hcmd1bWVudHMpKVxuICBpblxuXG4gIGxldCBsZXZlbCA9XG4gICAgTGlzdC5maW5kIE9wdGlvbi5pc19zb21lIFtcbiAgICAgIE9wdGlvbi5tYXAgdG9fbG9nc19sZXZlbCBsZXZlbF87XG4gICAgICBMaXN0LmFzc29jX29wdCBuYW1lICFjdXN0b21fbG9nX2xldmVscztcbiAgICAgIFNvbWUgIWxldmVsXG4gICAgXSBpblxuXG4gICgqIENyZWF0ZSB0aGUgYWN0dWFsIExvZ3Mgc291cmNlLCBhbmQgdGhlbiB3cmFwIGFsbCB0aGUgaW50ZXJlc3RpbmdcbiAgICAgZnVuY3Rpb25zLiAqKVxuICBsZXQgc3JjID0gTG9ncy5TcmMuY3JlYXRlIG5hbWUgaW5cbiAgbGV0IChtb2R1bGUgTG9nKSA9IExvZ3Muc3JjX2xvZyBzcmMgaW5cbiAgTG9ncy5TcmMuc2V0X2xldmVsIHNyYyBsZXZlbDtcbiAgY3VzdG9tX2xvZ19sZXZlbHMgOj1cbiAgICAobmFtZSwgT3B0aW9uLmdldCBsZXZlbCk6OihMaXN0LnJlbW92ZV9hc3NvYyBuYW1lICFjdXN0b21fbG9nX2xldmVscyk7XG4gIHNvdXJjZXMgOj0gKG5hbWUsIHNyYykgOjogKExpc3QucmVtb3ZlX2Fzc29jIG5hbWUgIXNvdXJjZXMpO1xuXG4gIHtcbiAgICBlcnJvciA9ICAgKGZ1biBrIC0+IGZvcndhcmQgfmRlc3RpbmF0aW9uX2xvZzpMb2cuZXJyICAgayk7XG4gICAgd2FybmluZyA9IChmdW4gayAtPiBmb3J3YXJkIH5kZXN0aW5hdGlvbl9sb2c6TG9nLndhcm4gIGspO1xuICAgIGluZm8gPSAgICAoZnVuIGsgLT4gZm9yd2FyZCB+ZGVzdGluYXRpb25fbG9nOkxvZy5pbmZvICBrKTtcbiAgICBkZWJ1ZyA9ICAgKGZ1biBrIC0+IGZvcndhcmQgfmRlc3RpbmF0aW9uX2xvZzpMb2cuZGVidWcgayk7XG4gIH1cblxuXG5cbmxldCBjb252ZW5pZW5jZV9sb2cgZm9ybWF0X2FuZF9hcmd1bWVudHMgPVxuICBGbXQua3N0clxuICAgIChmdW4gbWVzc2FnZSAtPlxuICAgICAgbGV0IGBJbml0aWFsaXplZCA9IGluaXRpYWxpemVkICgpIGluXG4gICAgICBMb2dzLmFwcCAoZnVuIGxvZyAtPiBsb2cgXCIlc1wiIG1lc3NhZ2UpKVxuICAgIGZvcm1hdF9hbmRfYXJndW1lbnRzXG4gICgqIExvZ3MuYXBwIChmdW4gbG9nIC0+IGxvZyBmb3JtYXRfYW5kX2FyZ3VtZW50cykgKilcbiAgKCogbGV0IHJlcG9ydCA9IExvZ3MuKChyZXBvcnRlciAoKSkucmVwb3J0KSBpblxuICByZXBvcnQgTG9ncy5kZWZhdWx0IExvZ3MuQXBwIH5vdmVyOmlnbm9yZSBpZ25vcmUgZm9ybWF0X2FuZF9hcmd1bWVudHMgKilcblxuXG5cbigqIEEgaGVscGVyIHVzZWQgaW4gc2V2ZXJhbCBwbGFjZXMuICopXG5sZXQgaXRlcl9iYWNrdHJhY2UgZiBiYWNrdHJhY2UgPVxuICBiYWNrdHJhY2VcbiAgfD4gU3RyaW5nLnNwbGl0X29uX2NoYXIgJ1xcbidcbiAgfD4gTGlzdC5maWx0ZXIgKGZ1biBsaW5lIC0+IGxpbmUgPD4gXCJcIilcbiAgfD4gTGlzdC5pdGVyIGZcblxuXG5cbigqIFVzZSB0aGUgYWJvdmUgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbG9nIHNvdXJjZSBmb3IgTG9nJ3Mgb3duIG1pZGRsZXdhcmUsIHRoZVxuICAgc2FtZSB3YXkgYW55IG90aGVyIG1pZGRsZXdhcmUgd291bGQuICopXG5sZXQgbG9nID1cbiAgc3ViX2xvZyBcImRyZWFtLmxvZ2dlclwiXG5cblxuXG5sZXQgc2V0X3VwX2V4Y2VwdGlvbl9ob29rICgpID1cbiAgaWYgIXNldF9hc3luY19leGNlcHRpb25faG9vayB0aGVuIGJlZ2luXG4gICAgc2V0X2FzeW5jX2V4Y2VwdGlvbl9ob29rIDo9IGZhbHNlO1xuICAgIEx3dC5hc3luY19leGNlcHRpb25faG9vayA6PSBmdW4gZXhuIC0+XG4gICAgICBsZXQgYmFja3RyYWNlID0gUHJpbnRleGMuZ2V0X2JhY2t0cmFjZSAoKSBpblxuICAgICAgbG9nLmVycm9yIChmdW4gbG9nIC0+IGxvZyBcIkFzeW5jIGV4Y2VwdGlvbjogJXNcIiAoUHJpbnRleGMudG9fc3RyaW5nIGV4bikpO1xuICAgICAgYmFja3RyYWNlXG4gICAgICB8PiBpdGVyX2JhY2t0cmFjZSAoZnVuIGxpbmUgLT4gbG9nLmVycm9yIChmdW4gbG9nIC0+IGxvZyBcIiVzXCIgbGluZSkpXG4gIGVuZFxuXG5sZXQgaW5pdGlhbGl6ZV9sb2dcbiAgICA/KGJhY2t0cmFjZXMgPSB0cnVlKVxuICAgID8oYXN5bmNfZXhjZXB0aW9uX2hvb2sgPSB0cnVlKVxuICAgID9sZXZlbDpsZXZlbF9cbiAgICA/ZW5hYmxlOihlbmFibGVfID0gdHJ1ZSlcbiAgICAoKSA9XG5cbiAgaWYgYmFja3RyYWNlcyB0aGVuXG4gICAgUHJpbnRleGMucmVjb3JkX2JhY2t0cmFjZSB0cnVlO1xuICBzZXRfcHJpbnRleGMgOj0gZmFsc2U7XG5cbiAgaWYgYXN5bmNfZXhjZXB0aW9uX2hvb2sgdGhlblxuICAgIHNldF91cF9leGNlcHRpb25faG9vayAoKTtcbiAgc2V0X2FzeW5jX2V4Y2VwdGlvbl9ob29rIDo9IGZhbHNlO1xuXG4gIGxldCBsZXZlbF8gPVxuICAgIE9wdGlvbi5tYXAgdG9fbG9nc19sZXZlbCBsZXZlbF9cbiAgICB8PiBPcHRpb24udmFsdWUgfmRlZmF1bHQ6TG9ncy5JbmZvIGluXG5cbiAgZW5hYmxlIDo9IGVuYWJsZV87XG4gIGxldmVsIDo9IGxldmVsXztcbiAgbGV0IGBJbml0aWFsaXplZCA9IGluaXRpYWxpemVkICgpIGluXG4gICgpXG5cbmxldCBzZXRfbG9nX2xldmVsIG5hbWUgbGV2ZWwgPVxuICAoKiBJZiBsb2dnaW5nIGhhc24ndCBiZWVuIGluaXRpYWxpemVkLCB0cmlnZ2VyIHRoaXMgc28gdGhhdFxuICAgICBjb25maWd1cmF0aW9uIG9mIGxvZyBsZXZlbHMgY2FuIHByb2NlZWQuICopXG4gIGxldCBgSW5pdGlhbGl6ZWQgPSBpbml0aWFsaXplZCAoKSBpblxuICBsZXQgbGV2ZWwgPSB0b19sb2dzX2xldmVsIGxldmVsIGluXG4gIGN1c3RvbV9sb2dfbGV2ZWxzIDo9XG4gICAgKG5hbWUsIGxldmVsKTo6KExpc3QucmVtb3ZlX2Fzc29jIG5hbWUgIWN1c3RvbV9sb2dfbGV2ZWxzKTtcbiAgbGV0IHNyYyA9IExpc3QuYXNzb2Nfb3B0IG5hbWUgIXNvdXJjZXMgaW5cbiAgT3B0aW9uLml0ZXIgKGZ1biBzIC0+IExvZ3MuU3JjLnNldF9sZXZlbCBzIChTb21lIGxldmVsKSkgc3JjXG5cbm1vZHVsZSBNYWtlIChQY2xvY2sgOiBNaXJhZ2VfY2xvY2suUENMT0NLKSA9XG5zdHJ1Y3RcbiAgbGV0IG5vdyAoKSA9XG4gICAgUHRpbWUudG9fZmxvYXRfcyAoUHRpbWUudiAoUGNsb2NrLm5vd19kX3BzICgpKSlcblxuICBsZXQgaW5pdGlhbGl6ZXJfIH5zZXR1cF9vdXRwdXRzID0gbGF6eSBiZWdpblxuICAgIGlmICFlbmFibGUgdGhlbiBiZWdpblxuICAgICAgc2V0dXBfb3V0cHV0cyAoKSA7XG4gICAgICBMb2dzLnNldF9sZXZlbCB+YWxsOnRydWUgKFNvbWUgIWxldmVsKTtcbiAgICAgICFjdXN0b21fbG9nX2xldmVscyB8PiBMaXN0Lml0ZXIgKGZ1biAobmFtZSwgbGV2ZWwpIC0+XG4gICAgICAgIExpc3QuYXNzb2Nfb3B0IG5hbWUgIXNvdXJjZXNcbiAgICAgICAgfD4gT3B0aW9uLml0ZXIgKGZ1biBzb3VyY2UgLT4gTG9ncy5TcmMuc2V0X2xldmVsIHNvdXJjZSAoU29tZSBsZXZlbCkpKTtcbiAgICAgIExvZ3Muc2V0X3JlcG9ydGVyIChyZXBvcnRlciB+bm93ICgpKVxuICAgIGVuZCA7XG4gICAgYEluaXRpYWxpemVkXG4gIGVuZFxuXG4gIGxldCBzZXQgPSByZWYgZmFsc2VcblxuICBsZXQgaW5pdGlhbGl6ZSB+c2V0dXBfb3V0cHV0cyA9XG4gICAgaWYgIXNldCB0aGVuIExvZ3MuZGVidWcgKGZ1biBsb2cgLT4gbG9nXG4gICAgICBcIkRyZWFtX19sb2cuaW5pdGlhbGl6ZSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCwgaWdub3JpbmcgdGhpcyBjYWxsLlwiKVxuICAgIGVsc2UgYmVnaW5cbiAgICAgICh0cnlcbiAgICAgICAgbGV0IGBJbml0aWFsaXplZCA9IGluaXRpYWxpemVkICgpIGluXG4gICAgICAgIEZvcm1hdC5lcHJpbnRmXG4gICAgICAgICAgXCJEcmVhbV9fbG9nLmluaXRpYWxpemVkIGhhcyBhbHJlYWR5IGJlZW4gc2V0LCBjaGVjayB0aGF0IHRoaXMgY2FsbCBcXFxuICAgICAgICAgIGlzIGludGVudGlvbmFsXCI7XG4gICAgICAgIHdpdGhcbiAgICAgICAgICBMb2dzX2FyZV9ub3RfaW5pdGlhbGl6ZWQgLT4gKCkpO1xuICAgICAgc2V0IDo9IHRydWU7XG4gICAgICBfaW5pdGlhbGl6ZWQgOj0gU29tZSAoaW5pdGlhbGl6ZXJfIH5zZXR1cF9vdXRwdXRzKVxuICAgIGVuZFxuXG4gICgqIFRoZSByZXF1ZXN0IGxvZ2dpbmcgbWlkZGxld2FyZS4gKilcbiAgbGV0IGxvZ2dlciBuZXh0X2hhbmRsZXIgcmVxdWVzdCA9XG5cbiAgICBsZXQgc3RhcnQgPSBub3cgKCkgaW5cblxuICAgICgqIFR1cm4gb24gYmFja3RyYWNlIHJlY29yZGluZy4gKilcbiAgICBpZiAhc2V0X3ByaW50ZXhjIHRoZW4gYmVnaW5cbiAgICAgIFByaW50ZXhjLnJlY29yZF9iYWNrdHJhY2UgdHJ1ZTtcbiAgICAgIHNldF9wcmludGV4YyA6PSBmYWxzZVxuICAgIGVuZDtcblxuICAgICgqIEdldCB0aGUgcmVxdXdzdCdzIGlkIG9yIGFzc2lnbiBhIG5ldyBvbmUuICopXG4gICAgbGV0IGlkID1cbiAgICAgIG1hdGNoIE1lc3NhZ2UuZmllbGQgcmVxdWVzdCBpZF9maWVsZCB3aXRoXG4gICAgICB8IFNvbWUgaWQgLT4gaWRcbiAgICAgIHwgTm9uZSAtPlxuICAgICAgICBsYXN0X2lkIDo9ICFsYXN0X2lkICsgMTtcbiAgICAgICAgbGV0IGlkID0gc3RyaW5nX29mX2ludCAhbGFzdF9pZCBpblxuICAgICAgICBNZXNzYWdlLnNldF9maWVsZCByZXF1ZXN0IGlkX2ZpZWxkIGlkO1xuICAgICAgICBpZFxuICAgIGluXG5cbiAgICAoKiBJZGVudGlmeSB0aGUgcmVxdWVzdCBpbiB0aGUgbG9nLiAqKVxuICAgIGxldCB1c2VyX2FnZW50ID1cbiAgICAgIE1lc3NhZ2UuaGVhZGVycyByZXF1ZXN0IFwiVXNlci1BZ2VudFwiXG4gICAgICB8PiBTdHJpbmcuY29uY2F0IFwiIFwiXG4gICAgaW5cblxuICAgIGxvZy5pbmZvIChmdW4gbG9nIC0+XG4gICAgICBsb2cgfnJlcXVlc3QgXCIlcyAlcyAlcyAlc1wiXG4gICAgICAgIChNZXRob2QubWV0aG9kX3RvX3N0cmluZyAoTWVzc2FnZS5tZXRob2RfIHJlcXVlc3QpKVxuICAgICAgICAoTWVzc2FnZS50YXJnZXQgcmVxdWVzdClcbiAgICAgICAgKEhlbHBlcnMuY2xpZW50IHJlcXVlc3QpXG4gICAgICAgIHVzZXJfYWdlbnQpO1xuXG4gICAgKCogQ2FsbCB0aGUgcmVzdCBvZiB0aGUgYXBwLiAqKVxuICAgIEx3dC50cnlfYmluZFxuICAgICAgKGZ1biAoKSAtPlxuICAgICAgICBMd3Qud2l0aF92YWx1ZSBpZF9sd3Rfa2V5IChTb21lIGlkKSAoZnVuICgpIC0+XG4gICAgICAgICAgbmV4dF9oYW5kbGVyIHJlcXVlc3QpKVxuICAgICAgKGZ1biByZXNwb25zZSAtPlxuICAgICAgICAoKiBMb2cgdGhlIGVsYXBzZWQgdGltZS4gSWYgdGhlIHJlc3BvbnNlIGlzIGEgcmVkaXJlY3Rpb24sIGxvZyB0aGVcbiAgICAgICAgICAgdGFyZ2V0LiAqKVxuICAgICAgICBsZXQgbG9jYXRpb24gPVxuICAgICAgICAgIGlmIFN0YXR1cy5pc19yZWRpcmVjdGlvbiAoTWVzc2FnZS5zdGF0dXMgcmVzcG9uc2UpIHRoZW5cbiAgICAgICAgICAgIG1hdGNoIE1lc3NhZ2UuaGVhZGVyIHJlc3BvbnNlIFwiTG9jYXRpb25cIiB3aXRoXG4gICAgICAgICAgICB8IFNvbWUgbG9jYXRpb24gLT4gXCIgXCIgXiBsb2NhdGlvblxuICAgICAgICAgICAgfCBOb25lIC0+IFwiXCJcbiAgICAgICAgICBlbHNlIFwiXCJcbiAgICAgICAgaW5cblxuICAgICAgICBsZXQgc3RhdHVzID0gTWVzc2FnZS5zdGF0dXMgcmVzcG9uc2UgaW5cblxuICAgICAgICBsZXQgcmVwb3J0IDpcbiAgICAgICAgICAoP3JlcXVlc3Q6TWVzc2FnZS5yZXF1ZXN0IC0+XG4gICAgICAgICAgICAoJ2EsIEZvcm1hdC5mb3JtYXR0ZXIsIHVuaXQsICdiKSBmb3JtYXQ0IC0+ICdhKSAtPiAnYiA9XG4gICAgICAgICAgICBmdW4gbG9nIC0+XG4gICAgICAgICAgbGV0IGVsYXBzZWQgPSBub3cgKCkgLS4gc3RhcnQgaW5cbiAgICAgICAgICBsb2cgfnJlcXVlc3QgXCIlaSVzIGluICUuMGYgzrxzXCJcbiAgICAgICAgICAgIChTdGF0dXMuc3RhdHVzX3RvX2ludCBzdGF0dXMpXG4gICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICAgKGVsYXBzZWQgKi4gMWU2KVxuICAgICAgICBpblxuXG4gICAgICAgIGJlZ2luXG4gICAgICAgICAgaWYgU3RhdHVzLmlzX3NlcnZlcl9lcnJvciBzdGF0dXMgdGhlblxuICAgICAgICAgICAgbG9nLmVycm9yIHJlcG9ydFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlmIFN0YXR1cy5pc19jbGllbnRfZXJyb3Igc3RhdHVzIHRoZW5cbiAgICAgICAgICAgICAgbG9nLndhcm5pbmcgcmVwb3J0XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGxvZy5pbmZvIHJlcG9ydFxuICAgICAgICBlbmQ7XG5cbiAgICAgICAgTHd0LnJldHVybiByZXNwb25zZSlcblxuICAgICAgKGZ1biBleG4gLT5cbiAgICAgICAgbGV0IGJhY2t0cmFjZSA9IFByaW50ZXhjLmdldF9iYWNrdHJhY2UgKCkgaW5cbiAgICAgICAgKCogSW4gY2FzZSBvZiBleGNlcHRpb24sIGxvZyB0aGUgZXhjZXB0aW9uLiBXZSBhbHNwIGxvZyB0aGUgYmFja3RyYWNlXG4gICAgICAgICAgIGhlcmUsIGV2ZW4gdGhvdWdoIGl0IGlzIGxpa2VseSB0byBiZSByZWR1bmRhbnQsIGJlY2F1c2Ugc29tZSBPQ2FtbFxuICAgICAgICAgICBsaWJyYXJpZXMgaW5zdGFsbCBleGNlcHRpb24gcHJpbnRlcnMgdGhhdCB3aWxsIGNsb2JiZXIgdGhlIGJhY2t0cmFjZVxuICAgICAgICAgICByaWdodCBkdXJpbmcgUHJpbnRleGMudG9fc3RyaW5nISAqKVxuICAgICAgICBsb2cud2FybmluZyAoZnVuIGxvZyAtPlxuICAgICAgICAgIGxvZyB+cmVxdWVzdCBcIkFib3J0ZWQgYnk6ICVzXCIgKFByaW50ZXhjLnRvX3N0cmluZyBleG4pKTtcblxuICAgICAgICBiYWNrdHJhY2VcbiAgICAgICAgfD4gaXRlcl9iYWNrdHJhY2UgKGZ1biBsaW5lIC0+IGxvZy53YXJuaW5nIChmdW4gbG9nIC0+IGxvZyBcIiVzXCIgbGluZSkpO1xuXG4gICAgICAgIEx3dC5mYWlsIGV4bilcbmVuZFxuXG5cblxuKCogVE9ETyBET0MgSW5jbHVkZSBsb2dnaW5nIGl0c2VsZiBpbiB0aGUgdGltaW5nLiBPcj8gSXNuJ3QgdGhhdCBwb2ludGxlc3M/XG4gICBFbmQtdG8gLWVuZCB0aW1pbmcgc2hvdWxkIGluY2x1ZGUgdGhlIEhUVFAgcGFyc2VyIGFzIHdlbGwuIFRoZSBsb2dnZXJcbiAgIHByb3ZpZGVzIG11Y2ggbW9yZSB1c2VmdWwgaW5mb3JtYXRpb24gaWYgaXQgaGVscHMgdGhlIHVzZXIgb3B0aW1pemUgdGhlIGFwcC5cbiAgIFNwLCBzaG91bGQgcHJvYmFibHkgY3JhZXRlIHNvbWUgaGVscGVycyBmb3IgdGhlIHVzZXIgdG8gZG8gZW5kLXRvLWVuZCB0aW1pbmdcbiAgIG9mIHRoZSBIVFRQIHNlcnZlciBhbmQgZG9jdW1lbnQgaG93IHRvIHVzZSB0aGVtLiAqKVxuKCogVE9ETyBET0MgQWRkIGRvY3Mgb24gaG93IHRvIGF2b2lkIE9DYW1sYnVpbGQgZGVwLiAqKVxuKCogVE9ETyBET0Mgd2h5IGl0J3MgZ29vZCB0byB1c2UgdGhlIGluaXRpYWxpemVyIGVhcmx5LiAqKVxuXG4oKiBUT0RPIExBVEVSIGltcGxlbWVudCBmaXJlLiAqKVxuKCogVE9ETyBMQVRFUiBJbiBjYXNlIG9mIHN0cmVhbWVkIGJvZGllcywgaXQgaXMgdXNlZnVsIGZvciB0aGUgbG9nZ2VyIHRvIGJlIHRvbGRcbiAgIGJ5IHRoZSBIVFRQIGxheWVyIHdoZW4gc3RyZWFtaW5nIHdhcyBhY3R1YWxseSBjb21wbGV0ZWQuICopXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBGb3JtYXRzID0gRHJlYW1fcHVyZS5Gb3JtYXRzXG5tb2R1bGUgTWVzc2FnZSA9IERyZWFtX3B1cmUuTWVzc2FnZVxubW9kdWxlIE1ldGhvZCA9IERyZWFtX3B1cmUuTWV0aG9kXG5cblxuXG4oKiBUT0RPIExpbWl0IGNoYXJhY3RlciBzZXQgdG8gcGVybWl0IGZ1dHVyZSBleHRlbnNpb25zLiAqKVxuKCogVE9ETyBEb2N1bWVudCAqLiAqKVxuKCogVE9ETyBGb3JiaWQgd2lsZGNhcmQgc2NvcGVzLiAqKVxuKCogVE9ETyBXaWxsIG5lZWQgdG8gcmVzdG9yZSBzdGFnZWQgcHJlZml4ZXMgb25jZSB0aGVyZSBpcyBwcmVmaXgtcXVlcnlpbmcsXG4gICBtaWRkbGV3YXJlIGJlY2F1c2UgaXQgd2lsbCBuZWVkIHRvIGtub3cgdGhlIHByZWZpeCBvZiB0aGUgbmVhcmVzdCByb3V0ZXIuICopXG4oKiBUT0RPIEZvciBmdWxsIHNpdGUgY29tcG9zaXRpb24sIGFueV9tZXRob2QgaXMgbmVlZGVkIHRvIGZvcndhcmQgZXZlcnl0aGluZyB0b1xuICAgYSBzdWJzaXRlIGhhbmRsZXIuICopXG4oKiBUT0RPIFJlc3RvcmUgdGhlIHNpdGUgcHJlZml4IGFzIGEgXCJidWlsdC1pblwiIG1pZGRsZXdhcmUuIFRoaXMgbWFrZXMgbXVjaCBtb3JlXG4gICBzZW5zZSBub3cgdGhhdCB0aGVyZSBpcyBhIHVuaWZpZWQgZXJyb3IgaGFuZGxlciBiZW5lYXRoIGl0LiAqKVxuXG50eXBlIHRva2VuID1cbiAgfCBMaXRlcmFsIG9mIHN0cmluZ1xuICB8IFBhcmFtIG9mIHN0cmluZ1xuICB8IFdpbGRjYXJkIG9mIHN0cmluZ1xuXG5sZXQgcmVjIHZhbGlkYXRlIHJvdXRlID0gZnVuY3Rpb25cbiAgfCAoUGFyYW0gXCJcIik6Ol8gLT5cbiAgICBQcmludGYua3NwcmludGYgZmFpbHdpdGggXCJFbXB0eSBwYXRoIHBhcmFtZXRlciBuYW1lIGluICclcydcIiByb3V0ZVxuICB8IFtXaWxkY2FyZCBcIipcIl0gLT5cbiAgICAoKVxuICB8IChXaWxkY2FyZCBcIipcIik6Ol8gLT5cbiAgICBmYWlsd2l0aCBcIlBhdGggd2lsZGNhcmQgbXVzdCBiZSBsYXN0XCJcbiAgfCAoV2lsZGNhcmQgXyk6Ol8gLT5cbiAgICBmYWlsd2l0aCBcIlBhdGggd2lsZGNhcmQgbXVzdCBiZSBqdXN0ICcqKidcIlxuICB8IF86OnRva2VucyAtPlxuICAgIHZhbGlkYXRlIHJvdXRlIHRva2Vuc1xuICB8IFtdIC0+XG4gICAgKClcblxubGV0IG1ha2Vfc3Rhcl9vcl93aWxkY2FyZCA9IGZ1bmN0aW9uXG4gIHwgXCJcIiAtPiBMaXRlcmFsIFwiKlwiXG4gIHwgcyAtPiBXaWxkY2FyZCBzXG5cbmxldCBwYXJzZSBzdHJpbmcgPVxuXG4gIGxldCByZWMgcGFyc2Vfc2VwYXJhdG9yIHRva2VucyBpbmRleCA9XG4gICAgbWF0Y2ggc3RyaW5nLltpbmRleF0gd2l0aFxuICAgIHwgJy8nIC0+XG4gICAgICBwYXJzZV9jb21wb25lbnRfc3RhcnQgdG9rZW5zIChpbmRleCArIDEpXG4gICAgfCBfIC0+XG4gICAgICBwYXJzZV9jb21wb25lbnRfc3RhcnQgdG9rZW5zIGluZGV4XG4gICAgfCBleGNlcHRpb24gSW52YWxpZF9hcmd1bWVudCBfIC0+XG4gICAgICBMaXN0LnJldiB0b2tlbnNcblxuICBhbmQgcGFyc2VfY29tcG9uZW50X3N0YXJ0IHRva2VucyBpbmRleCA9XG4gICAgbWF0Y2ggc3RyaW5nLltpbmRleF0gd2l0aFxuICAgIHwgJy8nIC0+XG4gICAgICBwYXJzZV9jb21wb25lbnRfc3RhcnQgdG9rZW5zIChpbmRleCArIDEpXG4gICAgfCAnOicgLT5cbiAgICAgIHBhcnNlX2NvbXBvbmVudCB0b2tlbnMgKGZ1biBzIC0+IFBhcmFtIHMpIChpbmRleCArIDEpIChpbmRleCArIDEpXG4gICAgfCAnKicgLT5cbiAgICAgIHBhcnNlX2NvbXBvbmVudCB0b2tlbnMgbWFrZV9zdGFyX29yX3dpbGRjYXJkIChpbmRleCArIDEpIChpbmRleCArIDEpXG4gICAgfCBfIHwgZXhjZXB0aW9uIEludmFsaWRfYXJndW1lbnQgXyAtPlxuICAgICAgcGFyc2VfY29tcG9uZW50IHRva2VucyAoZnVuIHMgLT4gTGl0ZXJhbCBzKSBpbmRleCBpbmRleFxuXG4gIGFuZCBwYXJzZV9jb21wb25lbnQgdG9rZW5zIGNvbnN0cnVjdG9yIHN0YXJ0X2luZGV4IGluZGV4ID1cbiAgICBtYXRjaCBzdHJpbmcuW2luZGV4XSB3aXRoXG4gICAgfCBleGNlcHRpb24gSW52YWxpZF9hcmd1bWVudCBfIC0+XG4gICAgICBsZXQgdG9rZW4gPVxuICAgICAgICBjb25zdHJ1Y3RvciAoU3RyaW5nLnN1YiBzdHJpbmcgc3RhcnRfaW5kZXggKGluZGV4IC0gc3RhcnRfaW5kZXgpKSBpblxuICAgICAgTGlzdC5yZXYgKHRva2VuOjp0b2tlbnMpXG4gICAgfCAnLycgLT5cbiAgICAgIGxldCB0b2tlbiA9XG4gICAgICAgIGNvbnN0cnVjdG9yIChTdHJpbmcuc3ViIHN0cmluZyBzdGFydF9pbmRleCAoaW5kZXggLSBzdGFydF9pbmRleCkpIGluXG4gICAgICBwYXJzZV9zZXBhcmF0b3IgKHRva2VuOjp0b2tlbnMpIGluZGV4XG4gICAgfCBfIC0+XG4gICAgICBwYXJzZV9jb21wb25lbnQgdG9rZW5zIGNvbnN0cnVjdG9yIHN0YXJ0X2luZGV4IChpbmRleCArIDEpXG5cbiAgaW5cblxuICBsZXQgdG9rZW5zID0gcGFyc2Vfc2VwYXJhdG9yIFtdIDAgaW5cbiAgdmFsaWRhdGUgc3RyaW5nIHRva2VucztcbiAgdG9rZW5zXG5cbmxldCByZWMgc3RyaXBfZW1wdHlfdHJhaWxpbmdfdG9rZW4gPSBmdW5jdGlvblxuICB8IFtdIC0+IFtdXG4gIHwgW0xpdGVyYWwgXCJcIl0gLT4gW11cbiAgfCB0b2tlbjo6dG9rZW5zIC0+IHRva2VuOjooc3RyaXBfZW1wdHlfdHJhaWxpbmdfdG9rZW4gdG9rZW5zKVxuXG5cblxudHlwZSBtZXRob2Rfc2V0ID0gW1xuICB8IE1ldGhvZC5tZXRob2RfXG4gIHwgYEFueVxuXVxuXG5sZXQgbWV0aG9kX21hdGNoZXMgbWV0aG9kX3NldCBtZXRob2RfID1cbiAgbWF0Y2ggbWV0aG9kX3NldCB3aXRoXG4gIHwgI01ldGhvZC5tZXRob2RfIGFzIG1ldGhvZCcgLT4gTWV0aG9kLm1ldGhvZHNfZXF1YWwgbWV0aG9kJyBtZXRob2RfXG4gIHwgYEFueSAtPiB0cnVlXG5cbnR5cGUgbm9kZSA9XG4gIHwgSGFuZGxlciBvZiBtZXRob2Rfc2V0ICogTWVzc2FnZS5oYW5kbGVyXG4gIHwgU2NvcGUgb2Ygcm91dGVcblxuYW5kIHJvdXRlID0gKHRva2VuIGxpc3QgKiBub2RlKSBsaXN0XG5cbmxldCBnZXQgcGF0dGVybiBoYW5kbGVyID1cbiAgW3BhcnNlIHBhdHRlcm4sIEhhbmRsZXIgKGBHRVQsIGhhbmRsZXIpXVxuXG5sZXQgcG9zdCBwYXR0ZXJuIGhhbmRsZXIgPVxuICBbcGFyc2UgcGF0dGVybiwgSGFuZGxlciAoYFBPU1QsIGhhbmRsZXIpXVxuXG5sZXQgcHV0IHBhdHRlcm4gaGFuZGxlciA9XG4gIFtwYXJzZSBwYXR0ZXJuLCBIYW5kbGVyIChgUFVULCBoYW5kbGVyKV1cblxubGV0IGRlbGV0ZSBwYXR0ZXJuIGhhbmRsZXIgPVxuICBbcGFyc2UgcGF0dGVybiwgSGFuZGxlciAoYERFTEVURSwgaGFuZGxlcildXG5cbmxldCBoZWFkIHBhdHRlcm4gaGFuZGxlciA9XG4gIFtwYXJzZSBwYXR0ZXJuLCBIYW5kbGVyIChgSEVBRCwgaGFuZGxlcildXG5cbmxldCBjb25uZWN0IHBhdHRlcm4gaGFuZGxlciA9XG4gIFtwYXJzZSBwYXR0ZXJuLCBIYW5kbGVyIChgQ09OTkVDVCwgaGFuZGxlcildXG5cbmxldCBvcHRpb25zIHBhdHRlcm4gaGFuZGxlciA9XG4gIFtwYXJzZSBwYXR0ZXJuLCBIYW5kbGVyIChgT1BUSU9OUywgaGFuZGxlcildXG5cbmxldCB0cmFjZSBwYXR0ZXJuIGhhbmRsZXIgPVxuICBbcGFyc2UgcGF0dGVybiwgSGFuZGxlciAoYFRSQUNFLCBoYW5kbGVyKV1cblxubGV0IHBhdGNoIHBhdHRlcm4gaGFuZGxlciA9XG4gIFtwYXJzZSBwYXR0ZXJuLCBIYW5kbGVyIChgUEFUQ0gsIGhhbmRsZXIpXVxuXG5sZXQgYW55IHBhdHRlcm4gaGFuZGxlciA9XG4gIFtwYXJzZSBwYXR0ZXJuLCBIYW5kbGVyIChgQW55LCBoYW5kbGVyKV1cblxubGV0IG5vX3JvdXRlID1cbiAgW11cblxubGV0IHJlYyBhcHBseSBtaWRkbGV3YXJlcyByb3V0ZXMgPVxuICBsZXQgcmVjIGNvbXBvc2UgaGFuZGxlciA9IGZ1bmN0aW9uXG4gICAgfCBbXSAtPiBoYW5kbGVyXG4gICAgfCBtaWRkbGV3YXJlOjptb3JlIC0+IG1pZGRsZXdhcmUgQEAgY29tcG9zZSBoYW5kbGVyIG1vcmVcbiAgaW5cbiAgcm91dGVzXG4gIHw+IExpc3QuZmxhdHRlblxuICB8PiBMaXN0Lm1hcCAoZnVuIChwYXR0ZXJuLCBub2RlKSAtPlxuICAgIGxldCBub2RlID1cbiAgICAgIG1hdGNoIG5vZGUgd2l0aFxuICAgICAgfCBIYW5kbGVyIChtZXRob2RfLCBoYW5kbGVyKSAtPlxuICAgICAgICBIYW5kbGVyIChtZXRob2RfLCBjb21wb3NlIGhhbmRsZXIgbWlkZGxld2FyZXMpXG4gICAgICB8IFNjb3BlIHJvdXRlIC0+IFNjb3BlIChhcHBseSBtaWRkbGV3YXJlcyBbcm91dGVdKVxuICAgIGluXG4gICAgcGF0dGVybiwgbm9kZSlcblxubGV0IHVuZGVyIHByZWZpeCByb3V0ZXMgPVxuICBbc3RyaXBfZW1wdHlfdHJhaWxpbmdfdG9rZW4gKHBhcnNlIHByZWZpeCksIFNjb3BlIChMaXN0LmZsYXR0ZW4gcm91dGVzKV1cblxubGV0IHNjb3BlIHByZWZpeCBtaWRkbGV3YXJlcyByb3V0ZXMgPVxuICB1bmRlciBwcmVmaXggW2FwcGx5IG1pZGRsZXdhcmVzIHJvdXRlc11cblxuXG5cbmxldCBwYXRoX2ZpZWxkIDogc3RyaW5nIGxpc3QgTWVzc2FnZS5maWVsZCA9XG4gIE1lc3NhZ2UubmV3X2ZpZWxkXG4gICAgfm5hbWU6XCJkcmVhbS5wYXRoXCJcbiAgICB+c2hvd192YWx1ZTooZnVuIHBhdGggLT4gU3RyaW5nLmNvbmNhdCBcIi9cIiBwYXRoKVxuICAgICgpXG5cbigqIFRPRE8gSXQgd291bGQgYmUgbmljZSBub3QgdG8gcmVwZWF0IHRoZSB3b3JrIG9mIHNwbGl0dGluZyB0aGUgcGF0aCBhbmQgcXVlcnlcbiAgIHN0cmluZy4gKilcbigqIFRPRE8gUmVtb3ZlIHRoaXMgZnJvbSB0aGUgQVBJLiAqKVxubGV0IHBhdGggdGhlX3JlcXVlc3QgPVxuICBtYXRjaCBNZXNzYWdlLmZpZWxkIHRoZV9yZXF1ZXN0IHBhdGhfZmllbGQgd2l0aFxuICB8IFNvbWUgcGF0aCAtPiBwYXRoXG4gIHwgTm9uZSAtPlxuICAgIE1lc3NhZ2UuKEZvcm1hdHMuKFxuICAgICAgdGhlX3JlcXVlc3QgfD4gdGFyZ2V0IHw+IHNwbGl0X3RhcmdldCB8PiBmc3QgfD4gZnJvbV9wYXRoKSlcblxuKCogVE9ETyBNb3ZlIHNpdGVfcHJlZml4IGludG8gdGhpcyBmaWxlIGFuZCByZW1vdmUgd2l0aF9wYXRoIGZyb20gdGhlIEFQSS4gKilcbmxldCBzZXRfcGF0aCByZXF1ZXN0IHBhdGggPVxuICBNZXNzYWdlLnNldF9maWVsZCByZXF1ZXN0IHBhdGhfZmllbGQgcGF0aFxuXG4oKiBQcmVmaXggaXMgc3RvcmVkIGJhY2t3YXJkcy4gKilcbmxldCBwcmVmaXhfZmllbGQgOiBzdHJpbmcgbGlzdCBNZXNzYWdlLmZpZWxkID1cbiAgTWVzc2FnZS5uZXdfZmllbGRcbiAgICB+bmFtZTpcImRyZWFtLnByZWZpeFwiXG4gICAgfnNob3dfdmFsdWU6KGZ1biBwcmVmaXggLT4gU3RyaW5nLmNvbmNhdCBcIi9cIiAoTGlzdC5yZXYgcHJlZml4KSlcbiAgICAoKVxuXG5sZXQgaW50ZXJuYWxfcHJlZml4IHJlcXVlc3QgPVxuICBtYXRjaCBNZXNzYWdlLmZpZWxkIHJlcXVlc3QgcHJlZml4X2ZpZWxkIHdpdGhcbiAgfCBTb21lIHByZWZpeCAtPiBwcmVmaXhcbiAgfCBOb25lIC0+IFtdXG5cbmxldCBwcmVmaXggcmVxdWVzdCA9XG4gIEZvcm1hdHMudG9fcGF0aCAoTGlzdC5yZXYgKGludGVybmFsX3ByZWZpeCByZXF1ZXN0KSlcblxubGV0IHNldF9wcmVmaXggcmVxdWVzdCBwcmVmaXggPVxuICBNZXNzYWdlLnNldF9maWVsZCByZXF1ZXN0IHByZWZpeF9maWVsZCBwcmVmaXhcblxubGV0IHBhcmFtc19maWVsZCA6IChzdHJpbmcgKiBzdHJpbmcpIGxpc3QgTWVzc2FnZS5maWVsZCA9XG4gIE1lc3NhZ2UubmV3X2ZpZWxkXG4gICAgfm5hbWU6XCJkcmVhbS5wYXJhbXNcIlxuICAgIH5zaG93X3ZhbHVlOihmdW4gcGFyYW1zIC0+XG4gICAgICBwYXJhbXNcbiAgICAgIHw+IExpc3QubWFwIChmdW4gKHBhcmFtLCB2YWx1ZSkgLT4gUHJpbnRmLnNwcmludGYgXCIlcz0lc1wiIHBhcmFtIHZhbHVlKVxuICAgICAgfD4gU3RyaW5nLmNvbmNhdCBcIiwgXCIpXG4gICAgKClcblxuXG5cbmxldCBsb2cgPVxuICBMb2cuc3ViX2xvZyBcImRyZWFtLnJvdXRlclwiXG5cbmxldCBtaXNzaW5nX3BhcmFtIHJlcXVlc3QgbmFtZSA9XG4gIGxldCBtZXNzYWdlID0gUHJpbnRmLnNwcmludGYgXCJEcmVhbS5wYXJhbTogbWlzc2luZyBwYXRoIHBhcmFtZXRlciAlU1wiIG5hbWUgaW5cbiAgbG9nLmVycm9yIChmdW4gbG9nIC0+IGxvZyB+cmVxdWVzdCBcIiVzXCIgbWVzc2FnZSk7XG4gIGZhaWx3aXRoIG1lc3NhZ2VcblxubGV0IHBhcmFtIHJlcXVlc3QgbmFtZSA9XG4gIG1hdGNoIE1lc3NhZ2UuZmllbGQgcmVxdWVzdCBwYXJhbXNfZmllbGQgd2l0aFxuICB8IE5vbmUgLT4gbWlzc2luZ19wYXJhbSByZXF1ZXN0IG5hbWVcbiAgfCBTb21lIHBhcmFtcyAtPlxuICAgIHRyeSBMaXN0LmFzc29jIG5hbWUgcGFyYW1zXG4gICAgd2l0aCBfIC0+IG1pc3NpbmdfcGFyYW0gcmVxdWVzdCBuYW1lXG5cbmxldCByb3V0ZXIgcm91dGVzID1cbiAgbGV0IHJvdXRlcyA9IExpc3QuZmxhdHRlbiByb3V0ZXMgaW5cblxuICBmdW4gcmVxdWVzdCAtPlxuXG4gICAgKCogVE9ETyBQcm9iYWJseSB1bm5lY2Vzc2FyeSAoYmVjYXVzZSBpdCdzIGJldHRlciB0byBqdXN0IGNvbnZlcnQgdGhpcyB0byBhXG4gICAgICAgdHJpZSksIGJ1dCB0aGUgbWV0aG9kIGNhbiBiZSBjaGVja2VkIGJlZm9yZSBkZXNjZW5kaW5nIGRvd24gdGhlIHJvdXRlLiAqKVxuXG4gICAgbGV0IHJlYyB0cnlfcm91dGVzIGJpbmRpbmdzIHByZWZpeCBwYXRoIHJvdXRlcyBvayBmYWlsID1cbiAgICAgIG1hdGNoIHJvdXRlcyB3aXRoXG4gICAgICB8IFtdIC0+IGZhaWwgKClcbiAgICAgIHwgKHBhdHRlcm4sIG5vZGUpOjpyb3V0ZXMgLT5cbiAgICAgICAgdHJ5X3JvdXRlIGJpbmRpbmdzIHByZWZpeCBwYXRoIHBhdHRlcm4gbm9kZSBvayAoZnVuICgpIC0+XG4gICAgICAgICAgdHJ5X3JvdXRlcyBiaW5kaW5ncyBwcmVmaXggcGF0aCByb3V0ZXMgb2sgZmFpbClcblxuICAgIGFuZCB0cnlfcm91dGUgYmluZGluZ3MgcHJlZml4IHBhdGggcGF0dGVybiBub2RlIG9rIGZhaWwgPVxuICAgICAgbWF0Y2ggcGF0dGVybiwgcGF0aCB3aXRoXG4gICAgICB8IFtdLCBfIC0+XG4gICAgICAgIHRyeV9ub2RlIGJpbmRpbmdzIHByZWZpeCBwYXRoIG5vZGUgZmFsc2Ugb2sgZmFpbFxuICAgICAgfCBfLCAgW10gLT4gZmFpbCAoKVxuICAgICAgfCBMaXRlcmFsICBzIDo6IHBhdHRlcm4sIHMnIDo6IHBhdGggd2hlbiBzID0gcycgLT5cbiAgICAgICAgdHJ5X3JvdXRlIGJpbmRpbmdzICAgICAgICAgICAgKHMnOjpwcmVmaXgpIHBhdGggcGF0dGVybiBub2RlIG9rIGZhaWxcbiAgICAgIHwgTGl0ZXJhbCAgXyA6OiBfLCAgICAgICBfICAgICAgICAgICAgICAgICAgICAgIC0+IGZhaWwgKClcbiAgICAgIHwgUGFyYW0gICAgXyA6OiBfLCAgICAgICBzJyA6OiBfIHdoZW4gcycgPSBcIlwiICAgLT4gZmFpbCAoKVxuICAgICAgfCBQYXJhbSAgICBzIDo6IHBhdHRlcm4sIHMnIDo6IHBhdGggLT5cbiAgICAgICAgdHJ5X3JvdXRlICgocywgcycpOjpiaW5kaW5ncykgKHMnOjpwcmVmaXgpIHBhdGggcGF0dGVybiBub2RlIG9rIGZhaWxcbiAgICAgIHwgV2lsZGNhcmQgXyA6OiBfLCAgICAgICBfIC0+XG4gICAgICAgIHRyeV9ub2RlIGJpbmRpbmdzIHByZWZpeCBwYXRoIG5vZGUgdHJ1ZSBvayBmYWlsXG5cbiAgICBhbmQgdHJ5X25vZGUgYmluZGluZ3MgcHJlZml4IHBhdGggbm9kZSBpc193aWxkY2FyZCBvayBmYWlsID1cbiAgICAgIG1hdGNoIG5vZGUgd2l0aFxuICAgICAgfCBIYW5kbGVyIChtZXRob2RfLCBoYW5kbGVyKVxuICAgICAgICAgIHdoZW4gbWV0aG9kX21hdGNoZXMgbWV0aG9kXyAoTWVzc2FnZS5tZXRob2RfIHJlcXVlc3QpIC0+XG4gICAgICAgIE1lc3NhZ2Uuc2V0X2ZpZWxkIHJlcXVlc3QgcGFyYW1zX2ZpZWxkIGJpbmRpbmdzO1xuICAgICAgICBpZiBpc193aWxkY2FyZCB0aGVuIGJlZ2luXG4gICAgICAgICAgc2V0X3ByZWZpeCByZXF1ZXN0IHByZWZpeDtcbiAgICAgICAgICBzZXRfcGF0aCByZXF1ZXN0IHBhdGg7XG4gICAgICAgICAgb2sgaGFuZGxlciByZXF1ZXN0XG4gICAgICAgIGVuZFxuICAgICAgICBlbHNlXG4gICAgICAgICAgaWYgcGF0aCA9IFtdIHRoZW5cbiAgICAgICAgICAgIG9rIGhhbmRsZXIgcmVxdWVzdFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZhaWwgKClcblxuICAgICAgfCBIYW5kbGVyIF8gLT4gZmFpbCAoKVxuICAgICAgfCBTY29wZSByb3V0ZXMgLT4gdHJ5X3JvdXRlcyBiaW5kaW5ncyBwcmVmaXggcGF0aCByb3V0ZXMgb2sgZmFpbFxuXG4gICAgaW5cblxuICAgIGxldCBwYXJhbXMgPVxuICAgICAgbWF0Y2ggTWVzc2FnZS5maWVsZCByZXF1ZXN0IHBhcmFtc19maWVsZCB3aXRoXG4gICAgICB8IFNvbWUgcGFyYW1zIC0+IHBhcmFtc1xuICAgICAgfCBOb25lIC0+IFtdXG4gICAgaW5cblxuICAgICgqIGxldCBuZXh0X3ByZWZpeCA9IERyZWFtLm5leHRfcHJlZml4IHJlcXVlc3QgKilcbiAgICBsZXQgcHJlZml4ID0gaW50ZXJuYWxfcHJlZml4IHJlcXVlc3QgaW5cbiAgICBsZXQgcGF0aCA9IHBhdGggcmVxdWVzdCBpblxuXG4gICAgKCogbWF0Y2ggbWF0Y2hfc2l0ZV9wcmVmaXggbmV4dF9wcmVmaXggcGF0aCB3aXRoXG4gICAgfCBOb25lIC0+IG5leHRfaGFuZGxlciByZXF1ZXN0XG4gICAgfCBTb21lIHBhdGggLT4gKilcbiAgICAgICgqIFRPRE8gVGhlIGluaXRpYWwgYmluZGluZ3MgYW5kIHByZWZpeCBzaG91bGQgYmUgdGFrZW4gZnJvbSB0aGUgcmVxdWVzdFxuICAgICAgICAgY29udGV4dCB3aGVuIHRoZXJlIGlzIGluZGlyZWN0IG5lc3RlZCByb3V0ZXIgc3VwcG9ydC4gKilcbiAgICB0cnlfcm91dGVzXG4gICAgICBwYXJhbXMgcHJlZml4IHBhdGggcm91dGVzXG4gICAgICAoZnVuIGhhbmRsZXIgcmVxdWVzdCAtPiBoYW5kbGVyIHJlcXVlc3QpXG4gICAgICAoZnVuICgpIC0+IEhlbHBlcnMubm90X2ZvdW5kIHJlcXVlc3QpXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBDaXBoZXIgPSBEcmVhbV9fY2lwaGVyLkNpcGhlclxubW9kdWxlIEZvcm1hdHMgPSBEcmVhbV9wdXJlLkZvcm1hdHNcbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5cblxuXG4oKiBUT0RPIExBVEVSIE9wdGltaXplIGJ5IGNhY2hpbmcgdGhlIHBhcnNlZCBjb29raWVzIGluIGEgbG9jYWwga2V5LiAqKVxuKCogVE9ETyBMQVRFUiBDYW4gZGVjaWRlIHdoZXRoZXIgdG8gYWNjZXB0IG11bHRpcGxlIENvb2tpZTogaGVhZGVycyBiYXNlZCBvblxuICAgcmVxdWVzdCB2ZXJzaW9uLiBCdXQgdGhhdCB3b3VsZCBlbnRhaWwgYW4gYWN0dWFsIG1pZGRsZXdhcmUgLSBpcyB0aGF0IHdvcnRoXG4gICBpdD8gKilcbigqIFRPRE8gTEFURVIgQWxzbyBub3QgZWZmaWNpZW50LCBhdCBhbGwuIE5lZWQgZmFzdGVyIHBhcnNlciArIHRoZSBjYWNoZS4gKilcbigqIFRPRE8gRE9DIFVzaW5nIG9ubHkgcmF3IGNvb2tpZXMuICopXG4oKiBUT0RPIEhvd2V2ZXIsIGlzIGl0IGJlc3QgdG8gVVJMLWVuY29kZSBjb29raWVzIGJ5IGRlZmF1bHQsIGFuZCBwcm92aWRlIGFcbiAgIHZhcmlhYmxlIGZvciBvcHRpbmcgb3V0PyAqKVxuKCogVE9ETyBET0MgV2UgYWxsb3cgbXVsdGlwbGUgaGVhZGVycyBzZW50IGJ5IHRoZSBjbGllbnQsIHRvIHN1cHBvcnQgSFRUUC8yLlxuICAgV2hhdCBpcyB0aGlzIGFib3V0PyAqKVxubGV0IGFsbF9jb29raWVzIHJlcXVlc3QgPVxuICBNZXNzYWdlLmhlYWRlcnMgcmVxdWVzdCBcIkNvb2tpZVwiXG4gIHw+IExpc3QubWFwIEZvcm1hdHMuZnJvbV9jb29raWVcbiAgfD4gTGlzdC5mbGF0dGVuXG5cbmxldCBpbmZlcl9jb29raWVfcHJlZml4IHByZWZpeCBkb21haW4gcGF0aCBzZWN1cmUgPVxuICBtYXRjaCBwcmVmaXgsIGRvbWFpbiwgcGF0aCwgc2VjdXJlIHdpdGhcbiAgICB8IFNvbWUgKFNvbWUgYEhvc3QpLCBfLCBfLCBfIC0+IFwiX19Ib3N0LVwiXG4gICAgfCBTb21lIChTb21lIGBTZWN1cmUpLCBfLCBfLCBfIC0+IFwiX19TZWN1cmUtXCJcbiAgICB8IFNvbWUgTm9uZSwgXywgXywgXyAtPiBcIlwiXG4gICAgfCBOb25lLCBOb25lLCBTb21lIFwiL1wiLCB0cnVlIC0+IFwiX19Ib3N0LVwiXG4gICAgfCBOb25lLCBfLCBfLCB0cnVlIC0+IFwiX19TZWN1cmUtXCJcbiAgICB8IE5vbmUsIF8sIF8sIF8gLT4gXCJcIlxuXG4oKiBUT0RPIFNvbWUgYWN0dWFsIHBlcmZvcm1hbmNlIGluIHRoZSBpbXBsZW1lbnRhdGlvbi4gKilcbmxldCBjb29raWVcbiAgICA/cHJlZml4OmNvb2tpZV9wcmVmaXhcbiAgICA/ZGVjcnlwdDooZGVjcnlwdF9jb29raWUgPSB0cnVlKVxuICAgID9kb21haW5cbiAgICA/cGF0aFxuICAgID9zZWN1cmVcbiAgICByZXF1ZXN0XG4gICAgbmFtZSA9XG5cbiAgbGV0IHBhdGggPVxuICAgIG1hdGNoIHBhdGggd2l0aFxuICAgIHwgU29tZSBwYXRoIC0+IHBhdGhcbiAgICB8IE5vbmUgLT4gU29tZSAoUm91dGVyLnByZWZpeCByZXF1ZXN0KVxuICBpblxuXG4gIGxldCBzZWN1cmUgPVxuICAgIG1hdGNoIHNlY3VyZSB3aXRoXG4gICAgfCBTb21lIHNlY3VyZSAtPiBzZWN1cmVcbiAgICB8IE5vbmUgLT4gSGVscGVycy50bHMgcmVxdWVzdFxuICBpblxuXG4gIGxldCBjb29raWVfcHJlZml4ID0gaW5mZXJfY29va2llX3ByZWZpeCBjb29raWVfcHJlZml4IGRvbWFpbiBwYXRoIHNlY3VyZSBpblxuICBsZXQgbmFtZSA9IGNvb2tpZV9wcmVmaXggXiBuYW1lIGluXG4gIGxldCB0ZXN0ID0gZnVuIChuYW1lJywgXykgLT4gbmFtZSA9IG5hbWUnIGluXG5cbiAgbWF0Y2ggYWxsX2Nvb2tpZXMgcmVxdWVzdCB8PiBMaXN0LmZpbmRfb3B0IHRlc3Qgd2l0aFxuICB8IE5vbmUgLT4gTm9uZVxuICB8IFNvbWUgKF8sIHZhbHVlKSAtPlxuICAgIGlmIG5vdCBkZWNyeXB0X2Nvb2tpZSB0aGVuXG4gICAgICBTb21lIHZhbHVlXG4gICAgZWxzZVxuICAgICAgbWF0Y2ggRm9ybWF0cy5mcm9tX2Jhc2U2NHVybCB2YWx1ZSB3aXRoXG4gICAgICB8IE5vbmUgLT5cbiAgICAgICAgTm9uZVxuICAgICAgfCBTb21lIHZhbHVlIC0+XG4gICAgICAgIENpcGhlci5kZWNyeXB0IHJlcXVlc3QgdmFsdWUgfmFzc29jaWF0ZWRfZGF0YTooXCJkcmVhbS5jb29raWUtXCIgXiBuYW1lKVxuXG5sZXQgc2V0X2Nvb2tpZVxuICAgID9wcmVmaXg6Y29va2llX3ByZWZpeFxuICAgID9lbmNyeXB0OihlbmNyeXB0X2Nvb2tpZSA9IHRydWUpXG4gICAgP2V4cGlyZXNcbiAgICA/bWF4X2FnZVxuICAgID9kb21haW5cbiAgICA/cGF0aFxuICAgID9zZWN1cmVcbiAgICA/KGh0dHBfb25seSA9IHRydWUpXG4gICAgP3NhbWVfc2l0ZVxuICAgIHJlc3BvbnNlXG4gICAgcmVxdWVzdFxuICAgIG5hbWVcbiAgICB2YWx1ZSA9XG5cbiAgKCogVE9ETyBOZWVkIHRoZSBzaXRlIHByZWZpeCwgbm90IHRoZSBzdWJzaXRlIHByZWZpeCEgKilcbiAgbGV0IHBhdGggPVxuICAgIG1hdGNoIHBhdGggd2l0aFxuICAgIHwgU29tZSBwYXRoIC0+IHBhdGhcbiAgICB8IE5vbmUgLT4gU29tZSAoUm91dGVyLnByZWZpeCByZXF1ZXN0KVxuICBpblxuXG4gIGxldCBzZWN1cmUgPVxuICAgIG1hdGNoIHNlY3VyZSB3aXRoXG4gICAgfCBTb21lIHNlY3VyZSAtPiBzZWN1cmVcbiAgICB8IE5vbmUgLT4gSGVscGVycy50bHMgcmVxdWVzdFxuICBpblxuXG4gIGxldCBjb29raWVfcHJlZml4ID0gaW5mZXJfY29va2llX3ByZWZpeCBjb29raWVfcHJlZml4IGRvbWFpbiBwYXRoIHNlY3VyZSBpblxuXG4gIGxldCBzYW1lX3NpdGUgPVxuICAgIG1hdGNoIHNhbWVfc2l0ZSB3aXRoXG4gICAgfCBOb25lIC0+IFNvbWUgYExheFxuICAgIHwgU29tZSBOb25lIC0+IE5vbmVcbiAgICB8IFNvbWUgKFNvbWUgYFN0cmljdCkgLT4gU29tZSBgU3RyaWN0XG4gICAgfCBTb21lIChTb21lIGBMYXgpIC0+IFNvbWUgYExheFxuICAgIHwgU29tZSAoU29tZSBgTm9uZSkgLT4gU29tZSBgTm9uZVxuICBpblxuXG4gIGxldCBuYW1lID0gY29va2llX3ByZWZpeCBeIG5hbWUgaW5cblxuICBsZXQgdmFsdWUgPVxuICAgIGlmIGVuY3J5cHRfY29va2llIHRoZW5cbiAgICAgICgqIEdpdmUgZWFjaCBjb29raWUgbmFtZSBhIGRpZmZlcmVudCBhc3NvY2lhdGVkIGRhdGEgXCJzcGFjZSxcIiBlZmZlY3RpdmVseVxuICAgICAgICAgcGFydGl0aW9uaW5nIHZhbGlkIGNpcGhlcnRleHRzIGFtb25nIHRoZSBjb29raWVzLiBTZWUgYWxzb1xuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2FhbnRyb24vZHJlYW0vaXNzdWVzLzE5I2lzc3VlY29tbWVudC04MjAyNTA4NTMuICopXG4gICAgICBDaXBoZXIuZW5jcnlwdCByZXF1ZXN0IHZhbHVlIH5hc3NvY2lhdGVkX2RhdGE6KFwiZHJlYW0uY29va2llLVwiIF4gbmFtZSlcbiAgICAgIHw+IEZvcm1hdHMudG9fYmFzZTY0dXJsXG4gICAgZWxzZVxuICAgICAgdmFsdWVcbiAgaW5cblxuICBsZXQgc2V0X2Nvb2tpZSA9XG4gICAgRm9ybWF0cy50b19zZXRfY29va2llXG4gICAgICA/ZXhwaXJlcyA/bWF4X2FnZSA/ZG9tYWluID9wYXRoIH5zZWN1cmUgfmh0dHBfb25seSA/c2FtZV9zaXRlIG5hbWUgdmFsdWVcbiAgaW5cblxuICBNZXNzYWdlLmFkZF9oZWFkZXIgcmVzcG9uc2UgXCJTZXQtQ29va2llXCIgc2V0X2Nvb2tpZVxuXG5sZXQgZHJvcF9jb29raWVcbiAgICA/cHJlZml4ID9kb21haW4gP3BhdGggP3NlY3VyZSA/aHR0cF9vbmx5ID9zYW1lX3NpdGUgcmVzcG9uc2UgcmVxdWVzdCBuYW1lID1cbiAgc2V0X2Nvb2tpZVxuICAgID9wcmVmaXggfmVuY3J5cHQ6ZmFsc2UgfmV4cGlyZXM6MC4gP2RvbWFpbiA/cGF0aCA/c2VjdXJlID9odHRwX29ubHlcbiAgICA/c2FtZV9zaXRlIHJlc3BvbnNlIHJlcXVlc3QgbmFtZSBcIlwiXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbigqIGh0dHBzOi8vY2hlYXRzaGVldHNlcmllcy5vd2FzcC5vcmcvY2hlYXRzaGVldHMvU2Vzc2lvbl9NYW5hZ2VtZW50X0NoZWF0X1NoZWV0Lmh0bWwgKilcblxubW9kdWxlIE1lc3NhZ2UgPSBEcmVhbV9wdXJlLk1lc3NhZ2VcblxuXG5cbmxldCBsb2cgPVxuICBMb2cuc3ViX2xvZyBcImRyZWFtLnNlc3Npb25cIlxuXG50eXBlICdhIGJhY2tfZW5kID0ge1xuICBsb2FkIDogTWVzc2FnZS5yZXF1ZXN0IC0+ICdhIEx3dC50O1xuICBzZW5kIDogJ2EgLT4gTWVzc2FnZS5yZXF1ZXN0IC0+IE1lc3NhZ2UucmVzcG9uc2UgLT4gTWVzc2FnZS5yZXNwb25zZSBMd3QudDtcbn1cblxubGV0IG1pZGRsZXdhcmUgZmllbGQgYmFja19lbmQgPSBmdW4gaW5uZXJfaGFuZGxlciByZXF1ZXN0IC0+XG4gIGxldCVsd3Qgc2Vzc2lvbiA9IGJhY2tfZW5kLmxvYWQgcmVxdWVzdCBpblxuICBNZXNzYWdlLnNldF9maWVsZCByZXF1ZXN0IGZpZWxkIHNlc3Npb247XG4gIGxldCVsd3QgcmVzcG9uc2UgPSBpbm5lcl9oYW5kbGVyIHJlcXVlc3QgaW5cbiAgYmFja19lbmQuc2VuZCBzZXNzaW9uIHJlcXVlc3QgcmVzcG9uc2VcblxubGV0IGdldHRlciBmaWVsZCByZXF1ZXN0ID1cbiAgbWF0Y2ggTWVzc2FnZS5maWVsZCByZXF1ZXN0IGZpZWxkIHdpdGhcbiAgfCBTb21lIHNlc3Npb24gLT5cbiAgICBzZXNzaW9uXG4gIHwgTm9uZSAtPlxuICAgIGxldCBtZXNzYWdlID0gXCJNaXNzaW5nIHNlc3Npb24gbWlkZGxld2FyZVwiIGluXG4gICAgbG9nLmVycm9yIChmdW4gbG9nIC0+IGxvZyB+cmVxdWVzdCBcIiVzXCIgbWVzc2FnZSk7XG4gICAgZmFpbHdpdGggbWVzc2FnZVxuXG50eXBlICdhIHR5cGVkX21pZGRsZXdhcmUgPSB7XG4gIG1pZGRsZXdhcmUgOiAnYSBiYWNrX2VuZCAtPiBNZXNzYWdlLm1pZGRsZXdhcmU7XG4gIGdldHRlciA6IE1lc3NhZ2UucmVxdWVzdCAtPiAnYTtcbn1cblxubGV0IHR5cGVkX21pZGRsZXdhcmUgP3Nob3dfdmFsdWUgKCkgPVxuICBsZXQgZmllbGQgPSBNZXNzYWdlLm5ld19maWVsZCB+bmFtZTpcImRyZWFtLnNlc3Npb25cIiA/c2hvd192YWx1ZSAoKSBpblxuICB7XG4gICAgbWlkZGxld2FyZSA9IG1pZGRsZXdhcmUgZmllbGQ7XG4gICAgZ2V0dGVyID0gZ2V0dGVyIGZpZWxkO1xuICB9XG5cblxuXG50eXBlIHNlc3Npb24gPSB7XG4gIGlkIDogc3RyaW5nO1xuICBsYWJlbCA6IHN0cmluZztcbiAgbXV0YWJsZSBleHBpcmVzX2F0IDogZmxvYXQ7XG4gIG11dGFibGUgcGF5bG9hZCA6IChzdHJpbmcgKiBzdHJpbmcpIGxpc3Q7XG59XG5cbnR5cGUgb3BlcmF0aW9ucyA9IHtcbiAgcHV0IDogc3RyaW5nIC0+IHN0cmluZyAtPiB1bml0IEx3dC50O1xuICBkcm9wIDogc3RyaW5nIC0+IHVuaXQgTHd0LnQ7XG4gIGludmFsaWRhdGUgOiB1bml0IC0+IHVuaXQgTHd0LnQ7XG4gIG11dGFibGUgZGlydHkgOiBib29sO1xufVxuXG5sZXQgc2Vzc2lvbl9jb29raWUgPVxuICBcImRyZWFtLnNlc3Npb25cIlxuXG5sZXQgKHw+PykgPVxuICBPcHRpb24uYmluZFxuXG4oKiBTZXNzaW9uIGlkIGxlbmd0aCBpcyBiYXNlZCBvblxuXG4gICAgIGh0dHBzOi8vY2hlYXRzaGVldHNlcmllcy5vd2FzcC5vcmcvY2hlYXRzaGVldHMvU2Vzc2lvbl9NYW5hZ2VtZW50X0NoZWF0X1NoZWV0Lmh0bWwjc2Vzc2lvbi1pZC1sZW5ndGhcblxuICAgLi4uZXh0ZW5kZWQgdG8gdGhlIG5leHQgbXVsdGlwbGUgb2YgNiBmb3IgYSBuaWNlIGJhc2U2NCBlbmNvZGluZy5cblxuICAgTklTVCByZWNvbW1lbmRzIDY0IGJpdHM6XG5cbiAgICAgaHR0cHM6Ly9wYWdlcy5uaXN0Lmdvdi84MDAtNjMtMy9zcDgwMC02M2IuaHRtbCNzZWM3XG5cbiAgIC4uYW5kIGxpbmtzIHRvIE9XQVNQLlxuXG4gICBTb21lIHJvdWdoIGJvdW5kcyBnaXZlIGEgbWF4aW1hbCBwcm9iYWJpbGl0eSBvZiAyXi03MCBmb3IgYSBjb2xsaXNpb24gYmV0d2VlblxuICAgdHdvIElEcyBhbW9uZyAxMDAsMDAwLDAwMCwwMDAgY29uY3VycmVudCBzZXNzaW9ucyAoNXggdGhlIG1vbnRobHkgdHJhZmZpYyBvZlxuICAgZ29vZ2xlLmNvbSBpbiBGZWJydWFyeSAyMDIxKS4gKilcbmxldCBuZXdfaWQgKCkgPVxuICBEcmVhbV9fY2lwaGVyLlJhbmRvbS5yYW5kb20gMTggfD4gRHJlYW1fcHVyZS5Gb3JtYXRzLnRvX2Jhc2U2NHVybFxuXG5sZXQgbmV3X2xhYmVsICgpID1cbiAgRHJlYW1fX2NpcGhlci5SYW5kb20ucmFuZG9tIDkgfD4gRHJlYW1fcHVyZS5Gb3JtYXRzLnRvX2Jhc2U2NHVybFxuXG5sZXQgdmVyc2lvbl9zZXNzaW9uX2lkIGlkID1cbiAgXCIwXCIgXiBpZFxuXG5sZXQgcmVhZF9zZXNzaW9uX2lkIGlkID1cbiAgaWYgU3RyaW5nLmxlbmd0aCBpZCA8IDEgdGhlbiBOb25lXG4gIGVsc2VcbiAgICBpZiBpZC5bMF0gPD4gJzAnIHRoZW4gTm9uZVxuICAgIGVsc2UgU29tZSAoU3RyaW5nLnN1YiBpZCAxIChTdHJpbmcubGVuZ3RoIGlkIC0gMSkpXG5cbmxldCB2ZXJzaW9uX3ZhbHVlID1cbiAgdmVyc2lvbl9zZXNzaW9uX2lkXG5cbmxldCByZWFkX3ZhbHVlID1cbiAgcmVhZF9zZXNzaW9uX2lkXG5cbm1vZHVsZSBNZW1vcnkgPVxuc3RydWN0XG4gIGxldCByZWMgY3JlYXRlIGhhc2hfdGFibGUgZXhwaXJlc19hdCA9XG4gICAgbGV0IGlkID0gbmV3X2lkICgpIGluXG4gICAgaWYgSGFzaHRibC5tZW0gaGFzaF90YWJsZSBpZCB0aGVuXG4gICAgICBjcmVhdGUgaGFzaF90YWJsZSBleHBpcmVzX2F0XG4gICAgZWxzZSBiZWdpblxuICAgICAgbGV0IHNlc3Npb24gPSB7XG4gICAgICAgIGlkO1xuICAgICAgICBsYWJlbCA9IG5ld19sYWJlbCAoKTtcbiAgICAgICAgZXhwaXJlc19hdDtcbiAgICAgICAgcGF5bG9hZCA9IFtdO1xuICAgICAgfSBpblxuICAgICAgSGFzaHRibC5yZXBsYWNlIGhhc2hfdGFibGUgaWQgc2Vzc2lvbjtcbiAgICAgIHNlc3Npb25cbiAgICBlbmRcblxuICBsZXQgcHV0IHNlc3Npb24gbmFtZSB2YWx1ZSA9XG4gICAgc2Vzc2lvbi5wYXlsb2FkXG4gICAgfD4gTGlzdC5yZW1vdmVfYXNzb2MgbmFtZVxuICAgIHw+IGZ1biBkaWN0aW9uYXJ5IC0+IChuYW1lLCB2YWx1ZSk6OmRpY3Rpb25hcnlcbiAgICB8PiBmdW4gZGljdGlvbmFyeSAtPiBzZXNzaW9uLnBheWxvYWQgPC0gZGljdGlvbmFyeTtcbiAgICBMd3QucmV0dXJuX3VuaXRcblxuICBsZXQgZHJvcCBzZXNzaW9uIG5hbWUgPVxuICAgIHNlc3Npb24ucGF5bG9hZFxuICAgIHw+IExpc3QucmVtb3ZlX2Fzc29jIG5hbWVcbiAgICB8PiBmdW4gZGljdGlvbmFyeSAtPiBzZXNzaW9uLnBheWxvYWQgPC0gZGljdGlvbmFyeTtcbiAgICBMd3QucmV0dXJuX3VuaXRcblxuICBsZXQgaW52YWxpZGF0ZSBoYXNoX3RhYmxlIH5ub3cgbGlmZXRpbWUgb3BlcmF0aW9ucyBzZXNzaW9uID1cbiAgICBIYXNodGJsLnJlbW92ZSBoYXNoX3RhYmxlICFzZXNzaW9uLmlkO1xuICAgIHNlc3Npb24gOj0gY3JlYXRlIGhhc2hfdGFibGUgKG5vdyAoKSArLiBsaWZldGltZSk7XG4gICAgb3BlcmF0aW9ucy5kaXJ0eSA8LSB0cnVlO1xuICAgIEx3dC5yZXR1cm5fdW5pdFxuXG4gIGxldCBvcGVyYXRpb25zIH5ub3cgaGFzaF90YWJsZSBsaWZldGltZSBzZXNzaW9uIGRpcnR5ID1cbiAgICBsZXQgcmVjIG9wZXJhdGlvbnMgPSB7XG4gICAgICBwdXQgPVxuICAgICAgICAoZnVuIG5hbWUgdmFsdWUgLT4gcHV0ICFzZXNzaW9uIG5hbWUgdmFsdWUpO1xuICAgICAgZHJvcCA9XG4gICAgICAgIChmdW4gbmFtZSAtPiBkcm9wICFzZXNzaW9uIG5hbWUpO1xuICAgICAgaW52YWxpZGF0ZSA9XG4gICAgICAgIChmdW4gKCkgLT4gaW52YWxpZGF0ZSB+bm93IGhhc2hfdGFibGUgbGlmZXRpbWUgb3BlcmF0aW9ucyBzZXNzaW9uKTtcbiAgICAgIGRpcnR5O1xuICAgIH0gaW5cbiAgICBvcGVyYXRpb25zXG5cbiAgbGV0IGxvYWQgfm5vdzpnZXR0aW1lb2ZkYXkgaGFzaF90YWJsZSBsaWZldGltZSByZXF1ZXN0ID1cbiAgICBsZXQgbm93ID0gZ2V0dGltZW9mZGF5ICgpIGluXG5cbiAgICBsZXQgdmFsaWRfc2Vzc2lvbiA9XG4gICAgICBDb29raWUuY29va2llIH5kZWNyeXB0OmZhbHNlIHJlcXVlc3Qgc2Vzc2lvbl9jb29raWVcbiAgICAgIHw+PyByZWFkX3Nlc3Npb25faWRcbiAgICAgIHw+PyBIYXNodGJsLmZpbmRfb3B0IGhhc2hfdGFibGVcbiAgICAgIHw+PyBmdW4gc2Vzc2lvbiAtPlxuICAgICAgICBpZiBzZXNzaW9uLmV4cGlyZXNfYXQgPiBub3cgdGhlblxuICAgICAgICAgIFNvbWUgc2Vzc2lvblxuICAgICAgICBlbHNlIGJlZ2luXG4gICAgICAgICAgSGFzaHRibC5yZW1vdmUgaGFzaF90YWJsZSBzZXNzaW9uLmlkO1xuICAgICAgICAgIE5vbmVcbiAgICAgICAgZW5kXG4gICAgaW5cblxuICAgIGxldCBkaXJ0eSwgc2Vzc2lvbiA9XG4gICAgICBtYXRjaCB2YWxpZF9zZXNzaW9uIHdpdGhcbiAgICAgIHwgU29tZSBzZXNzaW9uIC0+XG4gICAgICAgIGlmIHNlc3Npb24uZXhwaXJlc19hdCAtLiBub3cgPiAobGlmZXRpbWUgLy4gMi4pIHRoZW5cbiAgICAgICAgICBmYWxzZSwgc2Vzc2lvblxuICAgICAgICBlbHNlIGJlZ2luXG4gICAgICAgICAgc2Vzc2lvbi5leHBpcmVzX2F0IDwtIG5vdyArLiBsaWZldGltZTtcbiAgICAgICAgICB0cnVlLCBzZXNzaW9uXG4gICAgICAgIGVuZFxuICAgICAgfCBOb25lIC0+XG4gICAgICAgIHRydWUsIGNyZWF0ZSBoYXNoX3RhYmxlIChub3cgKy4gbGlmZXRpbWUpXG4gICAgaW5cblxuICAgIGxldCBzZXNzaW9uID0gcmVmIHNlc3Npb24gaW5cbiAgICBMd3QucmV0dXJuIChvcGVyYXRpb25zIH5ub3c6Z2V0dGltZW9mZGF5IGhhc2hfdGFibGUgbGlmZXRpbWUgc2Vzc2lvbiBkaXJ0eSwgc2Vzc2lvbilcblxuICBsZXQgc2VuZCB+bm93IChvcGVyYXRpb25zLCBzZXNzaW9uKSByZXF1ZXN0IHJlc3BvbnNlID1cbiAgICBpZiBvcGVyYXRpb25zLmRpcnR5IHRoZW4gYmVnaW5cbiAgICAgIGxldCBpZCA9IHZlcnNpb25fc2Vzc2lvbl9pZCAhc2Vzc2lvbi5pZCBpblxuICAgICAgbGV0IG1heF9hZ2UgPSAhc2Vzc2lvbi5leHBpcmVzX2F0IC0uIG5vdyAoKSBpblxuICAgICAgQ29va2llLnNldF9jb29raWVcbiAgICAgICAgcmVzcG9uc2UgcmVxdWVzdCBzZXNzaW9uX2Nvb2tpZSBpZCB+ZW5jcnlwdDpmYWxzZSB+bWF4X2FnZVxuICAgIGVuZDtcbiAgICBMd3QucmV0dXJuIHJlc3BvbnNlXG5cbiAgbGV0IGJhY2tfZW5kIH5ub3cgbGlmZXRpbWUgPVxuICAgIGxldCBoYXNoX3RhYmxlID0gSGFzaHRibC5jcmVhdGUgMjU2IGluXG4gICAge1xuICAgICAgbG9hZCA9IGxvYWQgfm5vdyBoYXNoX3RhYmxlIGxpZmV0aW1lO1xuICAgICAgc2VuZCA9IHNlbmQgfm5vdztcbiAgICB9XG5lbmRcblxuKCogVE9ETyBKU09OIGlzIHByb2JhYmx5IG5vdCBhIGdvb2QgY2hvaWNlIGZvciB0aGUgY29udGVudHMuIEhvd2V2ZXIsIHRoZXJlXG4gICBkb2Vzbid0IHNlZW0gdG8gYmUgYSBnb29kIGFsdGVybmF0aXZlIGluIG9wYW0gcmlnaHQgbm93LCBzbyB1c2luZyBKU09OLiAqKVxubW9kdWxlIENvb2tpZSA9XG5zdHJ1Y3RcbiAgKCogQ29va2llIHNlc3Npb25zIHN0aWxsIG5lZWQga2V5cywgZXZlbiB0aG91Z2ggdGhleSBhcmUgbm90IHVzZWQgYXMgaW5kZXhlc1xuICAgICAoc2ljISkgaW50byBhIHN0b3JlOlxuXG4gICAgIC0gRm9yIHJldm9jYXRpb24uXG4gICAgIC0gRm9yIGJpbmRpbmcgQ1NSRiB0b2tlbnMgdG8gc2Vzc2lvbnMuICopXG4gIGxldCBjcmVhdGUgZXhwaXJlc19hdCA9IHtcbiAgICBpZCA9IG5ld19pZCAoKTtcbiAgICBsYWJlbCA9IG5ld19sYWJlbCAoKTtcbiAgICBleHBpcmVzX2F0O1xuICAgIHBheWxvYWQgPSBbXTtcbiAgfVxuXG4gIGxldCBwdXQgb3BlcmF0aW9ucyBzZXNzaW9uIG5hbWUgdmFsdWUgPVxuICAgIHNlc3Npb24ucGF5bG9hZFxuICAgIHw+IExpc3QucmVtb3ZlX2Fzc29jIG5hbWVcbiAgICB8PiBmdW4gZGljdGlvbmFyeSAtPiAobmFtZSwgdmFsdWUpOjpkaWN0aW9uYXJ5XG4gICAgfD4gZnVuIGRpY3Rpb25hcnkgLT4gc2Vzc2lvbi5wYXlsb2FkIDwtIGRpY3Rpb25hcnk7XG4gICAgb3BlcmF0aW9ucy5kaXJ0eSA8LSB0cnVlO1xuICAgIEx3dC5yZXR1cm5fdW5pdFxuXG4gIGxldCBkcm9wIG9wZXJhdGlvbnMgc2Vzc2lvbiBuYW1lID1cbiAgICBzZXNzaW9uLnBheWxvYWRcbiAgICB8PiBMaXN0LnJlbW92ZV9hc3NvYyBuYW1lXG4gICAgfD4gZnVuIGRpY3Rpb25hcnkgLT4gc2Vzc2lvbi5wYXlsb2FkIDwtIGRpY3Rpb25hcnk7XG4gICAgb3BlcmF0aW9ucy5kaXJ0eSA8LSB0cnVlO1xuICAgIEx3dC5yZXR1cm5fdW5pdFxuXG4gIGxldCBpbnZhbGlkYXRlIH5ub3cgbGlmZXRpbWUgb3BlcmF0aW9ucyBzZXNzaW9uID1cbiAgICBzZXNzaW9uIDo9IGNyZWF0ZSAobm93ICgpICsuIGxpZmV0aW1lKTtcbiAgICBvcGVyYXRpb25zLmRpcnR5IDwtIHRydWU7XG4gICAgTHd0LnJldHVybl91bml0XG5cbiAgbGV0IG9wZXJhdGlvbnMgfm5vdyBsaWZldGltZSBzZXNzaW9uIGRpcnR5ID1cbiAgICBsZXQgcmVjIG9wZXJhdGlvbnMgPSB7XG4gICAgICBwdXQgPSAoZnVuIG5hbWUgdmFsdWUgLT4gcHV0IG9wZXJhdGlvbnMgIXNlc3Npb24gbmFtZSB2YWx1ZSk7XG4gICAgICBkcm9wID0gKGZ1biBuYW1lIC0+IGRyb3Agb3BlcmF0aW9ucyAhc2Vzc2lvbiBuYW1lKTtcbiAgICAgIGludmFsaWRhdGUgPSAoZnVuICgpIC0+IGludmFsaWRhdGUgfm5vdyBsaWZldGltZSBvcGVyYXRpb25zIHNlc3Npb24pO1xuICAgICAgZGlydHk7XG4gICAgfSBpblxuICAgIG9wZXJhdGlvbnNcblxuICBsZXQgbG9hZCB+bm93OmdldHRpbWVvZmRheSBsaWZldGltZSByZXF1ZXN0ID1cbiAgICBsZXQgbm93ID0gZ2V0dGltZW9mZGF5ICgpIGluXG5cbiAgICBsZXQgdmFsaWRfc2Vzc2lvbiA9XG4gICAgICBDb29raWUuY29va2llIHJlcXVlc3Qgc2Vzc2lvbl9jb29raWVcbiAgICAgIHw+PyByZWFkX3ZhbHVlXG4gICAgICB8Pj8gZnVuIHZhbHVlIC0+XG4gICAgICAgICgqIFRPRE8gSXMgdGhlcmUgYSBub24tcmFpc2luZyB2ZXJzaW9uIG9mIHRoaXM/ICopXG4gICAgICAgIG1hdGNoIFlvanNvbi5CYXNpYy5mcm9tX3N0cmluZyB2YWx1ZSB3aXRoXG4gICAgICAgIHwgYEFzc29jIFtcbiAgICAgICAgICAgIFwiaWRcIiwgYFN0cmluZyBpZDtcbiAgICAgICAgICAgIFwibGFiZWxcIiwgYFN0cmluZyBsYWJlbDtcbiAgICAgICAgICAgIFwiZXhwaXJlc19hdFwiLCBleHBpcmVzX2F0O1xuICAgICAgICAgICAgXCJwYXlsb2FkXCIsIGBBc3NvYyBwYXlsb2FkXG4gICAgICAgICAgXSAtPlxuXG4gICAgICAgICAgYmVnaW4gbWF0Y2ggZXhwaXJlc19hdCB3aXRoXG4gICAgICAgICAgfCBgRmxvYXQgbiAtPiBTb21lIG5cbiAgICAgICAgICB8IGBJbnQgbiAtPiBTb21lIChGbG9hdC5vZl9pbnQgbilcbiAgICAgICAgICB8IF8gLT4gTm9uZVxuICAgICAgICAgIGVuZFxuICAgICAgICAgIHw+PyBmdW4gZXhwaXJlc19hdCAtPlxuICAgICAgICAgICAgaWYgZXhwaXJlc19hdCA8PSBub3cgdGhlblxuICAgICAgICAgICAgICBOb25lXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGxldCBwYXlsb2FkID1cbiAgICAgICAgICAgICAgICAoKiBUT0RPIERvbid0IHJhaXNlLiAqKVxuICAgICAgICAgICAgICAgIHBheWxvYWQgfD4gTGlzdC5tYXAgKGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICB8IG5hbWUsIGBTdHJpbmcgdmFsdWUgLT4gbmFtZSwgdmFsdWVcbiAgICAgICAgICAgICAgICAgIHwgXyAtPiBmYWlsd2l0aCBcIkJhZCBwYXlsb2FkXCIpXG4gICAgICAgICAgICAgIGluXG4gICAgICAgICAgICAgIFNvbWUge1xuICAgICAgICAgICAgICAgIGlkO1xuICAgICAgICAgICAgICAgIGxhYmVsO1xuICAgICAgICAgICAgICAgIGV4cGlyZXNfYXQ7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgIHwgXyAtPiBOb25lXG4gICAgaW5cblxuICAgIGxldCBkaXJ0eSwgc2Vzc2lvbiA9XG4gICAgICBtYXRjaCB2YWxpZF9zZXNzaW9uIHdpdGhcbiAgICAgIHwgU29tZSBzZXNzaW9uIC0+XG4gICAgICAgIGlmIHNlc3Npb24uZXhwaXJlc19hdCAtLiBub3cgPiAobGlmZXRpbWUgLy4gMi4pIHRoZW5cbiAgICAgICAgICBmYWxzZSwgc2Vzc2lvblxuICAgICAgICBlbHNlIGJlZ2luXG4gICAgICAgICAgc2Vzc2lvbi5leHBpcmVzX2F0IDwtIG5vdyArLiBsaWZldGltZTtcbiAgICAgICAgICB0cnVlLCBzZXNzaW9uXG4gICAgICAgIGVuZFxuICAgICAgfCBOb25lIC0+XG4gICAgICAgIHRydWUsIGNyZWF0ZSAobm93ICsuIGxpZmV0aW1lKVxuICAgIGluXG5cbiAgICBsZXQgc2Vzc2lvbiA9IHJlZiBzZXNzaW9uIGluXG4gICAgTHd0LnJldHVybiAob3BlcmF0aW9ucyB+bm93OmdldHRpbWVvZmRheSBsaWZldGltZSBzZXNzaW9uIGRpcnR5LCBzZXNzaW9uKVxuXG4gIGxldCBzZW5kIH5ub3cgKG9wZXJhdGlvbnMsIHNlc3Npb24pIHJlcXVlc3QgcmVzcG9uc2UgPVxuICAgIGlmIG9wZXJhdGlvbnMuZGlydHkgdGhlbiBiZWdpblxuICAgICAgbGV0IG1heF9hZ2UgPSAhc2Vzc2lvbi5leHBpcmVzX2F0IC0uIG5vdyAoKSBpblxuICAgICAgbGV0IHZhbHVlID1cbiAgICAgICAgYEFzc29jIFtcbiAgICAgICAgICBcImlkXCIsIGBTdHJpbmcgIXNlc3Npb24uaWQ7XG4gICAgICAgICAgXCJsYWJlbFwiLCBgU3RyaW5nICFzZXNzaW9uLmxhYmVsO1xuICAgICAgICAgIFwiZXhwaXJlc19hdFwiLCBgRmxvYXQgIXNlc3Npb24uZXhwaXJlc19hdDtcbiAgICAgICAgICBcInBheWxvYWRcIiwgYEFzc29jICghc2Vzc2lvbi5wYXlsb2FkIHw+IExpc3QubWFwIChmdW4gKG5hbWUsIHZhbHVlKSAtPlxuICAgICAgICAgICAgbmFtZSwgYFN0cmluZyB2YWx1ZSkpXG4gICAgICAgIF1cbiAgICAgICAgfD4gWW9qc29uLkJhc2ljLnRvX3N0cmluZ1xuICAgICAgICB8PiB2ZXJzaW9uX3ZhbHVlXG4gICAgICBpblxuICAgICAgQ29va2llLnNldF9jb29raWUgcmVzcG9uc2UgcmVxdWVzdCBzZXNzaW9uX2Nvb2tpZSB2YWx1ZSB+bWF4X2FnZVxuICAgIGVuZDtcbiAgICBMd3QucmV0dXJuIHJlc3BvbnNlXG5cbiAgbGV0IGJhY2tfZW5kIH5ub3cgbGlmZXRpbWUgPSB7XG4gICAgbG9hZCA9IGxvYWQgfm5vdyBsaWZldGltZTtcbiAgICBzZW5kID0gc2VuZCB+bm93O1xuICB9XG5lbmRcblxubGV0IHttaWRkbGV3YXJlOyBnZXR0ZXJ9ID1cbiAgdHlwZWRfbWlkZGxld2FyZSAoKVxuICAgIH5zaG93X3ZhbHVlOihmdW4gKF8sIHNlc3Npb24pIC0+XG4gICAgICAhc2Vzc2lvbi5wYXlsb2FkXG4gICAgICB8PiBMaXN0Lm1hcCAoZnVuIChuYW1lLCB2YWx1ZSkgLT4gUHJpbnRmLnNwcmludGYgXCIlUzogJVNcIiBuYW1lIHZhbHVlKVxuICAgICAgfD4gU3RyaW5nLmNvbmNhdCBcIiwgXCJcbiAgICAgIHw+IFByaW50Zi5zcHJpbnRmIFwiJXMgWyVzXVwiICFzZXNzaW9uLmxhYmVsKVxuXG5sZXQgdHdvX3dlZWtzID1cbiAgNjAuICouIDYwLiAqLiAyNC4gKi4gNy4gKi4gMi5cblxubW9kdWxlIE1ha2UgKFBjbG9jayA6IE1pcmFnZV9jbG9jay5QQ0xPQ0spID0gc3RydWN0XG4gIGxldCBub3cgKCkgPSBQdGltZS50b19mbG9hdF9zIChQdGltZS52IChQY2xvY2subm93X2RfcHMgKCkpKVxuXG4gIGxldCBtZW1vcnlfc2Vzc2lvbnMgPyhsaWZldGltZSA9IHR3b193ZWVrcykgPVxuICAgIG1pZGRsZXdhcmUgKE1lbW9yeS5iYWNrX2VuZCB+bm93IGxpZmV0aW1lKVxuXG4gIGxldCBjb29raWVfc2Vzc2lvbnMgPyhsaWZldGltZSA9IHR3b193ZWVrcykgPVxuICAgIG1pZGRsZXdhcmUgKENvb2tpZS5iYWNrX2VuZCB+bm93IGxpZmV0aW1lKVxuZW5kXG5cbmxldCBzZXNzaW9uIG5hbWUgcmVxdWVzdCA9XG4gIExpc3QuYXNzb2Nfb3B0IG5hbWUgKCEoc25kIChnZXR0ZXIgcmVxdWVzdCkpLnBheWxvYWQpXG5cbmxldCBwdXRfc2Vzc2lvbiBuYW1lIHZhbHVlIHJlcXVlc3QgPVxuICAoZnN0IChnZXR0ZXIgcmVxdWVzdCkpLnB1dCBuYW1lIHZhbHVlXG5cbmxldCBkcm9wX3Nlc3Npb25fZmllbGQgcmVxdWVzdCBuYW1lID1cbiAgKGZzdCAoZ2V0dGVyIHJlcXVlc3QpKS5kcm9wIG5hbWVcblxubGV0IGFsbF9zZXNzaW9uX3ZhbHVlcyByZXF1ZXN0ID1cbiAgIShzbmQgKGdldHRlciByZXF1ZXN0KSkucGF5bG9hZFxuXG5sZXQgaW52YWxpZGF0ZV9zZXNzaW9uIHJlcXVlc3QgPVxuICAoZnN0IChnZXR0ZXIgcmVxdWVzdCkpLmludmFsaWRhdGUgKClcblxubGV0IHNlc3Npb25faWQgcmVxdWVzdCA9XG4gICEoc25kIChnZXR0ZXIgcmVxdWVzdCkpLmlkXG5cbmxldCBzZXNzaW9uX2xhYmVsIHJlcXVlc3QgPVxuICAhKHNuZCAoZ2V0dGVyIHJlcXVlc3QpKS5sYWJlbFxuXG5sZXQgc2Vzc2lvbl9leHBpcmVzX2F0IHJlcXVlc3QgPVxuICAhKHNuZCAoZ2V0dGVyIHJlcXVlc3QpKS5leHBpcmVzX2F0XG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBEcmVhbSA9IERyZWFtX3B1cmVcbm1vZHVsZSBDaXBoZXIgPSBEcmVhbV9fY2lwaGVyLkNpcGhlclxuXG5cblxubGV0IGZpZWxkX25hbWUgPVxuICBcImRyZWFtLmNzcmZcIlxuXG5sZXQgZGVmYXVsdF92YWxpZF9mb3IgPVxuICA2MC4gKi4gNjAuXG5cbmxldCBjc3JmX3Rva2VuIH5ub3cgPyh2YWxpZF9mb3IgPSBkZWZhdWx0X3ZhbGlkX2ZvcikgcmVxdWVzdCA9XG4gIGxldCBub3cgPSBub3cgKCkgaW5cblxuICBgQXNzb2MgW1xuICAgIFwic2Vzc2lvblwiLCBgU3RyaW5nIChTZXNzaW9uLnNlc3Npb25fbGFiZWwgcmVxdWVzdCk7XG4gICAgXCJleHBpcmVzX2F0XCIsIGBGbG9hdCAoZmxvb3IgKG5vdyArLiB2YWxpZF9mb3IpKTtcbiAgXVxuICB8PiBZb2pzb24uQmFzaWMudG9fc3RyaW5nXG4gIHw+IENpcGhlci5lbmNyeXB0IH5hc3NvY2lhdGVkX2RhdGE6ZmllbGRfbmFtZSByZXF1ZXN0XG4gIHw+IERyZWFtX3B1cmUuRm9ybWF0cy50b19iYXNlNjR1cmxcblxubGV0IGxvZyA9XG4gIExvZy5zdWJfbG9nIGZpZWxkX25hbWVcblxudHlwZSBjc3JmX3Jlc3VsdCA9IFtcbiAgfCBgT2tcbiAgfCBgRXhwaXJlZCBvZiBmbG9hdFxuICB8IGBXcm9uZ19zZXNzaW9uXG4gIHwgYEludmFsaWRcbl1cblxubGV0IHZlcmlmeV9jc3JmX3Rva2VuIH5ub3cgcmVxdWVzdCB0b2tlbiA9IEx3dC5yZXR1cm4gQEBcbiAgbWF0Y2ggRHJlYW1fcHVyZS5Gb3JtYXRzLmZyb21fYmFzZTY0dXJsIHRva2VuIHdpdGhcbiAgfCBOb25lIC0+XG4gICAgbG9nLndhcm5pbmcgKGZ1biBsb2cgLT4gbG9nIH5yZXF1ZXN0IFwiQ1NSRiB0b2tlbiBub3QgQmFzZTY0LWVuY29kZWRcIik7XG4gICAgYEludmFsaWRcbiAgfCBTb21lIHRva2VuIC0+XG5cbiAgbWF0Y2ggQ2lwaGVyLmRlY3J5cHQgfmFzc29jaWF0ZWRfZGF0YTpmaWVsZF9uYW1lIHJlcXVlc3QgdG9rZW4gd2l0aFxuICB8IE5vbmUgLT5cbiAgICBsb2cud2FybmluZyAoZnVuIGxvZyAtPiBsb2cgfnJlcXVlc3QgXCJDU1JGIHRva2VuIGNvdWxkIG5vdCBiZSB2ZXJpZmllZFwiKTtcbiAgICBgSW52YWxpZFxuICB8IFNvbWUgdG9rZW4gLT5cblxuICAoKiBUT0RPIERvbid0IHJhaXNlIGV4Y2VwdGlvbnMuICopXG4gIG1hdGNoIFlvanNvbi5CYXNpYy5mcm9tX3N0cmluZyB0b2tlbiB3aXRoXG4gIHwgYEFzc29jIFtcbiAgICAgIFwic2Vzc2lvblwiLCBgU3RyaW5nIHRva2VuX3Nlc3Npb25fbGFiZWw7XG4gICAgICBcImV4cGlyZXNfYXRcIiwgKGBGbG9hdCBfIHwgYEludCBfICBhcyBleHBpcmVzX2F0KTtcbiAgICBdIC0+XG5cbiAgICBsZXQgZXhwaXJlc19hdCA9XG4gICAgICBtYXRjaCBleHBpcmVzX2F0IHdpdGhcbiAgICAgIHwgYEZsb2F0IG4gLT4gblxuICAgICAgfCBgSW50IG4gLT4gZmxvYXRfb2ZfaW50IG5cbiAgICBpblxuXG4gICAgbGV0IHJlYWxfc2Vzc2lvbl9sYWJlbCA9IFNlc3Npb24uc2Vzc2lvbl9sYWJlbCByZXF1ZXN0IGluXG4gICAgaWYgdG9rZW5fc2Vzc2lvbl9sYWJlbCA8PiByZWFsX3Nlc3Npb25fbGFiZWwgdGhlbiBiZWdpblxuICAgICAgbG9nLndhcm5pbmcgKGZ1biBsb2cgLT4gbG9nIH5yZXF1ZXN0XG4gICAgICAgIFwiQ1NSRiB0b2tlbiBub3QgZm9yIHRoaXMgc2Vzc2lvblwiKTtcbiAgICAgIGBXcm9uZ19zZXNzaW9uXG4gICAgZW5kXG4gICAgZWxzZVxuICAgICAgbGV0IG5vdyA9IG5vdyAoKSBpblxuICAgICAgaWYgZXhwaXJlc19hdCA+IG5vdyB0aGVuXG4gICAgICAgIGBPa1xuICAgICAgZWxzZSBiZWdpblxuICAgICAgICBsb2cud2FybmluZyAoZnVuIGxvZyAtPiBsb2cgfnJlcXVlc3QgXCJDU1JGIHRva2VuIGV4cGlyZWRcIik7XG4gICAgICAgIGBFeHBpcmVkIGV4cGlyZXNfYXRcbiAgICAgIGVuZFxuXG4gIHwgXyB8IGV4Y2VwdGlvbiBfIC0+XG4gICAgbG9nLndhcm5pbmcgKGZ1biBsb2cgLT4gbG9nIH5yZXF1ZXN0IFwiQ1NSRiB0b2tlbiBwYXlsb2FkIGludmFsaWRcIik7XG4gICAgYEludmFsaWRcbiIsIigqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIERyZWFtLCByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLm1kXG4gICBmb3IgZGV0YWlscywgb3IgdmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL2FhbnRyb24vZHJlYW0uXG5cbiAgIENvcHlyaWdodCAyMDIxIEFudG9uIEJhY2hpbiAqKVxuXG5cblxubW9kdWxlIEZvcm1hdHMgPSBEcmVhbV9wdXJlLkZvcm1hdHNcbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5cblxuXG5sZXQgbG9nID1cbiAgTG9nLnN1Yl9sb2cgXCJkcmVhbS5mb3JtXCJcblxubGV0IHNvcnQgZm9ybSA9XG4gIExpc3Quc3RhYmxlX3NvcnQgKGZ1biAoa2V5LCBfKSAoa2V5JywgXykgLT4gU3RyaW5nLmNvbXBhcmUga2V5IGtleScpIGZvcm1cblxudHlwZSAnYSBmb3JtX3Jlc3VsdCA9IFtcbiAgfCBgT2sgICAgICAgICAgICBvZiAnYVxuICB8IGBFeHBpcmVkICAgICAgIG9mICdhICogZmxvYXRcbiAgfCBgV3Jvbmdfc2Vzc2lvbiBvZiAnYVxuICB8IGBJbnZhbGlkX3Rva2VuIG9mICdhXG4gIHwgYE1pc3NpbmdfdG9rZW4gb2YgJ2FcbiAgfCBgTWFueV90b2tlbnMgICBvZiAnYVxuICB8IGBXcm9uZ19jb250ZW50X3R5cGVcbl1cblxubGV0IHNvcnRfYW5kX2NoZWNrX2Zvcm0gfm5vdyB0b192YWx1ZSBmb3JtIHJlcXVlc3QgPVxuICBsZXQgY3NyZl90b2tlbiwgZm9ybSA9XG4gICAgTGlzdC5wYXJ0aXRpb24gKGZ1biAobmFtZSwgXykgLT4gbmFtZSA9IENzcmYuZmllbGRfbmFtZSkgZm9ybSBpblxuICBsZXQgZm9ybSA9IHNvcnQgZm9ybSBpblxuXG4gIG1hdGNoIGNzcmZfdG9rZW4gd2l0aFxuICB8IFtfLCB2YWx1ZV0gLT5cbiAgICBiZWdpbiBtYXRjaCVsd3QgQ3NyZi52ZXJpZnlfY3NyZl90b2tlbiB+bm93IHJlcXVlc3QgKHRvX3ZhbHVlIHZhbHVlKSB3aXRoXG4gICAgfCBgT2sgLT5cbiAgICAgIEx3dC5yZXR1cm4gKGBPayBmb3JtKVxuXG4gICAgfCBgRXhwaXJlZCB0aW1lIC0+XG4gICAgICBMd3QucmV0dXJuIChgRXhwaXJlZCAoZm9ybSwgdGltZSkpXG5cbiAgICB8IGBXcm9uZ19zZXNzaW9uIC0+XG4gICAgICBMd3QucmV0dXJuIChgV3Jvbmdfc2Vzc2lvbiBmb3JtKVxuXG4gICAgfCBgSW52YWxpZCAtPlxuICAgICAgTHd0LnJldHVybiAoYEludmFsaWRfdG9rZW4gZm9ybSlcbiAgICBlbmRcblxuICB8IFtdIC0+XG4gICAgbG9nLndhcm5pbmcgKGZ1biBsb2cgLT4gbG9nIH5yZXF1ZXN0IFwiQ1NSRiB0b2tlbiBtaXNzaW5nXCIpO1xuICAgIEx3dC5yZXR1cm4gKGBNaXNzaW5nX3Rva2VuIGZvcm0pXG5cbiAgfCBfOjpfOjpfIC0+XG4gICAgbG9nLndhcm5pbmcgKGZ1biBsb2cgLT4gbG9nIH5yZXF1ZXN0IFwiQ1NSRiB0b2tlbiBkdXBsaWNhdGVkXCIpO1xuICAgIEx3dC5yZXR1cm4gKGBNYW55X3Rva2VucyBmb3JtKVxuXG5sZXQgd3JvbmdfY29udGVudF90eXBlIHJlcXVlc3QgPVxuICBsb2cud2FybmluZyAoZnVuIGxvZyAtPiBsb2cgfnJlcXVlc3RcbiAgICBcIkNvbnRlbnQtVHlwZSBub3QgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcIik7XG4gIEx3dC5yZXR1cm4gYFdyb25nX2NvbnRlbnRfdHlwZVxuXG5sZXQgZm9ybSA/KGNzcmYgPSB0cnVlKSB+bm93IHJlcXVlc3QgPVxuICBtYXRjaCBNZXNzYWdlLmhlYWRlciByZXF1ZXN0IFwiQ29udGVudC1UeXBlXCIgd2l0aFxuICB8IE5vbmUgLT5cbiAgICB3cm9uZ19jb250ZW50X3R5cGUgcmVxdWVzdFxuICB8IFNvbWUgY29udGVudF90eXBlIC0+XG4gICAgbWF0Y2ggU3RyaW5nLnNwbGl0X29uX2NoYXIgJzsnIGNvbnRlbnRfdHlwZSB3aXRoXG4gICAgfCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOjpfIC0+XG4gICAgICBsZXQlbHd0IGJvZHkgPSBNZXNzYWdlLmJvZHkgcmVxdWVzdCBpblxuICAgICAgbGV0IGZvcm0gPSBGb3JtYXRzLmZyb21fZm9ybV91cmxlbmNvZGVkIGJvZHkgaW5cbiAgICAgIGlmIGNzcmYgdGhlblxuICAgICAgICBzb3J0X2FuZF9jaGVja19mb3JtIH5ub3cgKGZ1biBzdHJpbmcgLT4gc3RyaW5nKSBmb3JtIHJlcXVlc3RcbiAgICAgIGVsc2VcbiAgICAgICAgTHd0LnJldHVybiAoYE9rIChzb3J0IGZvcm0pKVxuICAgIHwgXyAtPlxuICAgICAgd3JvbmdfY29udGVudF90eXBlIHJlcXVlc3RcbiIsIigqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIERyZWFtLCByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLm1kXG4gICBmb3IgZGV0YWlscywgb3IgdmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL2FhbnRyb24vZHJlYW0uXG5cbiAgIENvcHlyaWdodCAyMDIxIEFudG9uIEJhY2hpbiAqKVxuXG5cblxubW9kdWxlIE1lc3NhZ2UgPSBEcmVhbV9wdXJlLk1lc3NhZ2VcblxuXG5cbigqIFVzZWQgZm9yIGNvbnZlcnRpbmcgdGhlIHN0cmVhbSBpbnRlcmZhY2Ugb2YgW211bHRpcGFydF9mb3JtXSBpbnRvIHRoZSBwdWxsXG4gICBpbnRlcmZhY2Ugb2YgRHJlYW0uXG5cbiAgIFtzdGF0ZV0gcGVybWl0cyB0byBkaXNzb2NpYXRlIHRoZSBpbml0aWFsIHN0YXRlIG1hZGUgYnlcbiAgIFtpbml0aWFsX211bHRpcGFydF9zdGF0ZV0gYW5kIG9uZSB3aGljaCBzdGFydGVkIHRvIGNvbnN1bWUgdGhlIGJvZHkgc3RyZWFtXG4gICAoc2VlIHRoZSBjYWxsIG9mIFtVcGxvYWQudXBsb2FkXSkuICopXG50eXBlIG11bHRpcGFydF9zdGF0ZSA9IHtcbiAgbXV0YWJsZSBzdGF0ZV9pbml0IDogYm9vbDtcbiAgbXV0YWJsZSBuYW1lIDogc3RyaW5nIG9wdGlvbjtcbiAgbXV0YWJsZSBmaWxlbmFtZSA6IHN0cmluZyBvcHRpb247XG4gIG11dGFibGUgc3RyZWFtIDogKDwgPiAqIE11bHRpcGFydF9mb3JtLkhlYWRlci50ICogc3RyaW5nIEx3dF9zdHJlYW0udCkgTHd0X3N0cmVhbS50O1xufVxuXG5sZXQgaW5pdGlhbF9tdWx0aXBhcnRfc3RhdGUgKCkgPSB7XG4gIHN0YXRlX2luaXQgPSB0cnVlO1xuICBuYW1lID0gTm9uZTtcbiAgZmlsZW5hbWUgPSBOb25lO1xuICBzdHJlYW0gPSBMd3Rfc3RyZWFtLm9mX2xpc3QgW107XG59XG5cbigqIFRPRE8gRHVtcCB0aGUgdmFsdWUgb2YgdGhlIG11bHRpcGFydCBzdGF0ZSBzb21laG93PyAqKVxubGV0IG11bHRpcGFydF9zdGF0ZV9maWVsZCA6IG11bHRpcGFydF9zdGF0ZSBNZXNzYWdlLmZpZWxkID1cbiAgTWVzc2FnZS5uZXdfZmllbGRcbiAgICB+bmFtZTpcImRyZWFtLm11bHRpcGFydFwiXG4gICAgKClcblxubGV0IG11bHRpcGFydF9zdGF0ZSByZXF1ZXN0ID1cbiAgbWF0Y2ggTWVzc2FnZS5maWVsZCByZXF1ZXN0IG11bHRpcGFydF9zdGF0ZV9maWVsZCB3aXRoXG4gIHwgU29tZSBzdGF0ZSAtPiBzdGF0ZVxuICB8IE5vbmUgLT5cbiAgICBsZXQgc3RhdGUgPSBpbml0aWFsX211bHRpcGFydF9zdGF0ZSAoKSBpblxuICAgIE1lc3NhZ2Uuc2V0X2ZpZWxkIHJlcXVlc3QgbXVsdGlwYXJ0X3N0YXRlX2ZpZWxkIHN0YXRlO1xuICAgIHN0YXRlXG5cbmxldCBmaWVsZF90b19zdHJpbmcgKHJlcXVlc3QgOiBNZXNzYWdlLnJlcXVlc3QpIGZpZWxkID1cbiAgbGV0IG9wZW4gTXVsdGlwYXJ0X2Zvcm0gaW5cbiAgbWF0Y2ggZmllbGQgd2l0aFxuICB8IEZpZWxkLkZpZWxkIChmaWVsZF9uYW1lLCBGaWVsZC5Db250ZW50X3R5cGUsIHYpIC0+XG4gICAgKGZpZWxkX25hbWUgOj4gc3RyaW5nKSwgQ29udGVudF90eXBlLnRvX3N0cmluZyB2XG4gIHwgRmllbGQuRmllbGQgKGZpZWxkX25hbWUsIEZpZWxkLkNvbnRlbnRfZGlzcG9zaXRpb24sIHYpIC0+XG4gICAgbGV0IHN0YXRlID0gbXVsdGlwYXJ0X3N0YXRlIHJlcXVlc3QgaW5cbiAgICBzdGF0ZS5maWxlbmFtZSA8LSBDb250ZW50X2Rpc3Bvc2l0aW9uLmZpbGVuYW1lIHYgO1xuICAgIHN0YXRlLm5hbWUgPC0gQ29udGVudF9kaXNwb3NpdGlvbi5uYW1lIHYgO1xuICAgIChmaWVsZF9uYW1lIDo+IHN0cmluZyksIENvbnRlbnRfZGlzcG9zaXRpb24udG9fc3RyaW5nIHZcbiAgfCBGaWVsZC5GaWVsZCAoZmllbGRfbmFtZSwgRmllbGQuQ29udGVudF9lbmNvZGluZywgdikgLT5cbiAgICAoZmllbGRfbmFtZSA6PiBzdHJpbmcpLCBDb250ZW50X2VuY29kaW5nLnRvX3N0cmluZyB2XG4gIHwgRmllbGQuRmllbGQgKGZpZWxkX25hbWUsIEZpZWxkLkZpZWxkLCB2KSAtPlxuICAgIChmaWVsZF9uYW1lIDo+IHN0cmluZyksIFVuc3RyY3RyZC50b191dGZfOF9zdHJpbmcgdlxuXG5sZXQgbG9nID0gTG9nLnN1Yl9sb2cgXCJkcmVhbS51cGxvYWRcIlxuXG5sZXQgdXBsb2FkX3BhcnQgKHJlcXVlc3QgOiBNZXNzYWdlLnJlcXVlc3QpID1cbiAgbGV0IHN0YXRlID0gbXVsdGlwYXJ0X3N0YXRlIHJlcXVlc3QgaW5cbiAgbWF0Y2glbHd0IEx3dF9zdHJlYW0ucGVlayBzdGF0ZS5zdHJlYW0gd2l0aFxuICB8IE5vbmUgLT4gTHd0LnJldHVybl9ub25lXG4gIHwgU29tZSAoX3VpZCwgX2hlYWRlciwgc3RyZWFtKSAtPlxuICAgIG1hdGNoJWx3dCBMd3Rfc3RyZWFtLmdldCBzdHJlYW0gd2l0aFxuICAgIHwgU29tZSBfIGFzIHYgLT4gTHd0LnJldHVybiB2XG4gICAgfCBOb25lIC0+XG4gICAgICBsb2cuZGVidWcgKGZ1biBtIC0+IG0gXCJFbmQgb2YgdGhlIHBhcnQuXCIpIDtcbiAgICAgIGxldCVsd3QgKCkgPSBMd3Rfc3RyZWFtLmp1bmsgc3RhdGUuc3RyZWFtIGluXG4gICAgICAoKiBYWFgoZGlub3NhdXJlKTogZGVsZXRlIHRoZSBjdXJyZW50IHBhcnQgZnJvbSB0aGUgW3N0cmVhbV0uICopXG4gICAgICBMd3QucmV0dXJuX25vbmVcblxubGV0IGlkZW50aWZ5IF8gPSBvYmplY3QgZW5kXG5cbnR5cGUgcGFydCA9IHN0cmluZyBvcHRpb24gKiBzdHJpbmcgb3B0aW9uICogKChzdHJpbmcgKiBzdHJpbmcpIGxpc3QpXG5cbmxldCByZWMgc3RhdGUgKHJlcXVlc3QgOiBNZXNzYWdlLnJlcXVlc3QpID1cbiAgbGV0IHN0YXRlJyA9IG11bHRpcGFydF9zdGF0ZSByZXF1ZXN0IGluXG4gIGxldCBzdHJlYW0gPSBzdGF0ZScuc3RyZWFtIGluXG4gIG1hdGNoJWx3dCBMd3Rfc3RyZWFtLnBlZWsgc3RyZWFtIHdpdGhcbiAgfCBOb25lIC0+IGxldCVsd3QgKCkgPSBMd3Rfc3RyZWFtLmp1bmsgc3RyZWFtIGluIEx3dC5yZXR1cm5fbm9uZVxuICB8IFNvbWUgKF8sIGhlYWRlcnMsIF9zdHJlYW0pIC0+XG4gICAgbGV0IGhlYWRlcnMgPVxuICAgICAgaGVhZGVyc1xuICAgICAgfD4gTXVsdGlwYXJ0X2Zvcm0uSGVhZGVyLnRvX2xpc3RcbiAgICAgIHw+IExpc3QubWFwIChmaWVsZF90b19zdHJpbmcgcmVxdWVzdClcbiAgICBpblxuICAgIGxldCBwYXJ0ID1cbiAgICAgIHN0YXRlJy5uYW1lLCBzdGF0ZScuZmlsZW5hbWUsIGhlYWRlcnMgaW5cbiAgICBMd3QucmV0dXJuIChTb21lIHBhcnQpXG5cbmFuZCB1cGxvYWQgKHJlcXVlc3QgOiBNZXNzYWdlLnJlcXVlc3QpID1cbiAgbGV0IHN0YXRlJyA9IG11bHRpcGFydF9zdGF0ZSByZXF1ZXN0IGluXG4gIG1hdGNoIHN0YXRlJy5zdGF0ZV9pbml0IHdpdGhcbiAgfCBmYWxzZSAtPlxuICAgIHN0YXRlIHJlcXVlc3RcblxuICB8IHRydWUgLT5cbiAgICBsZXQgY29udGVudF90eXBlID0gbWF0Y2ggTWVzc2FnZS5oZWFkZXIgcmVxdWVzdCBcIkNvbnRlbnQtVHlwZVwiIHdpdGhcbiAgICB8IFNvbWUgY29udGVudF90eXBlIC0+XG4gICAgICBSZXN1bHQudG9fb3B0aW9uXG4gICAgICAgIChNdWx0aXBhcnRfZm9ybS5Db250ZW50X3R5cGUub2Zfc3RyaW5nIChjb250ZW50X3R5cGUgXiBcIlxcclxcblwiKSlcbiAgICB8IE5vbmUgLT5cbiAgICAgIE5vbmVcbiAgICBpblxuXG4gICAgbWF0Y2ggY29udGVudF90eXBlIHdpdGhcbiAgICB8IE5vbmUgLT5cbiAgICAgIGxldCBtZXNzYWdlID1cbiAgICAgICAgXCJUaGUgcmVxdWVzdCBkb2VzIG5vdCBoYXZlICdDb250ZW50LVR5cGU6IG11bHRpcGFydC9mb3JtX2RhdGE7IC4uLidcIiBpblxuICAgICAgbG9nLmVycm9yIChmdW4gbG9nIC0+IGxvZyBcIiVzXCIgbWVzc2FnZSk7XG4gICAgICBmYWlsd2l0aCBtZXNzYWdlXG5cbiAgICB8IFNvbWUgY29udGVudF90eXBlIC0+XG4gICAgICBsZXQgYm9keSA9XG4gICAgICAgIEx3dF9zdHJlYW0uZnJvbSAoZnVuICgpIC0+XG4gICAgICAgICAgTWVzc2FnZS5yZWFkIChNZXNzYWdlLnNlcnZlcl9zdHJlYW0gcmVxdWVzdCkpIGluXG4gICAgICBsZXQgYFBhcnNlIHRoLCBzdHJlYW0gPVxuICAgICAgICBNdWx0aXBhcnRfZm9ybV9sd3Quc3RyZWFtIH5pZGVudGlmeSBib2R5IGNvbnRlbnRfdHlwZSBpblxuICAgICAgTHd0LmFzeW5jIChmdW4gKCkgLT4gbGV0JWx3dCBfID0gdGggaW4gTHd0LnJldHVybl91bml0KTtcbiAgICAgIHN0YXRlJy5zdHJlYW0gPC0gc3RyZWFtO1xuICAgICAgc3RhdGUnLnN0YXRlX2luaXQgPC0gZmFsc2U7XG4gICAgICBzdGF0ZSByZXF1ZXN0XG5cbnR5cGUgbXVsdGlwYXJ0X2Zvcm0gPVxuICAoc3RyaW5nICogKChzdHJpbmcgb3B0aW9uICogc3RyaW5nKSBsaXN0KSkgbGlzdFxubW9kdWxlIE1hcCA9IE1hcC5NYWtlIChTdHJpbmcpXG5cbmxldCBtdWx0aXBhcnQgPyhjc3JmPXRydWUpIH5ub3cgcmVxdWVzdCA9XG4gIGxldCBjb250ZW50X3R5cGUgPSBtYXRjaCBNZXNzYWdlLmhlYWRlciByZXF1ZXN0IFwiQ29udGVudC1UeXBlXCIgd2l0aFxuICAgIHwgU29tZSBjb250ZW50X3R5cGUgLT5cbiAgICAgIFJlc3VsdC50b19vcHRpb24gKE11bHRpcGFydF9mb3JtLkNvbnRlbnRfdHlwZS5vZl9zdHJpbmcgKGNvbnRlbnRfdHlwZSBeIFwiXFxyXFxuXCIpKVxuICAgIHwgTm9uZSAtPiBOb25lIGluXG4gIG1hdGNoIGNvbnRlbnRfdHlwZSB3aXRoXG4gIHwgTm9uZSAtPiBMd3QucmV0dXJuIGBXcm9uZ19jb250ZW50X3R5cGVcbiAgfCBTb21lIGNvbnRlbnRfdHlwZSAtPlxuICAgIGxldCBib2R5ID1cbiAgICAgIEx3dF9zdHJlYW0uZnJvbSAoZnVuICgpIC0+XG4gICAgICAgIE1lc3NhZ2UucmVhZCAoTWVzc2FnZS5zZXJ2ZXJfc3RyZWFtIHJlcXVlc3QpKSBpblxuICAgIG1hdGNoJWx3dCBNdWx0aXBhcnRfZm9ybV9sd3Qub2Zfc3RyZWFtX3RvX2xpc3QgYm9keSBjb250ZW50X3R5cGUgd2l0aFxuICAgIHwgRXJyb3IgKGBNc2cgX2VycikgLT5cbiAgICAgIEx3dC5yZXR1cm4gYFdyb25nX2NvbnRlbnRfdHlwZSAoKiBYWFgoZGlub3NhdXJlKTogYmV0dGVyIGVycm9yPyAqKVxuICAgIHwgT2sgKHRyZWUsIGFzc29jKSAtPlxuICAgICAgbGV0IG9wZW4gTXVsdGlwYXJ0X2Zvcm0gaW5cbiAgICAgIGxldCB0cmVlID0gZmxhdHRlbiB0cmVlIGluXG4gICAgICBsZXQgZm9sZCBhY2MgeyBNdWx0aXBhcnRfZm9ybS5oZWFkZXI7IGJvZHk9IHVpZDsgfSA9XG4gICAgICAgIGxldCBjb250ZW50cyA9IExpc3QuYXNzb2MgdWlkIGFzc29jIGluXG4gICAgICAgIGxldCBjb250ZW50X2Rpc3Bvc2l0aW9uID0gSGVhZGVyLmNvbnRlbnRfZGlzcG9zaXRpb24gaGVhZGVyIGluXG4gICAgICAgIGxldCBmaWxlbmFtZSA9IE9wdGlvbi5iaW5kIGNvbnRlbnRfZGlzcG9zaXRpb24gQ29udGVudF9kaXNwb3NpdGlvbi5maWxlbmFtZSBpblxuICAgICAgICBtYXRjaCBPcHRpb24uYmluZCBjb250ZW50X2Rpc3Bvc2l0aW9uIENvbnRlbnRfZGlzcG9zaXRpb24ubmFtZSB3aXRoXG4gICAgICAgIHwgTm9uZSAtPiBhY2NcbiAgICAgICAgfCBTb21lIG5hbWUgLT5cbiAgICAgICAgICBsZXQgdnMgPVxuICAgICAgICAgICAgbWF0Y2ggTWFwLmZpbmRfb3B0IG5hbWUgYWNjIHdpdGhcbiAgICAgICAgICAgIHwgU29tZSB2cyAtPiB2c1xuICAgICAgICAgICAgfCBOb25lIC0+IFtdXG4gICAgICAgICAgaW5cbiAgICAgICAgICBNYXAuYWRkIG5hbWUgKChmaWxlbmFtZSwgY29udGVudHMpOjp2cykgYWNjXG4gICAgICBpblxuICAgICAgbGV0IHBhcnRzID1cbiAgICAgICAgTGlzdC5mb2xkX2xlZnQgZm9sZCBNYXAuZW1wdHkgdHJlZVxuICAgICAgICB8PiBNYXAuYmluZGluZ3NcbiAgICAgICAgfD4gTGlzdC5tYXAgKGZ1biAobmFtZSwgdmFsdWVzKSAtPlxuICAgICAgICAgIG1hdGNoIHZhbHVlcyB3aXRoXG4gICAgICAgICAgfCBbU29tZSBcIlwiLCBcIlwiXSAtPiBuYW1lLCBbXVxuICAgICAgICAgIHwgXyAtPiBuYW1lLCBMaXN0LnJldiB2YWx1ZXMpXG4gICAgICBpblxuICAgICAgaWYgY3NyZiB0aGVuXG4gICAgICBGb3JtLnNvcnRfYW5kX2NoZWNrX2Zvcm0gfm5vd1xuICAgICAgICAoZnVuY3Rpb25cbiAgICAgICAgfCBbTm9uZSwgdmFsdWVdIC0+IHZhbHVlXG4gICAgICAgIHwgXyAtPiBcIlwiKVxuICAgICAgICBwYXJ0cyByZXF1ZXN0XG4gICAgICBlbHNlXG4gICAgICBsZXQgZm9ybSA9IEZvcm0uc29ydCBwYXJ0cyBpblxuICAgICAgTHd0LnJldHVybiAoYE9rIGZvcm0pXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBGb3JtYXRzID0gRHJlYW1fcHVyZS5Gb3JtYXRzXG5tb2R1bGUgTWVzc2FnZSA9IERyZWFtX3B1cmUuTWVzc2FnZVxubW9kdWxlIFN0cmVhbSA9IERyZWFtX3B1cmUuU3RyZWFtXG5cblxuXG5sZXQgcmVjIG1hdGNoX3NpdGVfcHJlZml4IHByZWZpeCBwYXRoID1cbiAgbWF0Y2ggcHJlZml4LCBwYXRoIHdpdGhcbiAgfCBwcmVmaXhfY3J1bWI6OnByZWZpeCwgcGF0aF9jcnVtYjo6cGF0aCAtPlxuICAgIGlmIHBhdGhfY3J1bWIgPSBwcmVmaXhfY3J1bWIgdGhlblxuICAgICAgbWF0Y2hfc2l0ZV9wcmVmaXggcHJlZml4IHBhdGhcbiAgICBlbHNlXG4gICAgICBOb25lXG4gIHwgW10sIHBhdGggLT5cbiAgICBTb21lIHBhdGhcbiAgfCBfIC0+XG4gICAgTm9uZVxuXG5cblxuKCogVE9ETyBUaGUgcGF0aCBhbmQgcHJlZml4IHJlcHJlc2VudGF0aW9ucyBhbmQgYWNjZXNzb3JzIG5lZWQgYSBjbGVhbnVwLiAqKVxubGV0IHdpdGhfc2l0ZV9wcmVmaXggcHJlZml4ID1cbiAgbGV0IHByZWZpeCA9XG4gICAgcHJlZml4XG4gICAgfD4gRm9ybWF0cy5mcm9tX3BhdGhcbiAgICB8PiBGb3JtYXRzLmRyb3BfdHJhaWxpbmdfc2xhc2hcbiAgaW5cbiAgZnVuIG5leHRfaGFuZGxlciByZXF1ZXN0IC0+XG4gICAgbWF0Y2ggbWF0Y2hfc2l0ZV9wcmVmaXggcHJlZml4IChSb3V0ZXIucGF0aCByZXF1ZXN0KSB3aXRoXG4gICAgfCBOb25lIC0+XG4gICAgICBNZXNzYWdlLnJlc3BvbnNlIH5zdGF0dXM6YEJhZF9HYXRld2F5IFN0cmVhbS5lbXB0eSBTdHJlYW0ubnVsbFxuICAgICAgfD4gTHd0LnJldHVyblxuICAgIHwgU29tZSBwYXRoIC0+XG4gICAgICAoKiBUT0RPIFRoaXMgZG9lc24ndCBuZWVkIHRvIGJlIHJlY29tcHV0ZWQgb24gZWFjaCByZXF1ZXN0IC0gY2FuIGNhY2hlIHRoZVxuICAgICAgICAgcmVzdWx0IGluIHRoZSBhcHAuICopXG4gICAgICBSb3V0ZXIuc2V0X3ByZWZpeCByZXF1ZXN0IChMaXN0LnJldiBwcmVmaXgpO1xuICAgICAgUm91dGVyLnNldF9wYXRoIHJlcXVlc3QgcGF0aDtcbiAgICAgIG5leHRfaGFuZGxlciByZXF1ZXN0XG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbigqIFRPRE8gTG9uZy10ZXJtLCBxdWVyeSBzdHJpbmcgaGFuZGxlciBpcyBsaWtlbHkgdG8gYmVjb21lIHBhcnQgb2YgdGhlXG4gICByb3V0ZXIuICopXG5cbm1vZHVsZSBGb3JtYXRzID0gRHJlYW1fcHVyZS5Gb3JtYXRzXG5tb2R1bGUgTWVzc2FnZSA9IERyZWFtX3B1cmUuTWVzc2FnZVxuXG5cblxuKCogVE9ETyBBY3R1YWxseSBjYWNoZSB0aGUgcmVzdWx0IG9mIHBhcnNpbmcgdGhlIHF1ZXJ5IHN0cmluZy4gKilcbigqIGxldCBxdWVyeV92YXJpYWJsZSA6IChzdHJpbmcgKiBzdHJpbmcpIGxpc3QgRHJlYW0ubG9jYWwgPVxuICBEcmVhbS5uZXdfbG9jYWxcbiAgICB+bmFtZTpcImRyZWFtLnF1ZXJ5XCJcbiAgICB+c2hvd192YWx1ZTooZnVuIHF1ZXJ5IC0+XG4gICAgICBxdWVyeVxuICAgICAgfD4gTGlzdC5tYXAgKGZ1biAobmFtZSwgdmFsdWUpIC0+IFByaW50Zi5zcHJpbnRmIFwiJXM9JXNcIiBuYW1lIHZhbHVlKVxuICAgICAgfD4gU3RyaW5nLmNvbmNhdCBcIiwgXCIpICopXG5cbmxldCBhbGxfcXVlcmllcyByZXF1ZXN0ID1cbiAgTWVzc2FnZS50YXJnZXQgcmVxdWVzdFxuICB8PiBGb3JtYXRzLnNwbGl0X3RhcmdldFxuICB8PiBzbmRcbiAgfD4gRm9ybWF0cy5mcm9tX2Zvcm1fdXJsZW5jb2RlZFxuXG5sZXQgcXVlcnkgcmVxdWVzdCBuYW1lID1cbiAgTGlzdC5hc3NvY19vcHQgbmFtZSAoYWxsX3F1ZXJpZXMgcmVxdWVzdClcblxubGV0IHF1ZXJpZXMgcmVxdWVzdCBuYW1lID1cbiAgYWxsX3F1ZXJpZXMgcmVxdWVzdFxuICB8PiBMaXN0LmZvbGRfbGVmdCAoZnVuIGFjY3VtdWxhdG9yIChuYW1lJywgdmFsdWUpIC0+XG4gICAgaWYgbmFtZScgPSBuYW1lIHRoZW5cbiAgICAgIHZhbHVlOjphY2N1bXVsYXRvclxuICAgIGVsc2VcbiAgICAgIGFjY3VtdWxhdG9yKVxuICAgIFtdXG4gIHw+IExpc3QucmV2XG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5tb2R1bGUgU3RyZWFtID0gRHJlYW1fcHVyZS5TdHJlYW1cblxuXG5cbmxldCBsb2cgPVxuICBMb2cuc3ViX2xvZyBcImRyZWFtLm9yaWdpblwiXG5cbigqIFRPRE8gUmVuYW1lIGFsbCBuZXh0X2hhbmRsZXIgdG8gaW5uZXJfaGFuZGxlci4gKilcbmxldCBvcmlnaW5fcmVmZXJyZXJfY2hlY2sgaW5uZXJfaGFuZGxlciByZXF1ZXN0ID1cblxuICBtYXRjaCBNZXNzYWdlLm1ldGhvZF8gcmVxdWVzdCB3aXRoXG4gIHwgYEdFVCB8IGBIRUFEIC0+XG4gICAgaW5uZXJfaGFuZGxlciByZXF1ZXN0XG5cbiAgfCBfIC0+XG4gICAgbGV0IG9yaWdpbiA9XG4gICAgICBtYXRjaCBNZXNzYWdlLmhlYWRlciByZXF1ZXN0IFwiT3JpZ2luXCIgd2l0aFxuICAgICAgfCBTb21lIFwibnVsbFwiIHwgTm9uZSAtPiBNZXNzYWdlLmhlYWRlciByZXF1ZXN0IFwiUmVmZXJlclwiXG4gICAgICB8IFNvbWUgXyBhcyBvcmlnaW4gLT4gb3JpZ2luXG4gICAgaW5cblxuICAgIG1hdGNoIG9yaWdpbiB3aXRoXG4gICAgfCBOb25lIC0+XG4gICAgICBsb2cud2FybmluZyAoZnVuIGxvZyAtPiBsb2cgfnJlcXVlc3RcbiAgICAgICAgXCJPcmlnaW4gYW5kIFJlZmVyZXIgaGVhZGVycyBib3RoIG1pc3NpbmdcIik7XG4gICAgICBNZXNzYWdlLnJlc3BvbnNlIH5zdGF0dXM6YEJhZF9SZXF1ZXN0IFN0cmVhbS5lbXB0eSBTdHJlYW0ubnVsbFxuICAgICAgfD4gTHd0LnJldHVyblxuXG4gICAgKCogVE9ETyBBbHNvIHJlY29tbWVuZCBVcmkgdG8gdXNlcnMuICopXG4gICAgfCBTb21lIG9yaWdpbiAtPlxuXG4gICAgICBtYXRjaCBNZXNzYWdlLmhlYWRlciByZXF1ZXN0IFwiSG9zdFwiIHdpdGhcbiAgICAgIHwgTm9uZSAtPlxuICAgICAgICBsb2cud2FybmluZyAoZnVuIGxvZyAtPiBsb2cgfnJlcXVlc3QgXCJIb3N0IGhlYWRlciBtaXNzaW5nXCIpO1xuICAgICAgICBNZXNzYWdlLnJlc3BvbnNlIH5zdGF0dXM6YEJhZF9SZXF1ZXN0IFN0cmVhbS5lbXB0eSBTdHJlYW0ubnVsbFxuICAgICAgICB8PiBMd3QucmV0dXJuXG5cbiAgICAgIHwgU29tZSBob3N0IC0+XG5cbiAgICAgICAgbGV0IG9yaWdpbl91cmkgPSBVcmkub2Zfc3RyaW5nIG9yaWdpbiBpblxuXG4gICAgICAgIGxldCBzY2hlbWVzX21hdGNoID1cbiAgICAgICAgICBtYXRjaCBVcmkuc2NoZW1lIG9yaWdpbl91cmkgd2l0aFxuICAgICAgICAgIHwgU29tZSBcImh0dHBcIiAtPiBub3QgKEhlbHBlcnMudGxzIHJlcXVlc3QpXG4gICAgICAgICAgfCBTb21lIFwiaHR0cHNcIiAtPiBIZWxwZXJzLnRscyByZXF1ZXN0XG4gICAgICAgICAgfCBfIC0+IGZhbHNlXG4gICAgICAgIGluXG5cbiAgICAgICAgbGV0IGhvc3RfaG9zdCwgaG9zdF9wb3J0ID1cbiAgICAgICAgICBtYXRjaCBTdHJpbmcuc3BsaXRfb25fY2hhciAnOicgaG9zdCB3aXRoXG4gICAgICAgICAgfCBbaG9zdDsgcG9ydF0gLT4gU29tZSBob3N0LCBTb21lIHBvcnRcbiAgICAgICAgICB8IF8gLT4gU29tZSBob3N0LCBOb25lXG4gICAgICAgIGluXG5cbiAgICAgICAgbGV0IG9yaWdpbl9wb3J0ID1cbiAgICAgICAgICBtYXRjaCBVcmkucG9ydCBvcmlnaW5fdXJpIHdpdGhcbiAgICAgICAgICB8IE5vbmUgLT4gTm9uZVxuICAgICAgICAgIHwgU29tZSBwb3J0IC0+IFNvbWUgKHN0cmluZ19vZl9pbnQgcG9ydClcbiAgICAgICAgaW5cblxuICAgICAgICBsZXQgaG9zdHNfbWF0Y2ggPSBVcmkuaG9zdCBvcmlnaW5fdXJpID0gaG9zdF9ob3N0XG4gICAgICAgIGFuZCBwb3J0c19tYXRjaCA9IG9yaWdpbl9wb3J0ID0gaG9zdF9wb3J0IGluXG5cbiAgICAgICAgaWYgc2NoZW1lc19tYXRjaCAmJiBob3N0c19tYXRjaCAmJiBwb3J0c19tYXRjaCB0aGVuXG4gICAgICAgICAgaW5uZXJfaGFuZGxlciByZXF1ZXN0XG5cbiAgICAgICAgZWxzZSBiZWdpblxuICAgICAgICAgIGxvZy53YXJuaW5nIChmdW4gbG9nIC0+IGxvZyB+cmVxdWVzdFxuICAgICAgICAgICAgXCJPcmlnaW4tSG9zdCBtaXNtYXRjaDogJyVzJyB2cy4gJyVzJ1wiIG9yaWdpbiBob3N0KTtcbiAgICAgICAgICBNZXNzYWdlLnJlc3BvbnNlIH5zdGF0dXM6YEJhZF9SZXF1ZXN0IFN0cmVhbS5lbXB0eSBTdHJlYW0ubnVsbFxuICAgICAgICAgIHw+IEx3dC5yZXR1cm5cbiAgICAgICAgZW5kXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMS0yMDIzIFRoaWJhdXQgTWF0dGlvLCBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5cblxuXG5sZXQgcm91dGUgPVxuICBcIi9fbGl2ZXJlbG9hZFwiXG5cbmxldCByZXRyeV9pbnRlcnZhbF9tcyA9XG4gIDUwMFxuXG5cblxubGV0IHNjcmlwdCA9IFByaW50Zi5zcHJpbnRmXG4gICAge2pzfFxudmFyIHNvY2tldFVybCA9IFwid3M6Ly9cIiArIGxvY2F0aW9uLmhvc3QgKyBcIiVzXCI7XG52YXIgcyA9IG5ldyBXZWJTb2NrZXQoc29ja2V0VXJsKTtcblxucy5vbm9wZW4gPSBmdW5jdGlvbihldmVuKSB7XG4gIGNvbnNvbGUuZGVidWcoXCJMaXZlIHJlbG9hZDogV2ViU29ja2V0IGNvbm5lY3Rpb24gb3BlblwiKTtcbn07XG5cbnMub25jbG9zZSA9IGZ1bmN0aW9uKGV2ZW4pIHtcbiAgY29uc29sZS5kZWJ1ZyhcIkxpdmUgcmVsb2FkOiBXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWRcIik7XG5cbiAgdmFyIHJldHJ5SW50ZXJ2YWxNcyA9ICVpO1xuXG4gIGZ1bmN0aW9uIHJlbG9hZCgpIHtcbiAgICBzMiA9IG5ldyBXZWJTb2NrZXQoc29ja2V0VXJsKTtcblxuICAgIHMyLm9uZXJyb3IgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgc2V0VGltZW91dChyZWxvYWQsIHJldHJ5SW50ZXJ2YWxNcyk7XG4gICAgfTtcblxuICAgIHMyLm9ub3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9O1xuICB9O1xuXG4gIHJlbG9hZCgpO1xufTtcblxucy5vbmVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgY29uc29sZS5kZWJ1ZyhcIkxpdmUgcmVsb2FkOiBXZWJTb2NrZXQgZXJyb3I6XCIsIGV2ZW50KTtcbn07XG58anN9XG4gICAgcm91dGUgcmV0cnlfaW50ZXJ2YWxfbXNcblxuXG5cbmxldCBsaXZlcmVsb2FkIG5leHRfaGFuZGxlciByZXF1ZXN0ID1cblxuICBtYXRjaCBNZXNzYWdlLnRhcmdldCByZXF1ZXN0IHdpdGhcbiAgfCB0YXJnZXQgd2hlbiB0YXJnZXQgPSByb3V0ZSAtPlxuICAgIEhlbHBlcnMud2Vic29ja2V0IEBAIGZ1biBzb2NrZXQgLT5cbiAgICBsZXQlbHd0IF8gPSBIZWxwZXJzLnJlY2VpdmUgc29ja2V0IGluXG4gICAgTWVzc2FnZS5jbG9zZV93ZWJzb2NrZXQgc29ja2V0XG5cbiAgfCBfIC0+XG4gICAgbGV0JWx3dCByZXNwb25zZSA9IG5leHRfaGFuZGxlciByZXF1ZXN0IGluXG4gICAgbWF0Y2ggTWVzc2FnZS5oZWFkZXIgcmVzcG9uc2UgXCJDb250ZW50LVR5cGVcIiB3aXRoXG4gICAgfCBTb21lIChcInRleHQvaHRtbFwiIHwgXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcIikgLT5cbiAgICAgIGxldCVsd3QgYm9keSA9IE1lc3NhZ2UuYm9keSByZXNwb25zZSBpblxuICAgICAgbGV0IHNvdXAgPVxuICAgICAgICBNYXJrdXAuc3RyaW5nIGJvZHlcbiAgICAgICAgfD4gTWFya3VwLnBhcnNlX2h0bWwgfmNvbnRleHQ6YERvY3VtZW50XG4gICAgICAgIHw+IE1hcmt1cC5zaWduYWxzXG4gICAgICAgIHw+IFNvdXAuZnJvbV9zaWduYWxzXG4gICAgICBpblxuICAgICAgYmVnaW4gbWF0Y2ggU291cC5JbmZpeC4oc291cCAkPyBcImhlYWRcIikgd2l0aFxuICAgICAgfCBOb25lIC0+XG4gICAgICAgIEx3dC5yZXR1cm4gcmVzcG9uc2VcbiAgICAgIHwgU29tZSBoZWFkIC0+XG4gICAgICAgIFNvdXAuY3JlYXRlX2VsZW1lbnQgXCJzY3JpcHRcIiB+aW5uZXJfdGV4dDpzY3JpcHRcbiAgICAgICAgfD4gU291cC5hcHBlbmRfY2hpbGQgaGVhZDtcbiAgICAgICAgc291cFxuICAgICAgICB8PiBTb3VwLnRvX3N0cmluZ1xuICAgICAgICB8PiBNZXNzYWdlLnNldF9ib2R5IHJlc3BvbnNlO1xuICAgICAgICBMd3QucmV0dXJuIHJlc3BvbnNlXG4gICAgICBlbmRcblxuICAgIHwgXyAtPiBMd3QucmV0dXJuIHJlc3BvbnNlXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBKb3NlcGggVGhvbWFzICopXG5cblxuXG5tb2R1bGUgTWVzc2FnZSA9IERyZWFtX3B1cmUuTWVzc2FnZVxuXG5cblxubGV0IGxvZyA9XG4gIExvZy5zdWJfbG9nIFwiZHJlYW0uZmxhc2hcIlxuXG5sZXQgZml2ZV9taW51dGVzID1cbiAgNS4gKi4gNjAuXG5cbmxldCBzdG9yYWdlX2ZpZWxkID1cbiAgTWVzc2FnZS5uZXdfZmllbGQgfm5hbWU6XCJkcmVhbS5mbGFzaFwiICgpXG5cbmxldCBmbGFzaF9jb29raWUgPVxuICBcImRyZWFtLmZsYXNoXCJcblxuKCogVGhpcyBpcyBhIHNvZnQgbGltaXQuIEVuY3J5cHRpb24gYW5kIGJhc2U2NCBlbmNvZGluZyBpbmNyZWFzZSB0aGVcbiAgIG9yaWdpbmFsIHNpemUgb2YgdGhlIGNvb2tpZSB0ZXh0IGJ5IH40LzMuKilcbmxldCBjb250ZW50X2J5dGVfc2l6ZV9saW1pdCA9XG4gIDMwNzJcblxubGV0ICh8Pj8pID1cbiAgT3B0aW9uLmJpbmRcblxuXG5cbmxldCBmbGFzaCByZXF1ZXN0ID1cbiAgbGV0IHJlYyBncm91cCB4ID1cbiAgICBtYXRjaCB4IHdpdGhcbiAgICB8IHgxOjp4Mjo6cmVzdCAtPiAoeDEsIHgyKTo6KGdyb3VwIHJlc3QpXG4gICAgfCBfIC0+IFtdXG4gIGluXG4gIGxldCB1bnBhY2sgdSA9XG4gICAgbWF0Y2ggdSB3aXRoXG4gICAgfCBgU3RyaW5nIHggLT4geFxuICAgIHwgXyAtPiBmYWlsd2l0aCBcIkJhZCBmbGFzaCBtZXNzYWdlIGNvbnRlbnRcIlxuICBpblxuICBsZXQgeCA9XG4gICAgQ29va2llLmNvb2tpZSByZXF1ZXN0IGZsYXNoX2Nvb2tpZVxuICAgIHw+PyBmdW4gdmFsdWUgLT5cbiAgICBtYXRjaCBZb2pzb24uQmFzaWMuZnJvbV9zdHJpbmcgdmFsdWUgd2l0aFxuICAgIHwgYExpc3QgeSAtPiBTb21lIChncm91cCBAQCBMaXN0Lm1hcCB1bnBhY2sgeSlcbiAgICB8IF8gLT4gTm9uZVxuICBpblxuICBPcHRpb24udmFsdWUgeCB+ZGVmYXVsdDpbXVxuXG5sZXQgcHV0X2ZsYXNoIHJlcXVlc3QgY2F0ZWdvcnkgbWVzc2FnZSA9XG4gIGxldCBvdXRib3ggPVxuICAgIG1hdGNoIE1lc3NhZ2UuZmllbGQgcmVxdWVzdCBzdG9yYWdlX2ZpZWxkIHdpdGhcbiAgICB8IFNvbWUgb3V0Ym94IC0+IG91dGJveFxuICAgIHwgTm9uZSAtPlxuICAgICAgbGV0IG1lc3NhZ2UgPSBcIk1pc3NpbmcgZmxhc2ggbWVzc2FnZSBtaWRkbGV3YXJlXCIgaW5cbiAgICAgIGxvZy5lcnJvciAoZnVuIGxvZyAtPiBsb2cgfnJlcXVlc3QgXCIlc1wiIG1lc3NhZ2UpO1xuICAgICAgZmFpbHdpdGggbWVzc2FnZVxuICBpblxuICBvdXRib3ggOj0gKGNhdGVnb3J5LCBtZXNzYWdlKTo6IW91dGJveFxuXG5cblxubGV0IGZsYXNoX21lc3NhZ2VzIGlubmVyX2hhbmRsZXIgcmVxdWVzdCA9XG4gIGxvZy5kZWJ1ZyAoZnVuIGxvZyAtPlxuICAgIGxldCBjdXJyZW50ID1cbiAgICAgIGZsYXNoIHJlcXVlc3RcbiAgICAgIHw+IExpc3QubWFwIChmdW4gKHAscSkgLT4gcCBeIFwiOiBcIiBeIHEpXG4gICAgICB8PiBTdHJpbmcuY29uY2F0IFwiLCBcIiBpblxuICAgIGlmIFN0cmluZy5sZW5ndGggY3VycmVudCA+IDAgdGhlblxuICAgICAgbG9nIH5yZXF1ZXN0IFwiRmxhc2ggbWVzc2FnZXM6ICVzXCIgY3VycmVudFxuICAgIGVsc2VcbiAgICAgIGxvZyB+cmVxdWVzdCBcIiVzXCIgXCJObyBmbGFzaCBtZXNzYWdlcy5cIik7XG4gIGxldCBvdXRib3ggPSByZWYgW10gaW5cbiAgTWVzc2FnZS5zZXRfZmllbGQgcmVxdWVzdCBzdG9yYWdlX2ZpZWxkIG91dGJveDtcbiAgbGV0IGV4aXN0aW5nID0gQ29va2llLmNvb2tpZSByZXF1ZXN0IGZsYXNoX2Nvb2tpZSBpblxuICBsZXQlbHd0IHJlc3BvbnNlID0gaW5uZXJfaGFuZGxlciByZXF1ZXN0IGluXG4gIGxldCBlbnRyaWVzID0gTGlzdC5yZXYgIW91dGJveCBpblxuICBsZXQgKCkgPVxuICAgIG1hdGNoIGV4aXN0aW5nLCBlbnRyaWVzIHdpdGhcbiAgICB8IE5vbmUsIFtdIC0+ICgpXG4gICAgfCBTb21lIF8sIFtdIC0+XG4gICAgICAoKiBUT0RPIFVzZSBkcm9wX2Nvb2tpZT8gKilcbiAgICAgIENvb2tpZS5zZXRfY29va2llIHJlc3BvbnNlIHJlcXVlc3QgZmxhc2hfY29va2llIFwiXCIgfmV4cGlyZXM6MC5cbiAgICB8IF8sIF8gLT5cbiAgICAgIGxldCBjb250ZW50ID1cbiAgICAgICAgTGlzdC5mb2xkX3JpZ2h0IChmdW4gKHgseSkgYSAtPiBgU3RyaW5nIHggOjogYFN0cmluZyB5IDo6IGEpIGVudHJpZXMgW11cbiAgICAgIGluXG4gICAgICBsZXQgdmFsdWUgPSBgTGlzdCBjb250ZW50IHw+IFlvanNvbi5CYXNpYy50b19zdHJpbmcgaW5cbiAgICAgIGxldCAoKSA9XG4gICAgICAgIGlmIFN0cmluZy5sZW5ndGggdmFsdWUgPj0gY29udGVudF9ieXRlX3NpemVfbGltaXQgdGhlblxuICAgICAgICAgIGxvZy53YXJuaW5nIChmdW4gbG9nIC0+XG4gICAgICAgICAgICBsb2cgfnJlcXVlc3RcbiAgICAgICAgICAgICAgXCJGbGFzaCBtZXNzYWdlcyBleGNlZWQgc29mdCBzaXplIGxpbWl0ICglZCBieXRlcylcIlxuICAgICAgICAgICAgICBjb250ZW50X2J5dGVfc2l6ZV9saW1pdClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICgpXG4gICAgICBpblxuICAgICAgQ29va2llLnNldF9jb29raWVcbiAgICAgICAgcmVzcG9uc2UgcmVxdWVzdCBmbGFzaF9jb29raWUgdmFsdWUgfm1heF9hZ2U6Zml2ZV9taW51dGVzXG4gIGluXG4gIEx3dC5yZXR1cm4gcmVzcG9uc2VcbiIsIigqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIERyZWFtLCByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLm1kXG4gICBmb3IgZGV0YWlscywgb3IgdmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL2FhbnRyb24vZHJlYW0uXG5cbiAgIENvcHlyaWdodCAyMDIxIEFudG9uIEJhY2hpbiAqKVxuXG5cblxubW9kdWxlIE1lc3NhZ2UgPSBEcmVhbV9wdXJlLk1lc3NhZ2Vcbm1vZHVsZSBTdHJlYW0gPSBEcmVhbV9wdXJlLlN0cmVhbVxuXG5cblxubGV0IGVjaG8gcmVxdWVzdCA9XG4gIE1lc3NhZ2UucmVzcG9uc2UgKE1lc3NhZ2Uuc2VydmVyX3N0cmVhbSByZXF1ZXN0KSBTdHJlYW0ubnVsbFxuICB8PiBMd3QucmV0dXJuXG4iLCIoKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBEcmVhbSwgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRS5tZFxuICAgZm9yIGRldGFpbHMsIG9yIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9hYW50cm9uL2RyZWFtLlxuXG4gICBDb3B5cmlnaHQgMjAyMSBBbnRvbiBCYWNoaW4gKilcblxuXG5cbm1vZHVsZSBNZXNzYWdlID0gRHJlYW1fcHVyZS5NZXNzYWdlXG5tb2R1bGUgU3RhdHVzID0gRHJlYW1fcHVyZS5TdGF0dXNcblxuXG5cbnR5cGUgZXJyb3IgPSB7XG4gIGNvbmRpdGlvbiA6IFtcbiAgICB8IGBSZXNwb25zZSBvZiBNZXNzYWdlLnJlc3BvbnNlXG4gICAgfCBgU3RyaW5nIG9mIHN0cmluZ1xuICAgIHwgYEV4biBvZiBleG5cbiAgXTtcbiAgbGF5ZXIgOiBbXG4gICAgfCBgQXBwXG4gICAgfCBgSFRUUFxuICAgIHwgYEhUVFAyXG4gICAgfCBgVExTXG4gICAgfCBgV2ViU29ja2V0XG4gIF07XG4gIGNhdXNlZF9ieSA6IFtcbiAgICB8IGBTZXJ2ZXJcbiAgICB8IGBDbGllbnRcbiAgXTtcbiAgcmVxdWVzdCA6IE1lc3NhZ2UucmVxdWVzdCBvcHRpb247XG4gIHJlc3BvbnNlIDogTWVzc2FnZS5yZXNwb25zZSBvcHRpb247XG4gIGNsaWVudCA6IHN0cmluZyBvcHRpb247XG4gIHNldmVyaXR5IDogTG9nLmxvZ19sZXZlbDtcbiAgd2lsbF9zZW5kX3Jlc3BvbnNlIDogYm9vbDtcbn1cblxudHlwZSBlcnJvcl9oYW5kbGVyID0gZXJyb3IgLT4gTWVzc2FnZS5yZXNwb25zZSBvcHRpb24gTWVzc2FnZS5wcm9taXNlXG5cbigqIFRoaXMgZXJyb3IgaGFuZGxlciBhY3R1YWxseSAqaXMqIGEgbWlkZGxld2FyZSwgYnV0IGl0IGlzIGp1c3Qgb25lIHBhdGh3YXkgZm9yXG4gICByZWFjaGluZyB0aGUgY2VudHJhbGl6ZWQgZXJyb3IgaGFuZGxlciBwcm92aWRlZCBieSB0aGUgdXNlciwgc28gaXQgaXMgYnVpbHRcbiAgIGludG8gdGhlIGZyYW1ld29yay4gKilcblxuKCogVE9ETyBUaGUgb3B0aW9uIHJldHVybiB2YWx1ZSB0aGluZyBpcyBwcmV0dHkgYXdrd2FyZC4gKilcbmxldCBjYXRjaCBlcnJvcl9oYW5kbGVyIG5leHRfaGFuZGxlciByZXF1ZXN0ID1cblxuICBMd3QudHJ5X2JpbmRcblxuICAgIChmdW4gKCkgLT5cbiAgICAgIG5leHRfaGFuZGxlciByZXF1ZXN0KVxuXG4gICAgKGZ1biByZXNwb25zZSAtPlxuICAgICAgbGV0IHN0YXR1cyA9IE1lc3NhZ2Uuc3RhdHVzIHJlc3BvbnNlIGluXG5cbiAgICAgICgqIFRPRE8gT3ZlcmZ1bGwgaGJveC4gKilcbiAgICAgIGlmIFN0YXR1cy5pc19jbGllbnRfZXJyb3Igc3RhdHVzIHx8IFN0YXR1cy5pc19zZXJ2ZXJfZXJyb3Igc3RhdHVzIHRoZW4gYmVnaW5cbiAgICAgICAgbGV0IGNhdXNlZF9ieSwgc2V2ZXJpdHkgPVxuICAgICAgICAgIGlmIFN0YXR1cy5pc19jbGllbnRfZXJyb3Igc3RhdHVzIHRoZW5cbiAgICAgICAgICAgIGBDbGllbnQsIGBXYXJuaW5nXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYFNlcnZlciwgYEVycm9yXG4gICAgICAgIGluXG5cbiAgICAgICAgbGV0IGVycm9yID0ge1xuICAgICAgICAgIGNvbmRpdGlvbiA9IGBSZXNwb25zZSByZXNwb25zZTtcbiAgICAgICAgICBsYXllciA9IGBBcHA7XG4gICAgICAgICAgY2F1c2VkX2J5O1xuICAgICAgICAgIHJlcXVlc3QgPSBTb21lIHJlcXVlc3Q7XG4gICAgICAgICAgcmVzcG9uc2UgPSBTb21lIHJlc3BvbnNlO1xuICAgICAgICAgIGNsaWVudCA9IFNvbWUgKEhlbHBlcnMuY2xpZW50IHJlcXVlc3QpO1xuICAgICAgICAgIHNldmVyaXR5ID0gc2V2ZXJpdHk7XG4gICAgICAgICAgd2lsbF9zZW5kX3Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgfSBpblxuXG4gICAgICAgIGVycm9yX2hhbmRsZXIgZXJyb3JcbiAgICAgIGVuZFxuICAgICAgZWxzZVxuICAgICAgICBMd3QucmV0dXJuIHJlc3BvbnNlKVxuXG4gICAgKCogVGhpcyBleGNlcHRpb24gaGFuZGxlciBpcyBwYXJ0aWFsbHkgcmVkdW5kYW50LCBpbiB0aGF0IHRoZSBIVFRQLWxldmVsXG4gICAgICAgaGFuZGxlcnMgd2lsbCBhbHNvIGNhdGNoIGV4Y2VwdGlvbnMuIEhvd2V2ZXIsIHRoaXMgaGFuZGxlciBpcyBhYmxlIHRvXG4gICAgICAgY2FwdHVyZSBtb3JlIHJlbGV2YW50IGNvbnRleHQuIFdlIGxlYXZlIHRoZSBIVFRQLWxldmVsIGhhbmRsZXJzIGZvciB0cnVseVxuICAgICAgIHNldmVyZSBwcm90b2NvbC1sZXZlbCBlcnJvcnMgYW5kIGludGVncmF0aW9uIG1pc3Rha2VzLiAqKVxuICAgIChmdW4gZXhuIC0+XG4gICAgICBsZXQgZXJyb3IgPSB7XG4gICAgICAgIGNvbmRpdGlvbiA9IGBFeG4gZXhuO1xuICAgICAgICBsYXllciA9IGBBcHA7XG4gICAgICAgIGNhdXNlZF9ieSA9IGBTZXJ2ZXI7XG4gICAgICAgIHJlcXVlc3QgPSBTb21lIHJlcXVlc3Q7XG4gICAgICAgIHJlc3BvbnNlID0gTm9uZTtcbiAgICAgICAgY2xpZW50ID0gU29tZSAoSGVscGVycy5jbGllbnQgcmVxdWVzdCk7XG4gICAgICAgIHNldmVyaXR5ID0gYEVycm9yO1xuICAgICAgICB3aWxsX3NlbmRfcmVzcG9uc2UgPSB0cnVlO1xuICAgICAgfSBpblxuXG4gICAgICBlcnJvcl9oYW5kbGVyIGVycm9yKVxuIl19
