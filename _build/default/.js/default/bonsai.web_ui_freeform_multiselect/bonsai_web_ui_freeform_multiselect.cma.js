// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Bonsai_web_ui_freeform_multiselect
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Bonsai_web_ui_freeform_multise = [0];
   runtime.caml_register_global
    (0, Bonsai_web_ui_freeform_multise, "Bonsai_web_ui_freeform_multiselect");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_freeform_multiselect__Freeform_multiselect
//# unitInfo: Requires: Bonsai, Bonsai_web, Core, Core__List, Core__Set, Core__String, Js_of_ocaml__Dom_html, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Virtual_dom__Node, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$3 = "",
    cst_Bonsai_web_ui_freeform_mul$0 =
      "Bonsai_web_ui_freeform_multiselect__Freeform_multiselect",
    cst_bonsai_web_ui_freeform_mul$1 = "bonsai_web_ui_freeform_multiselect",
    cst_web_ui_freeform_multiselec =
      "web_ui/freeform_multiselect/src/freeform_multiselect.ml";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$2 = cst$3,
    cst$0 = cst$3,
    cst$1 = cst$3,
    cst = " \xc3\x97",
    Core_String = global_data.Core__String,
    Virtual_dom_Node = global_data.Virtual_dom__Node,
    Bonsai = global_data.Bonsai,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Bonsai_web = global_data.Bonsai_web,
    Core = global_data.Core,
    Core_List = global_data.Core__List,
    Core_Set = global_data.Core__Set,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_freeform_mul$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_freeform_mul$1);
   caml_call1(Ppx_expect_runtime[1][1], cst_web_ui_freeform_multiselec);
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_freeform_mul$1,
     "freeform_multiselect.ml");
   var
    _c_ = [0, [0, cst_web_ui_freeform_multiselec, 100, 3388, 3390]],
    _d_ = [0, [0, cst_web_ui_freeform_multiselec, 97, 3286, 3288]],
    _e_ = [0, [0, cst_web_ui_freeform_multiselec, 96, 3253, 3255]],
    _f_ = [0, [0, cst_web_ui_freeform_multiselec, 90, 3097, 3099]],
    _a_ = [0, [0, cst_web_ui_freeform_multiselec, 61, 2161, 2163]],
    _b_ = [0, [0, cst_web_ui_freeform_multiselec, 58, 2055, 2057]],
    cst_data_value = "data-value",
    cst_bonsai_web_ui_freeform_mul =
      "bonsai-web-ui-freeform-multiselect-pills",
    cst_list = "list",
    cst_text = "text",
    cst_bonsai_web_ui_freeform_mul$0 = cst_bonsai_web_ui_freeform_mul$1,
    cst_Bonsai_web_ui_freeform_mul = cst_Bonsai_web_ui_freeform_mul$0;
   function create(opt, _i_, _h_, _g_, param){
    if(opt)
     var sth = opt[1], extra_attr = sth;
    else
     var extra_attr = caml_call1(Bonsai[2][1], Virtual_dom_Vdom[1][11]);
    if(_i_)
     var sth$0 = _i_[1], placeholder = sth$0;
    else
     var placeholder = cst$2;
    if(_h_)
     var sth$1 = _h_[1], on_set_change = sth$1;
    else
     var
      _n_ = caml_call1(Core[242], Bonsai_web[5][1]),
      on_set_change = caml_call1(Bonsai[2][1], _n_);
    if(_g_) var sth$2 = _g_[1], split = sth$2; else var split = Core_List[50];
    function _j_(selected_options){
     function _o_(id){
      function _t_(input){
       function _Z_(param){
        var
         _ad_ = param[2],
         on_set_change = _ad_[2],
         input = _ad_[1],
         match = param[1],
         inject_selected_options = match[2],
         selected_options = match[1];
        function pill(option){
         function remove_option(param){
          var
           selected_options$0 =
             caml_call2(Core_Set[13], selected_options, option),
           _ap_ =
             [0, caml_call1(inject_selected_options, selected_options$0), 0],
           _aq_ = [0, caml_call1(on_set_change, selected_options$0), _ap_];
          return [0, Bonsai_web[5][2], _aq_];
         }
         var
          _ae_ = caml_call2(Core[18], option, cst),
          _af_ = [0, caml_call1(Virtual_dom_Node[6], _ae_), 0],
          _ag_ = 0;
         function _ah_(ev){
          var match = caml_call1(Js_of_ocaml_Dom_html[26][1], ev);
          a:
          {
           if(44 <= match){
            if(45 === match || 83 === match) break a;
           }
           else if(42 !== match && 40 <= match) break a;
           return Bonsai_web[5][1];
          }
          return remove_option(ev);
         }
         var
          _ai_ = caml_call1(Virtual_dom_Vdom[1][79], _ah_),
          _aj_ = caml_call1(Virtual_dom_Vdom[1][61], remove_option),
          _ak_ = caml_call2(Virtual_dom_Vdom[1][12], _aj_, _ai_),
          _al_ = caml_call2(Virtual_dom_Vdom[1][1], cst_data_value, option),
          _am_ = caml_call2(Virtual_dom_Vdom[1][12], _al_, _ak_),
          _an_ = caml_call1(Virtual_dom_Vdom[1][42], 0),
          _ao_ =
            [0, [0, caml_call2(Virtual_dom_Vdom[1][12], _an_, _am_), _ag_]];
         return caml_call3(Virtual_dom_Node[42], 0, _ao_, _af_);
        }
        if(caml_call1(Core_Set[10], selected_options))
         var pills = Virtual_dom_Node[4];
        else
         var
          _aa_ = caml_call1(Core_Set[39], selected_options),
          _ab_ = caml_call2(Core_List[51], _aa_, pill),
          _ac_ =
            [0,
             [0,
              caml_call1
               (Virtual_dom_Vdom[1][16], cst_bonsai_web_ui_freeform_mul),
              0]],
          pills = caml_call3(Virtual_dom_Node[17], 0, _ac_, _ab_);
        return [0,
                selected_options,
                caml_call3
                 (Virtual_dom_Node[17], 0, 0, [0, input, [0, pills, 0]]),
                inject_selected_options];
       }
       var
        ___ = caml_call2(Bonsai[49][5][7], input, on_set_change),
        _$_ = caml_call2(Bonsai[49][5][7], selected_options, ___);
       return caml_call3(Bonsai[49][5][8], _c_, _$_, _Z_);
      }
      function _p_(select){
       function _u_(param){
        var
         _O_ = param[2],
         _P_ = _O_[2],
         _Q_ = _P_[2],
         on_set_change = _Q_[2],
         id = _Q_[1],
         extra_attr = _P_[1],
         _R_ = _O_[1],
         inject_selected_options = _R_[2],
         selected_options = _R_[1],
         match = param[1],
         inject_select = match[2],
         select = match[1],
         _z_ = 0,
         _A_ = 0;
        function _B_(param, user_input){
         function _S_(item){
          var _Y_ = caml_call2(Core_String[85], 0, item);
          return 1 - caml_call1(Core_String[14], _Y_);
         }
         var
          _T_ = caml_call1(split, user_input),
          _U_ = caml_call1(Core_String[160][8], _T_),
          _V_ = caml_call2(Core_Set[49], _U_, _S_),
          maybe_changed_options =
            caml_call2(Core_Set[14], selected_options, _V_);
         if(caml_call2(Core_Set[21], maybe_changed_options, selected_options))
          var ui_events = [0, caml_call1(inject_select, user_input), 0];
         else
          var
           _X_ = [0, caml_call1(on_set_change, maybe_changed_options), 0],
           ui_events = [0, caml_call1(inject_select, cst$0), _X_];
         var
          _W_ =
            [0,
             caml_call1(inject_selected_options, maybe_changed_options),
             ui_events];
         return [0, Bonsai_web[5][2], _W_];
        }
        var
         _C_ = caml_call1(Virtual_dom_Vdom[1][58], _B_),
         _D_ = caml_call1(Virtual_dom_Vdom[1][47], select),
         _E_ = caml_call2(Virtual_dom_Vdom[1][12], _D_, _C_),
         _F_ = caml_call1(Virtual_dom_Vdom[1][44], select),
         _G_ = caml_call2(Virtual_dom_Vdom[1][12], _F_, _E_),
         _H_ = caml_call1(Virtual_dom_Vdom[1][27], placeholder),
         _I_ = caml_call2(Virtual_dom_Vdom[1][12], _H_, _G_),
         _J_ = caml_call2(Virtual_dom_Vdom[1][1], cst_list, id),
         _K_ = caml_call2(Virtual_dom_Vdom[1][12], _J_, _I_),
         _L_ = caml_call1(Virtual_dom_Vdom[1][43], cst_text),
         _M_ = caml_call2(Virtual_dom_Vdom[1][12], _L_, _K_),
         _N_ =
           [0, [0, caml_call2(Virtual_dom_Vdom[1][12], extra_attr, _M_), _A_]];
        return caml_call3(Virtual_dom_Node[30], 0, _N_, _z_);
       }
       var
        _v_ = caml_call2(Bonsai[49][5][7], id, on_set_change),
        _w_ = caml_call2(Bonsai[49][5][7], extra_attr, _v_),
        _x_ = caml_call2(Bonsai[49][5][7], selected_options, _w_),
        _y_ = caml_call2(Bonsai[49][5][7], select, _x_);
       return caml_call3(Bonsai[49][5][8], _a_, _y_, _u_);
      }
      var
       _q_ =
         [0,
          function(a_002, b_003){
           return caml_call2(Core_String[145], a_002, b_003);
          }],
       _r_ = caml_call4(Bonsai[11], 0, [0, Core_String[135]], _q_, cst$1),
       _s_ = caml_call3(Bonsai[49][5][1], _b_, _r_, _p_);
      return caml_call3(Bonsai[49][5][1], _d_, _s_, _t_);
     }
     return caml_call3(Bonsai[49][5][1], _e_, Bonsai[8], _o_);
    }
    var
     _k_ = Core_String[160][5],
     _l_ =
       [0,
        function(a_011, b_012){
         return caml_call2(Core_String[160][4], a_011, b_012);
        }],
     _m_ = caml_call4(Bonsai[11], 0, [0, Core_String[160][28]], _l_, _k_);
    return caml_call3(Bonsai[49][5][1], _f_, _m_, _j_);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_freeform_mul$0);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_freeform_mul);
   var Bonsai_web_ui_freeform_multise = [0, create];
   runtime.caml_register_global
    (34, Bonsai_web_ui_freeform_multise, cst_Bonsai_web_ui_freeform_mul$0);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJib25zYWlfd2ViX3VpX2ZyZWVmb3JtX211bHRpc2VsZWN0LmNtYS5qcyIsInNvdXJjZVJvb3QiOiIiLCJuYW1lcyI6WyJjcmVhdGUiLCJvcHQiLCJzdGgiLCJleHRyYV9hdHRyIiwic3RoJDAiLCJwbGFjZWhvbGRlciIsInN0aCQxIiwib25fc2V0X2NoYW5nZSIsInN0aCQyIiwic3BsaXQiLCJzZWxlY3RlZF9vcHRpb25zIiwiaWQiLCJpbnB1dCIsImluamVjdF9zZWxlY3RlZF9vcHRpb25zIiwicGlsbCIsIm9wdGlvbiIsInJlbW92ZV9vcHRpb24iLCJzZWxlY3RlZF9vcHRpb25zJDAiLCJldiIsInBpbGxzIiwic2VsZWN0IiwiaW5qZWN0X3NlbGVjdCIsInVzZXJfaW5wdXQiLCJpdGVtIiwibWF5YmVfY2hhbmdlZF9vcHRpb25zIiwidWlfZXZlbnRzIiwiYV8wMDIiLCJiXzAwMyIsImFfMDExIiwiYl8wMTIiXSwic291cmNlcyI6WyIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9ib25zYWkvd2ViX3VpX2ZyZWVmb3JtX211bHRpc2VsZWN0L2ZyZWVmb3JtX211bHRpc2VsZWN0Lm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFrRklBLE9BQ0FDO0ksR0FBQUE7U0FBYUMsTUFBYkQsUUFBQUUsYUFBYUQ7O1NBQWJDLGFBQWE7O1NBQ0NDLGdCQUFkQyxjQUFjRDs7U0FBZEM7O1NBQ2dCQyxnQkFBaEJDLGdCQUFnQkQ7O0tBQWE7TUFBQSxNQUFBO01BQTdCQyxnQkFBZ0I7Z0JBQ1JDLGdCQWhDd0JDLFFBZ0N4QkQsZ0JBaEN3QkM7aUJBNkNrQkM7a0JBSjVDQzttQkFDQUM7Ozs7U0F0RW1CTDtTQTBFdkJLOztTQTFFc0NDO1NBQWpDSDtpQkFDTEksS0FBS0M7a0JBQ0hDO1VBQ0Y7V0FBSUM7YUFBbUIseUJBSGxCUCxrQkFDQUs7O2lCQUkrQixXQUxFRix5QkFHbENJO1dBRUYsV0FBRSxXQUxtQlYsZUFHbkJVO1VBQ0o7U0FDOEU7U0FhN0Q7VUFBQSxPQUFBLHFCQWpCWkY7VUFpQkwsV0FBRTtVQUFGO3VCQUxzQkc7VUFDTixZQUFBLHdDQURNQTs7Ozs7Ozs7O1VBRTBDLE9BYjlERixjQVdvQkU7U0FHUTtTQUh0QjtVQUFBLE9BQUE7VUFEQSxPQUFBLG9DQVZORjtVQVVNLE9BQUE7VUFEQSxPQUFBLG1EQVZIRDtVQVVHLE9BQUE7VUFERixPQUFBO1VBREo7b0JBQ0k7U0FRTixPQUFBO1FBQW1DO1FBRXBDLEdBQUEseUJBcEJNTDthQTRFTFM7O1NBbkRDO1VBQUEsT0FBQSx5QkF6QklUO1VBeUJMLE9BQUEsZ0NBeEJBSTtVQXVCTzs7O2NBQUU7OztVQW9EVEssUUFuREE7UUFvREo7Z0JBN0VTVDtnQkE2RVM7a0RBSGRFLFdBRUFPO2dCQTVFc0NOOzs7MkNBc0VsQ0QsT0FYTkw7MkNBY2tERzs7O21CQTFDNUNVOztRQWhEUjs7OztTQXVESWI7U0F4RDRESTtTQUFmUjs7U0FxRDNCVTtTQUFsQkg7O1NBRFlXO1NBcER5QkQ7U0FDekM7OzRCQXdEYUU7U0FDWCxhQUd3QkM7VUFBYSxVQUFBLCtCQUFiQTtVQUFZLFdBQUE7U0FBc0M7U0FGeEU7VUFBQSxNQUFBLFdBYjhCZCxPQVdyQmE7VUFFVCxNQUFBO1VBQUEsTUFBQTtVQURFRTtZQUNGLHlCQU5BZDtTQVlHLEdBQUEseUJBUERjLHVCQUxGZDtjQVdFZSxnQkFFSyxXQWRLSixlQUtIQzs7O3FCQVVnQixXQVh6QmYsZUFFRWlCO1dBTUFDLGdCQUdLLFdBZktKO1NBaUJGOzs7YUFBQyxXQWhCT1IseUJBS2hCVzthQU1BQztTQUtKO1FBeERpRDtRQUF6QztTQUFBLE1BQUE7U0FEQSxNQUFBLG9DQVorQkw7U0FZL0IsTUFBQTtTQURBLE1BQUEsb0NBWCtCQTtTQVcvQixNQUFBO1NBSkEsTUFBQSxvQ0FxRVJmO1NBckVRLE1BQUE7U0FEQSxNQUFBLDZDQU5zRE07U0FNdEQsTUFBQTtTQURBLE1BQUE7U0FBQSxNQUFBO1NBRk47bUJBQ0ksb0NBSnlDUjtRQUNqRCxPQUFBOzs7MkNBc0ZRUSxJQVZOSjsyQ0FGQUo7MkNBZ0JrRE87MkNBMUM1Q1U7OztNQUNOOzs7bUJBQW9FTSxPQUFBQztXQUFBLE9BQUEsNkJBQUFELE9BQUFDO1VBQVE7T0FBNUUsTUFBQTs7Ozs7O0lBZ0NBOzs7O2lCQUdrQkMsT0FBQUM7U0FBQSxPQUFBLGdDQUFBRCxPQUFBQztRQUFZO0tBSDlCLE1BQUE7Ozs7Ozs7NENBUkE3Qjs7OztFIiwic291cmNlc0NvbnRlbnQiOlsib3BlbiEgQ29yZVxub3BlbiEgQm9uc2FpX3dlYlxub3BlbiEgQm9uc2FpLkxldF9zeW50YXhcblxuKCoqIFRoaXMgY29udHJvbCBpcyBzaW1pbGFyIHRvIHRoZSB0eXBlYWhlYWQgY29udHJvbCwgZGlmZmVyaW5nIGluIHRoZSBmYWN0IHRoYXQgaXRcbiAgICBkb2Vzbid0IGFpbSB0byBjb21wbGV0ZSB5b3VyIGlucHV0LiBUaGluayBvZiB0aGlzIGNvbnRyb2wgYXMgYSBtdWx0aS1zZWxlY3QgdGhhdFxuICAgIHlvdSdyZSBmcmVlIHRvIGFkZCByYW5kb20gdmFsdWVzIHRvLiAqKVxuXG5sZXQgaW5wdXQgfnBsYWNlaG9sZGVyOnBsYWNlaG9sZGVyXyB+dmFsdWU6dmFsdWVfIH5leHRyYV9hdHRyIH5pZDppZF8gfm9uX2lucHV0Om9uX2lucHV0XyA9XG4gIFZkb20uTm9kZS5pbnB1dFxuICAgIH5hdHRyczpcbiAgICAgIFsgVmRvbS5BdHRyLihcbiAgICAgICAgICBleHRyYV9hdHRyXG4gICAgICAgICAgQCB0eXBlXyBcInRleHRcIlxuICAgICAgICAgIEAgY3JlYXRlIFwibGlzdFwiIGlkX1xuICAgICAgICAgIEAgcGxhY2Vob2xkZXIgcGxhY2Vob2xkZXJfXG4gICAgICAgICAgKCogQm90aCBBdHRyLnZhbHVlIGFuZCBBdHRyLnN0cmluZ19wcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIHNldC4gVGhlIGZvcm1lciBvbmx5IGFmZmVjdHNcbiAgICAgICAgICAgICBpbml0aWFsIGNvbnRyb2wgc3RhdGUgd2hpbGUgdGhlIGxhdHRlciBhZmZlY3RzIHRoZSBjb250cm9sIHN0YXRlIHdoaWxzdCB0aGUgZm9ybSBpc1xuICAgICAgICAgICAgIGJlaW5nIHVzZWQuICopXG4gICAgICAgICAgQCB2YWx1ZSB2YWx1ZV9cbiAgICAgICAgICBAIHZhbHVlX3Byb3AgdmFsdWVfXG4gICAgICAgICAgQCBvbl9jaGFuZ2UgKGZ1biBfIGlucHV0IC0+IG9uX2lucHV0XyBpbnB1dCkpXG4gICAgICBdXG4gICAgKClcbjs7XG5cbmxldCBwaWxscyB+c2VsZWN0ZWRfb3B0aW9ucyB+b25fc2V0X2NoYW5nZSB+aW5qZWN0X3NlbGVjdGVkX29wdGlvbnMgPVxuICBsZXQgcGlsbCBvcHRpb24gPVxuICAgIGxldCByZW1vdmVfb3B0aW9uIF8gPVxuICAgICAgbGV0IHNlbGVjdGVkX29wdGlvbnMgPSBTZXQucmVtb3ZlIHNlbGVjdGVkX29wdGlvbnMgb3B0aW9uIGluXG4gICAgICBFZmZlY3QuTWFueVxuICAgICAgICBbIG9uX3NldF9jaGFuZ2Ugc2VsZWN0ZWRfb3B0aW9uczsgaW5qZWN0X3NlbGVjdGVkX29wdGlvbnMgc2VsZWN0ZWRfb3B0aW9ucyBdXG4gICAgaW5cbiAgICBWZG9tLk5vZGUuc3BhblxuICAgICAgfmF0dHJzOlxuICAgICAgICBbIFZkb20uQXR0ci4oXG4gICAgICAgICAgICB0YWJpbmRleCAwXG4gICAgICAgICAgICBAIGNyZWF0ZSBcImRhdGEtdmFsdWVcIiBvcHRpb25cbiAgICAgICAgICAgIEAgb25fY2xpY2sgcmVtb3ZlX29wdGlvblxuICAgICAgICAgICAgQCBvbl9rZXl1cCAoZnVuIGV2IC0+XG4gICAgICAgICAgICAgICAgbWF0Y2ggSnNfb2Zfb2NhbWwuRG9tX2h0bWwuS2V5Ym9hcmRfY29kZS5vZl9ldmVudCBldiB3aXRoXG4gICAgICAgICAgICAgICAgfCBTcGFjZSB8IEVudGVyIHwgTnVtcGFkRW50ZXIgfCBCYWNrc3BhY2UgfCBEZWxldGUgLT4gcmVtb3ZlX29wdGlvbiBldlxuICAgICAgICAgICAgICAgIHwgXyAtPiBFZmZlY3QuSWdub3JlKSlcbiAgICAgICAgXVxuICAgICAgWyBWZG9tLk5vZGUudGV4dCAob3B0aW9uIF4gXCIgw5dcIikgXVxuICBpblxuICBpZiBTZXQuaXNfZW1wdHkgc2VsZWN0ZWRfb3B0aW9uc1xuICB0aGVuIFZkb20uTm9kZS5ub25lXG4gIGVsc2VcbiAgICBWZG9tLk5vZGUuZGl2XG4gICAgICB+YXR0cnM6WyBWZG9tLkF0dHIuY2xhc3NfIFwiYm9uc2FpLXdlYi11aS1mcmVlZm9ybS1tdWx0aXNlbGVjdC1waWxsc1wiIF1cbiAgICAgIChTZXQudG9fbGlzdCBzZWxlY3RlZF9vcHRpb25zIHw+IExpc3QubWFwIH5mOnBpbGwpXG47O1xuXG5sZXQgaW5wdXQgfnBsYWNlaG9sZGVyIH5leHRyYV9hdHRyIH5zcGxpdCB+aWQgfnNlbGVjdGVkX29wdGlvbnMgfm9uX3NldF9jaGFuZ2UgPVxuICAoKiBUaGlzIHN0YXRlIGlzIGhlbGQgaW50ZXJuYWxseSB0byBmb3JjZSB0aGUgdHlwZWFoZWFkIHRvIGNsZWFyIHRoZSB0ZXh0IGNvbnRlbnRzXG4gICAgIG9mIHRoZSBpbnB1dCBmaWVsZCB3aGVuIGFuIG9wdGlvbiBpcyBzZWxlY3RlZC4gKilcbiAgbGV0JXN1YiBzZWxlY3QgPVxuICAgIEJvbnNhaS5zdGF0ZSBcIlwiIH5zZXhwX29mX21vZGVsOlslc2V4cF9vZjogU3RyaW5nLnRdIH5lcXVhbDpbJWVxdWFsOiBTdHJpbmcudF1cbiAgaW5cbiAgbGV0JWFyciBzZWxlY3QsIGluamVjdF9zZWxlY3QgPSBzZWxlY3RcbiAgYW5kIHNlbGVjdGVkX29wdGlvbnMsIGluamVjdF9zZWxlY3RlZF9vcHRpb25zID0gc2VsZWN0ZWRfb3B0aW9uc1xuICBhbmQgZXh0cmFfYXR0ciA9IGV4dHJhX2F0dHJcbiAgYW5kIGlkID0gaWRcbiAgYW5kIG9uX3NldF9jaGFuZ2UgPSBvbl9zZXRfY2hhbmdlIGluXG4gIGxldCBvbl9pbnB1dCB1c2VyX2lucHV0ID1cbiAgICBsZXQgbWF5YmVfY2hhbmdlZF9vcHRpb25zID1cbiAgICAgIHNwbGl0IHVzZXJfaW5wdXRcbiAgICAgIHw+IFN0cmluZy5TZXQub2ZfbGlzdFxuICAgICAgfD4gU2V0LmZpbHRlciB+ZjooZnVuIGl0ZW0gLT4gbm90IChTdHJpbmcuc3RyaXAgaXRlbSB8PiBTdHJpbmcuaXNfZW1wdHkpKVxuICAgICAgfD4gU2V0LnVuaW9uIHNlbGVjdGVkX29wdGlvbnNcbiAgICBpblxuICAgIGxldCB1aV9ldmVudHMgPVxuICAgICAgaWYgU2V0LmVxdWFsIG1heWJlX2NoYW5nZWRfb3B0aW9ucyBzZWxlY3RlZF9vcHRpb25zXG4gICAgICB0aGVuIFsgaW5qZWN0X3NlbGVjdCB1c2VyX2lucHV0IF1cbiAgICAgIGVsc2UgWyBpbmplY3Rfc2VsZWN0IFwiXCI7IG9uX3NldF9jaGFuZ2UgbWF5YmVfY2hhbmdlZF9vcHRpb25zIF1cbiAgICBpblxuICAgIEVmZmVjdC5NYW55IChpbmplY3Rfc2VsZWN0ZWRfb3B0aW9ucyBtYXliZV9jaGFuZ2VkX29wdGlvbnMgOjogdWlfZXZlbnRzKVxuICBpblxuICBpbnB1dCB+ZXh0cmFfYXR0ciB+dmFsdWU6c2VsZWN0IH5wbGFjZWhvbGRlciB+aWQgfm9uX2lucHV0XG47O1xuXG5sZXQgY3JlYXRlXG4gID8oZXh0cmFfYXR0ciA9IFZhbHVlLnJldHVybiBWZG9tLkF0dHIuZW1wdHkpXG4gID8ocGxhY2Vob2xkZXIgPSBcIlwiKVxuICA/KG9uX3NldF9jaGFuZ2UgPSBWYWx1ZS5yZXR1cm4gKGNvbnN0IEVmZmVjdC5JZ25vcmUpKVxuICA/KHNwbGl0ID0gTGlzdC5yZXR1cm4pXG4gICgpXG4gID1cbiAgbGV0JXN1YiBzZWxlY3RlZF9vcHRpb25zID1cbiAgICBCb25zYWkuc3RhdGVcbiAgICAgIFN0cmluZy5TZXQuZW1wdHlcbiAgICAgIH5zZXhwX29mX21vZGVsOlslc2V4cF9vZjogU3RyaW5nLlNldC50XVxuICAgICAgfmVxdWFsOlslZXF1YWw6IFN0cmluZy5TZXQudF1cbiAgaW5cbiAgbGV0JXN1YiBpZCA9IEJvbnNhaS5wYXRoX2lkIGluXG4gIGxldCVzdWIgaW5wdXQgPVxuICAgIGlucHV0IH5wbGFjZWhvbGRlciB+ZXh0cmFfYXR0ciB+aWQgfm9uX3NldF9jaGFuZ2UgfnNwbGl0IH5zZWxlY3RlZF9vcHRpb25zXG4gIGluXG4gIGxldCVhcnIgc2VsZWN0ZWRfb3B0aW9ucywgaW5qZWN0X3NlbGVjdGVkX29wdGlvbnMgPSBzZWxlY3RlZF9vcHRpb25zXG4gIGFuZCBpbnB1dCA9IGlucHV0XG4gIGFuZCBvbl9zZXRfY2hhbmdlID0gb25fc2V0X2NoYW5nZSBpblxuICBsZXQgcGlsbHMgPSBwaWxscyB+c2VsZWN0ZWRfb3B0aW9ucyB+b25fc2V0X2NoYW5nZSB+aW5qZWN0X3NlbGVjdGVkX29wdGlvbnMgaW5cbiAgc2VsZWN0ZWRfb3B0aW9ucywgVmRvbS5Ob2RlLmRpdiBbIGlucHV0OyBwaWxscyBdLCBpbmplY3Rfc2VsZWN0ZWRfb3B0aW9uc1xuOztcbiJdfQ==
