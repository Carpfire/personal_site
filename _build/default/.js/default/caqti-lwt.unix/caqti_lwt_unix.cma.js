// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Caqti_lwt_unix__
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Caqti_lwt_unix = [0],
    Caqti_lwt_unix$0 = [0, Caqti_lwt_unix];
   runtime.caml_register_global(0, Caqti_lwt_unix$0, "Caqti_lwt_unix__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Caqti_lwt_unix__System_unix
//# unitInfo: Requires: Lwt, Lwt_unix, Stdlib__Option
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Lwt = global_data.Lwt,
    Lwt_unix = global_data.Lwt_unix,
    Stdlib_Option = global_data.Stdlib__Option,
    cst_Caqti_lwt_Unix_poll_No_ope =
      "Caqti_lwt.Unix.poll: No operation specified.";
   function wrap_fd(f, fd){
    return caml_call1(f, caml_call3(Lwt_unix[11], 0, 0, fd));
   }
   function poll(param, opt, _a_, timeout, fd){
    if(opt) var sth = opt[1], read = sth; else var read = 0;
    if(_a_) var sth$0 = _a_[1], write = sth$0; else var write = 0;
    var
     acc = 0,
     acc$0 = read ? [0, caml_call1(Lwt_unix[37], fd), acc] : acc,
     _b_ = write ? [0, caml_call1(Lwt_unix[38], fd), acc$0] : acc$0;
    function _c_(t, acc){return [0, caml_call1(Lwt_unix[7], t), acc];}
    function _d_(_l_){return _l_;}
    var
     choices =
       caml_call1(caml_call3(Stdlib_Option[8], _d_, _c_, timeout), _b_);
    if(0 === choices)
     return caml_call1(Lwt[45], cst_Caqti_lwt_Unix_poll_No_ope);
    function _e_(timed_out){
     var _k_ = caml_call1(Lwt_unix[36], fd);
     return [0, caml_call1(Lwt_unix[35], fd), _k_, timed_out];
    }
    function _f_(exn){
     return exn === Lwt_unix[6] ? Lwt[39] : caml_call1(Lwt[5], exn);
    }
    function _g_(param){
     function _i_(param){return 0;}
     var _j_ = caml_call1(Lwt[17], choices);
     return caml_call2(Lwt[33][2], _j_, _i_);
    }
    var _h_ = caml_call2(Lwt[7], _g_, _f_);
    return caml_call2(Lwt[33][2], _h_, _e_);
   }
   var Unix = [0, wrap_fd, poll], Caqti_lwt_unix_System_unix = [0, Unix];
   runtime.caml_register_global
    (4, Caqti_lwt_unix_System_unix, "Caqti_lwt_unix__System_unix");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Caqti_lwt_unix__System
//# unitInfo: Requires: Caqti_connect_config, Caqti_error, Caqti_lwt, Caqti_platform__Connector, Caqti_platform__Logging, Caqti_platform__Pool, Domain_name, Ipaddr, Logs, Lwt, Lwt_io, Lwt_unix, Mtime, Mtime_clock, Stdlib, Stdlib__Format, Stdlib__List, Stdlib__Result, Unix
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    opts = [0, [1, 0], 0],
    Caqti_connect_config = global_data.Caqti_connect_config,
    Caqti_platform_Connector = global_data.Caqti_platform__Connector,
    Caqti_platform_Logging = global_data.Caqti_platform__Logging,
    Logs = global_data.Logs,
    Lwt_io = global_data.Lwt_io,
    Lwt_unix = global_data.Lwt_unix,
    Lwt = global_data.Lwt,
    Unix = global_data.Unix,
    Stdlib_Result = global_data.Stdlib__Result,
    Stdlib_List = global_data.Stdlib__List,
    Stdlib = global_data.Stdlib,
    Domain_name = global_data.Domain_name,
    Ipaddr = global_data.Ipaddr,
    Mtime_clock = global_data.Mtime_clock,
    Mtime = global_data.Mtime,
    Stdlib_Format = global_data.Stdlib__Format,
    Assert_failure = global_data.Assert_failure,
    Caqti_error = global_data.Caqti_error,
    Caqti_lwt = global_data.Caqti_lwt,
    Caqti_platform_Pool = global_data.Caqti_platform__Pool,
    Msg_unix =
      [248, "Caqti_lwt_unix__System.Msg_unix", runtime.caml_fresh_oo_id(0)],
    _c_ =
      [0,
       [11, "TLS configured, but missing caqti-tls-lwt.unix: ", [2, 0, 0]],
       "TLS configured, but missing caqti-tls-lwt.unix: %s"],
    cst_tls = "tls",
    cst_caqti_tls_lwt_unix = "caqti-tls-lwt.unix",
    cst_Cannot_resolve_host_name = "Cannot resolve host name: ",
    _a_ =
      [0,
       [2, 0, [11, " in ", [2, 0, [12, 40, [3, 0, [12, 41, 0]]]]]],
       "%s in %s(%S)"],
    _b_ = [0, "caqti-lwt/lib-unix/system.ml", 26, 10];
   function pp(ppf, param){
    if(param[1] !== Msg_unix)
     throw caml_maybe_attach_backtrace([0, Assert_failure, _b_], 1);
    var
     arg = param[4],
     func = param[3],
     err = param[2],
     _E_ = caml_call1(Unix[2], err);
    return caml_call5(Stdlib_Format[137], ppf, _a_, _E_, func, arg);
   }
   caml_call3(Caqti_error[2], pp, 0, Msg_unix);
   var
    include = Caqti_lwt[3],
    Fiber = include[1],
    Switch = include[2],
    async = include[3],
    Semaphore = include[4],
    Log = include[5],
    Stream = include[6],
    Sequencer = include[7],
    System_core = [0, Fiber, Switch, async, Semaphore, Log, Stream, Sequencer],
    Fiber$0 = System_core[1],
    Switch$0 = System_core[2],
    async$0 = System_core[3],
    Semaphore$0 = System_core[4],
    Log$0 = System_core[5],
    Sequencer$0 = System_core[7];
   function schedule(param, _B_, t, f){
    var t_now = caml_call1(Mtime_clock[2], 0);
    if(caml_call2(Mtime[9], t, t_now))
     var delay = caml_call1(Lwt[57], 0);
    else
     var
      _C_ = caml_call2(Mtime[10], t, t_now),
      _D_ = caml_call1(Mtime[1][23], _C_) * 1e-9,
      delay = caml_call1(Lwt_unix[2], _D_);
    var task = caml_call2(Lwt[33][2], delay, f);
    return [0, function(param){return caml_call1(Lwt[23], task);}];
   }
   function unschedule(alarm){return caml_call1(alarm[1], 0);}
   var
    Alarm = [0, schedule, unschedule],
    Pool = caml_call1(caml_call1(Caqti_platform_Pool[1], System_core), Alarm);
   function unix(s){return [0, s];}
   function tcp(param){
    var port = param[2], addr = param[1], _A_ = caml_call1(Ipaddr[7], addr);
    return [1, caml_call1(Unix[126], _A_), port];
   }
   var Sockaddr = [0, unix, tcp];
   function getaddrinfo(param, host, port){
    function _p_(exn){
     if(exn === Stdlib[8]) return caml_call1(Lwt[42], 0);
     if(exn[1] !== Unix[1]) return caml_call1(Lwt[5], exn);
     var
      code = exn[2],
      _y_ = caml_call1(Unix[2], code),
      _z_ =
        [0,
         3854881,
         caml_call2(Stdlib[28], cst_Cannot_resolve_host_name, _y_)];
     return caml_call1(Lwt[43], _z_);
    }
    function _q_(param){
     var _r_ = Stdlib_Result[1];
     function _s_(ai){return ai[4];}
     var
      _t_ = caml_call1(Stdlib_List[20], _s_),
      _u_ = caml_call1(Stdlib[33], port),
      _v_ = caml_call2(Domain_name[4], 0, host),
      _w_ = caml_call3(Lwt_unix[130], _v_, _u_, opts),
      _x_ = caml_call2(Lwt[33][2], _w_, _t_);
     return caml_call2(Lwt[33][2], _x_, _r_);
    }
    return caml_call2(Lwt[7], _q_, _p_);
   }
   function convert_io_exception(param){
    if(param[1] !== Unix[1]) return 0;
    var arg = param[4], fn = param[3], err = param[2];
    return [0, [0, Msg_unix, err, fn, arg]];
   }
   function output_char(param, data){
    var oc = param[3];
    return caml_call2(Lwt_io[41], oc, data);
   }
   function output_string(param, data){
    var oc = param[3];
    return caml_call2(Lwt_io[43], oc, data);
   }
   function flush(param){
    var oc = param[3];
    return caml_call1(Lwt_io[20], oc);
   }
   function input_char(param){
    var ic = param[2];
    return caml_call1(Lwt_io[29], ic);
   }
   function really_input(param, data, offset, length){
    var ic = param[2];
    return caml_call4(Lwt_io[37], ic, data, offset, length);
   }
   function close(param){
    var oc = param[3];
    return caml_call1(Lwt_io[15], oc);
   }
   var
    Socket =
      [0, output_char, output_string, flush, input_char, really_input, close];
   function connect_tcp(param, _f_, sockaddr){
    var
     domain = caml_call1(Unix[134], sockaddr),
     fd = caml_call4(Lwt_unix[92], 0, domain, 0, 0);
    function _g_(exn){
     if(exn[1] === Unix[1]){
      var
       arg = exn[4],
       fn = exn[3],
       err = exn[2],
       _l_ = function(param){return [1, [0, Msg_unix, err, fn, arg]];},
       _m_ = caml_call1(Lwt_unix[25], fd);
      return caml_call2(Lwt[33][2], _m_, _l_);
     }
     function _n_(param){return caml_call1(Lwt[5], exn);}
     var _o_ = caml_call1(Lwt_unix[25], fd);
     return caml_call2(Lwt[33][1], _o_, _n_);
    }
    function _h_(param){
     try{caml_call1(Lwt_unix[61], fd);}catch(_k_){}
     function _i_(param){
      var
       ic = caml_call1(caml_call3(Lwt_io[13], 0, 0, Lwt_io[2]), fd),
       oc = caml_call1(caml_call3(Lwt_io[13], 0, 0, Lwt_io[3]), fd);
      return [0, [0, [0, fd], ic, oc]];
     }
     var _j_ = caml_call2(Lwt_unix[98], fd, sockaddr);
     return caml_call2(Lwt[33][2], _j_, _i_);
    }
    return caml_call2(Lwt[7], _h_, _g_);
   }
   function tcp_flow_of_socket(param){var fd = param[1]; return fd;}
   function socket_of_tls_flow(param, _e_){
    var oc = _e_[2], ic = _e_[1];
    return [0, 0, ic, oc];
   }
   var tls_providers_r = [0, 0];
   function tls_providers(config){
    if(caml_call2(Caqti_connect_config[7], cst_tls, config)){
     var
      match = caml_call1(Caqti_platform_Connector[2], cst_caqti_tls_lwt_unix);
     if(0 !== match[0]){
      var
       msg = match[1],
       _d_ = function(p){return caml_call4(p, 0, 0, _c_, msg);};
      caml_call2(Logs[12], [0, Caqti_platform_Logging[1]], _d_);
     }
    }
    return tls_providers_r[1];
   }
   function register_tls_provider(p){
    tls_providers_r[1] = [0, p, tls_providers_r[1]];
    return 0;
   }
   var
    Caqti_lwt_unix_System =
      [0,
       Fiber$0,
       Switch$0,
       async$0,
       Semaphore$0,
       Log$0,
       Caqti_lwt[1],
       Sequencer$0,
       [0,
        Sockaddr,
        getaddrinfo,
        convert_io_exception,
        Socket,
        connect_tcp,
        tcp_flow_of_socket,
        socket_of_tls_flow,
        register_tls_provider,
        tls_providers],
       Alarm,
       Pool];
   runtime.caml_register_global
    (29, Caqti_lwt_unix_System, "Caqti_lwt_unix__System");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Caqti_lwt_unix
//# unitInfo: Requires: Caqti_lwt, Caqti_lwt_unix__System, Caqti_lwt_unix__System_unix, Caqti_platform__Connector, Caqti_platform_unix__Driver_loader, Lwt_preemptive
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   function caml_call8(f, a0, a1, a2, a3, a4, a5, a6, a7){
    return (f.l >= 0 ? f.l : f.l = f.length) == 8
            ? f(a0, a1, a2, a3, a4, a5, a6, a7)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Caqti_lwt = global_data.Caqti_lwt,
    Caqti_lwt_unix_System_unix = global_data.Caqti_lwt_unix__System_unix,
    Lwt_preemptive = global_data.Lwt_preemptive,
    Caqti_lwt_unix_System = global_data.Caqti_lwt_unix__System,
    Caqti_platform_unix_Driver_loa =
      global_data.Caqti_platform_unix__Driver_loader,
    Caqti_platform_Connector = global_data.Caqti_platform__Connector,
    _a_ =
      [0,
       Caqti_lwt_unix_System_unix[1],
       [0, Lwt_preemptive[1], Lwt_preemptive[2]]],
    Loader =
      caml_call1
       (caml_call1
         (Caqti_platform_unix_Driver_loa[2],
          [0,
           Caqti_lwt_unix_System[1],
           Caqti_lwt_unix_System[2],
           Caqti_lwt_unix_System[3],
           Caqti_lwt_unix_System[4],
           Caqti_lwt_unix_System[5],
           Caqti_lwt_unix_System[6],
           Caqti_lwt_unix_System[7],
           Caqti_lwt_unix_System[8]]),
        _a_),
    _b_ = Caqti_lwt_unix_System[10],
    include =
      caml_call1
       (caml_call1
         (caml_call1
           (Caqti_platform_Connector[3],
            [0,
             Caqti_lwt_unix_System[1],
             Caqti_lwt_unix_System[2],
             Caqti_lwt_unix_System[3],
             Caqti_lwt_unix_System[4],
             Caqti_lwt_unix_System[5],
             Caqti_lwt_unix_System[6],
             Caqti_lwt_unix_System[7],
             Caqti_lwt_unix_System[8]]),
          _b_),
        Loader),
    with_connection = include[2],
    connect_pool = include[3],
    _c_ = include[1];
   function connect(env, config, tweaks_version, opt, uri){
    if(opt) var sth = opt[1], sw = sth; else var sw = Caqti_lwt[2][2];
    return caml_call6(_c_, env, config, tweaks_version, sw, 0, uri);
   }
   function with_connection$0(_g_, _f_, _e_){
    return caml_call4(with_connection, _g_, _f_, _e_, 0);
   }
   function connect_pool$0
   (pool_config, post_connect, env, config, tweaks_version, opt, uri){
    if(opt) var sth = opt[1], sw = sth; else var sw = Caqti_lwt[2][2];
    return caml_call8
            (connect_pool,
             pool_config,
             post_connect,
             env,
             config,
             tweaks_version,
             sw,
             0,
             uri);
   }
   var
    _d_ = Caqti_lwt_unix_System[10],
    Caqti_lwt_unix =
      [0,
       [0, _d_[1], _d_[2], _d_[3]],
       connect,
       with_connection$0,
       connect_pool$0];
   runtime.caml_register_global(6, Caqti_lwt_unix, "Caqti_lwt_unix");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJjYXF0aV9sd3RfdW5peC5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsid3JhcF9mZCIsImYiLCJmZCIsInBvbGwiLCJvcHQiLCJ0aW1lb3V0Iiwic3RoIiwicmVhZCIsInN0aCQwIiwid3JpdGUiLCJhY2MiLCJhY2MkMCIsInQiLCJjaG9pY2VzIiwidGltZWRfb3V0IiwiZXhuIiwib3B0cyIsInBwIiwicHBmIiwiYXJnIiwiZnVuYyIsImVyciIsInNjaGVkdWxlIiwidF9ub3ciLCJkZWxheSIsInRhc2siLCJ1bnNjaGVkdWxlIiwiYWxhcm0iLCJ1bml4IiwicyIsInRjcCIsInBvcnQiLCJhZGRyIiwiZ2V0YWRkcmluZm8iLCJob3N0IiwiY29kZSIsImFpIiwiY29udmVydF9pb19leGNlcHRpb24iLCJmbiIsIm91dHB1dF9jaGFyIiwiZGF0YSIsIm9jIiwib3V0cHV0X3N0cmluZyIsImZsdXNoIiwiaW5wdXRfY2hhciIsImljIiwicmVhbGx5X2lucHV0Iiwib2Zmc2V0IiwibGVuZ3RoIiwiY2xvc2UiLCJjb25uZWN0X3RjcCIsInNvY2thZGRyIiwiZG9tYWluIiwidGNwX2Zsb3dfb2Zfc29ja2V0Iiwic29ja2V0X29mX3Rsc19mbG93IiwidGxzX3Byb3ZpZGVyc19yIiwidGxzX3Byb3ZpZGVycyIsImNvbmZpZyIsIm1zZyIsInAiLCJyZWdpc3Rlcl90bHNfcHJvdmlkZXIiLCJjb25uZWN0IiwiZW52IiwidHdlYWtzX3ZlcnNpb24iLCJ1cmkiLCJzdyIsIndpdGhfY29ubmVjdGlvbiQwIiwiY29ubmVjdF9wb29sJDAiLCJwb29sX2NvbmZpZyIsInBvc3RfY29ubmVjdCJdLCJzb3VyY2VzIjpbIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2NhcXRpLWx3dC91bml4L2NhcXRpX2x3dF91bml4X18ubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9jYXF0aS1sd3QvdW5peC9zeXN0ZW1fdW5peC5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2NhcXRpLWx3dC91bml4L3N5c3RlbS5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2NhcXRpLWx3dC91bml4L2NhcXRpX2x3dF91bml4Lm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0dBUTBCOztJQUFBOzs7O0U7Ozs7Ozs7OztHOzs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7WUNnQnBCQSxRQUFRQyxHQUFFQztJQUFLLE9BQUUsV0FBVEQsR0FBUywrQkFBUEM7R0FBdUM7WUFFakRDLFlBQWtCQyxVQUFnQ0MsU0FBUUg7SUFDNUQsR0FEb0JFLFNBQU9FLE1BQVBGLFFBQUFHLE9BQU9ELGNBQVBDO0lBQ3BCLFlBRDRDQyxnQkFBUkMsUUFBUUQsZ0JBQVJDOztLQUUxQkM7S0FDQUMsUUFIVUosV0FFVSx5QkFGOEJMLEtBRWxEUSxPQUFBQTtXQUYwQkQsWUFHTCx5QkFINkJQLEtBR2xEUyxTQUFBQTtpQkFFb0JDLEdBQUVGLEtBQU8sV0FBQSx3QkFBVEUsSUFBRUYsS0FBZ0M7c0I7SUFKbEQ7S0FBVkc7T0FBVSxXQUdULHVDQUorQ1I7SUFPcEQsU0FOSVE7S0FPRixPQUFBO2lCQU9RQztLQUNhLFVBQUEseUJBaEJxQ1o7S0FnQjVELFdBQUMseUJBaEIyREEsVUFlbERZO0lBQzZDO2lCQUZsREM7S0FGSCxPQUVHQSxnQ0FBTyxtQkFBUEE7SUFBb0I7O0tBSFosb0JBQWdDLFNBQUs7S0FBckMsVUFBQSxvQkFWVEY7S0FVZ0MsT0FBQTtJQUFjO0lBRGxELFVBQUE7SUFLTSxPQUFBO0dBQ2lEO0dBckI3QyxJQUFBLFdBR1JiLFNBRUFHOzs7O0U7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7O0dDUGtCOztJQXFEWmE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQXJEWTs7Ozs7Ozs7Ozs7Ozs7WUFHbEJDLEdBQUdDO0k7S0FHQyxNQUFBO0lBRDhCO0tBRGRDO0tBQU5DO0tBQUxDO0tBQ3lCLE1BQUEsb0JBRHpCQTtJQUNULE9BQUEsK0JBRkdILGVBQ1dFLE1BQU1EOztHQUl4QiwyQkFMSUY7R0FPZTs7Ozs7Ozs7O0lBQUE7Ozs7Ozs7WUFVZksscUJBQTBCVixHQUFFWDtJQUNsQixJQUFSc0IsUUFBUTtJQUVQLEdBQUEscUJBSHVCWCxHQUN4Qlc7U0FDQUMsUUFFQTs7S0FFdUM7TUFBQSxNQUFBLHNCQU5mWixHQUN4Qlc7TUFLZSxNQUFDO01BSmhCQyxRQUlBO0lBRU8sSUFBUEMsT0FBTyx1QkFOUEQsT0FGMEJ2QjtJQVM5QiwyQkFBcUIsT0FBckIsb0JBREl3QixNQUNnQztHQUFFO1lBRXBDQyxXQUFXQyxPQUFRLE9BQUEsV0FBUkEsYUFBdUI7R0FmekI7SUFBQSxZQUlUTCxVQVdBSTs7WUFjRUUsS0FBS0MsR0FBSSxXQUFKQSxHQUFvQjtZQUN6QkM7SUFDdUMsSUFENUJDLGlCQUFOQyxpQkFDa0MsTUFBQSxzQkFEbENBO0lBQ1AsV0FBZ0IsNEJBREhEOztHQUhDLG1CQUVaSCxNQUNBRTtZQUlGRyxtQkFBdUJDLE1BQUtIO0lBQzlCLGFBV0toQjtLQUxILEdBS0dBLG1CQUphLE9BQUE7UUFJYkEsb0JBQU8sT0FBQSxtQkFBUEE7S0FEeUM7TUFGeEJvQixPQUdqQnBCO01BRHlDLE1BQUEsb0JBRnhCb0I7TUFFZDs7O1NBQU07S0FBTixPQUFBO0lBQ2lCOztLQVRyQjtrQkFHb0JDLElBQU0sT0FBTkEsTUFBcUI7S0FBbkM7TUFBQSxNQUFBO01BRHlCLE1BQUEsdUJBTExMO01BS3hCLE1BQUEsOEJBTG1CRztNQUlyQixNQUFBLG9DQURJbEI7TUFDSixNQUFBO0tBQUEsT0FBQTtJQUV3RDtJQUMxRCxPQUFBO0dBS3VCO1lBRXZCcUI7SUFBdUIseUJBRW5CO1FBRHFCbEIsZ0JBQUptQixlQUFMakI7SUFBaUIseUJBQWpCQSxLQUFLaUIsSUFBSW5CO0dBQ2pCO1lBVU5vQixtQkFBb0JDO1FBQVBDO0lBQWMsT0FBQSx1QkFBZEEsSUFBT0Q7O1lBQ3BCRSxxQkFBc0JGO1FBQVBDO0lBQWMsT0FBQSx1QkFBZEEsSUFBT0Q7O1lBQ3RCRztRQUFPRjtJQUFTLE9BQUEsdUJBQVRBOztZQUNQRztRQUFZQztJQUFTLE9BQUEsdUJBQVRBOztZQUNaQyxvQkFBcUJOLE1BQUtPLFFBQU9DO1FBQW5CSDtJQUNoQixPQUFBLHVCQURnQkEsSUFBT0wsTUFBS08sUUFBT0M7O1lBRWpDQztRQUFPUjtJQUFTLE9BQUEsdUJBQVRBOztHQVJHOztVQUVWRixhQUNBRyxlQUNBQyxPQUNBQyxZQUNBRSxjQUVBRztZQU1GQyx3QkFBNkJDO0lBQy9CO0tBQUlDLFNBQVMsc0JBRGtCRDtLQUUzQmpELEtBQUssNEJBRExrRDtpQkFhQ3JDO0tBSkgsR0FJR0E7TUFGQztPQUR5QkksTUFHMUJKO09BSHNCdUIsS0FHdEJ2QjtPQUhpQk0sTUFHakJOOzZCQURDLHlCQUZnQk0sS0FBS2lCLElBQUluQixNQUVNO09BRC9CLE1BQUEseUJBVkZqQjtNQVV3QixPQUFBOzt5QkFJdEIsT0FEQSxtQkFERGEsS0FFYTtLQURaLFVBQUEseUJBYkZiO0tBYXdCLE9BQUE7SUFDVDs7S0FYZixJQUFLLHlCQUhMQTs7TUFLQTtPQUFJMkMsS0FBSyxvREFMVDNDO09BTUl1QyxLQUFLLG9EQU5UdkM7TUFPQSxtQkFQQUEsS0FLSTJDLElBQ0FKO0tBQ3FCO0tBSHpCLFVBQUEseUJBSkF2QyxJQUYyQmlEO0tBTU0sT0FBQTtJQUdSO0lBQzNCLE9BQUE7R0FNaUI7WUFFakJFLDhCQUFvQm5ELGVBQVMsT0FBVEE7WUFFcEJvRDtRQUE4QmIsYUFBSkk7SUFBVSxjQUFWQSxJQUFJSjs7R0FPcUIsSUFBbkRjO1lBRUFDLGNBQWNDO0lBQ2hCLEdBQUcsNkNBRGFBO0tBRVA7Y0FBQTs7TUFHSDtPQURLQztPQUNMLGVBQTJEQyxHQUN6RCxPQURGLFdBQTJEQSxjQUR0REQsS0FFdUQ7TUFENUQ7OztXQVBKSDtHQVNjO1lBRWRLLHNCQUFzQkQ7SUFYdEJKLHlCQVdzQkksR0FYdEJKOztHQVdrRTs7Ozs7Ozs7Ozs7OztRQTVFbEV0QjtRQWNBSTs7UUF3QkFhO1FBa0JBRztRQUVBQztRQWtCQU07UUFUQUo7Ozs7OztFOzs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7R0NsSDJEOzs7Ozs7Ozs7SUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFJN0RLLFFBQVNDLEtBQUtMLFFBQVFNLGdCQUFpQjNELEtBQStCNEQ7SUFDeEUsR0FEeUM1RCxTQUFLRSxNQUFMRixRQUFBNkQsS0FBSzNELGNBQUwyRDtJQUN6QyxPQUFBLGdCQURXSCxLQUFLTCxRQUFRTSxnQkFBaUJFLE9BQStCRDtHQUNqQjtZQUVyREU7STs7WUFFQUM7SUFDR0MsYUFBYUMsY0FBY1AsS0FBS0wsUUFBUU0sZ0JBQ3ZDM0QsS0FBK0I0RDtJQUNyQyxHQURNNUQsU0FBS0UsTUFBTEYsUUFBQTZELEtBQUszRCxjQUFMMkQ7SUFDTixPQUFBOzthQUZLRzthQUFhQzthQUFjUDthQUFLTDthQUFRTTthQUN2Q0U7O2FBQStCRDtHQUdqQjs7Ozs7O09BVmxCSDtPQUdBSztPQUVBQzs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyIoKiBnZW5lcmF0ZWQgYnkgZHVuZSAqKVxuXG4oKiogQGNhbm9uaWNhbCBDYXF0aV9sd3RfdW5peC5TeXN0ZW0gKilcbm1vZHVsZSBTeXN0ZW0gPSBDYXF0aV9sd3RfdW5peF9fU3lzdGVtXG5cbigqKiBAY2Fub25pY2FsIENhcXRpX2x3dF91bml4LlN5c3RlbV91bml4ICopXG5tb2R1bGUgU3lzdGVtX3VuaXggPSBDYXF0aV9sd3RfdW5peF9fU3lzdGVtX3VuaXhcblxubW9kdWxlIENhcXRpX2x3dF91bml4X18gPSBzdHJ1Y3QgZW5kXG5bQEBkZXByZWNhdGVkIFwidGhpcyBtb2R1bGUgaXMgc2hhZG93ZWRcIl1cbiIsIigqIENvcHlyaWdodCAoQykgMjAyMyAgUGV0dGVyIEEuIFVya2VkYWwgPHBhdXJrZWRhbEBnbWFpbC5jb20+XG4gKlxuICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXRcbiAqIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXJcbiAqIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24sIHdpdGggdGhlIExHUEwtMy4wIExpbmtpbmcgRXhjZXB0aW9uLlxuICpcbiAqIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVFxuICogQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpY1xuICogTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYW5kIHRoZSBMR1BMLTMuMCBMaW5raW5nIEV4Y2VwdGlvbiBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeS4gIElmIG5vdCwgc2VlXG4gKiA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4gYW5kIDxodHRwczovL3NwZHgub3JnPiwgcmVzcGVjdGl2ZWx5LlxuICopXG5cbm9wZW4gTHd0LkluZml4XG5cbm1vZHVsZSBQcmVlbXB0aXZlID0gTHd0X3ByZWVtcHRpdmVcblxubW9kdWxlIFVuaXggPSBzdHJ1Y3RcbiAgdHlwZSBmaWxlX2Rlc2NyID0gTHd0X3VuaXguZmlsZV9kZXNjclxuXG4gIGxldCB3cmFwX2ZkIGYgZmQgPSBmIChMd3RfdW5peC5vZl91bml4X2ZpbGVfZGVzY3IgZmQpXG5cbiAgbGV0IHBvbGwgfnN0ZGVudjooKSA/KHJlYWQgPSBmYWxzZSkgPyh3cml0ZSA9IGZhbHNlKSA/dGltZW91dCBmZCA9XG4gICAgbGV0IGNob2ljZXMgPSBbXVxuICAgICAgfD4gKGZ1biBhY2MgLT4gaWYgcmVhZCB0aGVuIEx3dF91bml4LndhaXRfcmVhZCBmZCA6OiBhY2MgZWxzZSBhY2MpXG4gICAgICB8PiAoZnVuIGFjYyAtPiBpZiB3cml0ZSB0aGVuIEx3dF91bml4LndhaXRfd3JpdGUgZmQgOjogYWNjIGVsc2UgYWNjKVxuICAgICAgfD4gT3B0aW9uLmZvbGRcbiAgICAgICAgICB+bm9uZTpGdW4uaWQgfnNvbWU6KGZ1biB0IGFjYyAtPiBMd3RfdW5peC50aW1lb3V0IHQgOjogYWNjKSB0aW1lb3V0XG4gICAgaW5cbiAgICBpZiBjaG9pY2VzID0gW10gdGhlblxuICAgICAgTHd0LmZhaWxfaW52YWxpZF9hcmcgXCJDYXF0aV9sd3QuVW5peC5wb2xsOiBObyBvcGVyYXRpb24gc3BlY2lmaWVkLlwiXG4gICAgZWxzZVxuICAgIEx3dC5jYXRjaFxuICAgICAgKGZ1biAoKSAtPiBMd3QuY2hvb3NlIGNob2ljZXMgPnw9IGZ1biBfIC0+IGZhbHNlKVxuICAgICAgKGZ1bmN0aW9uXG4gICAgICAgfCBMd3RfdW5peC5UaW1lb3V0IC0+IEx3dC5yZXR1cm5fdHJ1ZVxuICAgICAgIHwgZXhuIC0+IEx3dC5mYWlsIGV4bilcbiAgICAgID58PSBmdW4gdGltZWRfb3V0IC0+XG4gICAgKEx3dF91bml4LnJlYWRhYmxlIGZkLCBMd3RfdW5peC53cml0YWJsZSBmZCwgdGltZWRfb3V0KVxuZW5kXG4iLCIoKiBDb3B5cmlnaHQgKEMpIDIwMjMtLTIwMjQgIFBldHRlciBBLiBVcmtlZGFsIDxwYXVya2VkYWxAZ21haWwuY29tPlxuICpcbiAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0XG4gKiB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyXG4gKiBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLCB3aXRoIHRoZSBMR1BMLTMuMCBMaW5raW5nIEV4Y2VwdGlvbi5cbiAqXG4gKiBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVRcbiAqIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvclxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWNcbiAqIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFuZCB0aGUgTEdQTC0zLjAgTGlua2luZyBFeGNlcHRpb24gYWxvbmcgd2l0aCB0aGlzIGxpYnJhcnkuICBJZiBub3QsIHNlZVxuICogPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+IGFuZCA8aHR0cHM6Ly9zcGR4Lm9yZz4sIHJlc3BlY3RpdmVseS5cbiAqKVxuXG5vcGVuIEx3dC5JbmZpeFxuXG50eXBlIENhcXRpX2Vycm9yLm1zZyArPSBNc2dfdW5peCBvZiBVbml4LmVycm9yICogc3RyaW5nICogc3RyaW5nXG5cbmxldCAoKSA9XG4gIGxldCBwcCBwcGYgPSBmdW5jdGlvblxuICAgfCBNc2dfdW5peCAoZXJyLCBmdW5jLCBhcmcpIC0+XG4gICAgICBGb3JtYXQuZnByaW50ZiBwcGYgXCIlcyBpbiAlcyglUylcIiAoVW5peC5lcnJvcl9tZXNzYWdlIGVycikgZnVuYyBhcmdcbiAgIHwgXyAtPiBhc3NlcnQgZmFsc2VcbiAgaW5cbiAgQ2FxdGlfZXJyb3IuZGVmaW5lX21zZyB+cHAgWyVleHRlbnNpb25fY29uc3RydWN0b3IgTXNnX3VuaXhdXG5cbm1vZHVsZSBTeXN0ZW1fY29yZSA9IHN0cnVjdFxuICBpbmNsdWRlIENhcXRpX2x3dC5TeXN0ZW1fY29yZVxuICB0eXBlIHN0ZGVudiA9IHVuaXRcbmVuZFxuaW5jbHVkZSBTeXN0ZW1fY29yZVxuXG5tb2R1bGUgQWxhcm0gPSBzdHJ1Y3RcblxuICB0eXBlIHQgPSB7Y2FuY2VsOiB1bml0IC0+IHVuaXR9XG5cbiAgbGV0IHNjaGVkdWxlIH5zdzpfIH5zdGRlbnY6KCkgdCBmID1cbiAgICBsZXQgdF9ub3cgPSBNdGltZV9jbG9jay5ub3cgKCkgaW5cbiAgICBsZXQgZGVsYXkgPVxuICAgICAgaWYgTXRpbWUuaXNfbGF0ZXIgdCB+dGhhbjp0X25vdyB0aGVuXG4gICAgICAgIEx3dC5wYXVzZSAoKVxuICAgICAgZWxzZVxuICAgICAgICBMd3RfdW5peC5zbGVlcCAoTXRpbWUuU3Bhbi50b19mbG9hdF9ucyAoTXRpbWUuc3BhbiB0IHRfbm93KSAqLiAxZS05KVxuICAgIGluXG4gICAgbGV0IHRhc2sgPSBkZWxheSA+fD0gZiBpblxuICAgIHtjYW5jZWwgPSAoZnVuICgpIC0+IEx3dC5jYW5jZWwgdGFzayl9XG5cbiAgbGV0IHVuc2NoZWR1bGUgYWxhcm0gPSBhbGFybS5jYW5jZWwgKClcbmVuZFxuXG5tb2R1bGUgU3RyZWFtID0gQ2FxdGlfbHd0LlN0cmVhbVxubW9kdWxlIFBvb2wgPSBDYXF0aV9wbGF0Zm9ybS5Qb29sLk1ha2UgKFN5c3RlbV9jb3JlKSAoQWxhcm0pXG5cbm1vZHVsZSBOZXQgPSBzdHJ1Y3RcblxuICBtb2R1bGUgdHlwZSBTT0NLRVRfT1BTID0gQ2FxdGlfcGxhdGZvcm0uU3lzdGVtX3NpZy5TT0NLRVRfT1BTXG4gICAgd2l0aCB0eXBlICdhIGZpYmVyIDo9ICdhIEx3dC50XG4gICAgIGFuZCB0eXBlIHQgPSBMd3RfaW8uaW5wdXRfY2hhbm5lbCAqIEx3dF9pby5vdXRwdXRfY2hhbm5lbFxuXG4gIG1vZHVsZSBTb2NrYWRkciA9IHN0cnVjdFxuICAgIHR5cGUgdCA9IFVuaXguc29ja2FkZHJcbiAgICBsZXQgdW5peCBzID0gVW5peC5BRERSX1VOSVggc1xuICAgIGxldCB0Y3AgKGFkZHIsIHBvcnQpID1cbiAgICAgIFVuaXguQUREUl9JTkVUIChVbml4LmluZXRfYWRkcl9vZl9zdHJpbmcgKElwYWRkci50b19zdHJpbmcgYWRkciksIHBvcnQpXG4gIGVuZFxuXG4gIGxldCBnZXRhZGRyaW5mbyB+c3RkZW52OigpIGhvc3QgcG9ydCA9XG4gICAgTHd0LmNhdGNoXG4gICAgICAoZnVuICgpIC0+XG4gICAgICAgIGxldCBvcHRzID0gVW5peC5bQUlfU09DS1RZUEUgU09DS19TVFJFQU1dIGluXG4gICAgICAgIEx3dF91bml4LmdldGFkZHJpbmZvXG4gICAgICAgICAgKERvbWFpbl9uYW1lLnRvX3N0cmluZyBob3N0KSAoc3RyaW5nX29mX2ludCBwb3J0KSBvcHRzXG4gICAgICAgICAgPnw9IExpc3QubWFwIChmdW4gYWkgLT4gYWkuVW5peC5haV9hZGRyKSA+fD0gUmVzdWx0Lm9rKVxuICAgICAgKGZ1bmN0aW9uXG4gICAgICAgfCBOb3RfZm91bmQgLT4gTHd0LnJldHVybl9vayBbXVxuICAgICAgIHwgVW5peC5Vbml4X2Vycm9yIChjb2RlLCBfLCBfKSAtPlxuICAgICAgICAgIEx3dC5yZXR1cm5fZXJyb3JcbiAgICAgICAgICAgIChgTXNnIChcIkNhbm5vdCByZXNvbHZlIGhvc3QgbmFtZTogXCIgXiBVbml4LmVycm9yX21lc3NhZ2UgY29kZSkpXG4gICAgICAgfCBleG4gLT4gTHd0LmZhaWwgZXhuKVxuXG4gIGxldCBjb252ZXJ0X2lvX2V4Y2VwdGlvbiA9IGZ1bmN0aW9uXG4gICB8IFVuaXguVW5peF9lcnJvciAoZXJyLCBmbiwgYXJnKSAtPiBTb21lIChNc2dfdW5peCAoZXJyLCBmbiwgYXJnKSlcbiAgIHwgXyAtPiBOb25lXG5cbiAgdHlwZSBzb2NrZXQgPSB7XG4gICAgZmQ6IEx3dF91bml4LmZpbGVfZGVzY3Igb3B0aW9uO1xuICAgIGljOiBMd3RfaW8uaW5wdXRfY2hhbm5lbDtcbiAgICBvYzogTHd0X2lvLm91dHB1dF9jaGFubmVsO1xuICB9XG5cbiAgbW9kdWxlIFNvY2tldCA9IHN0cnVjdFxuICAgIHR5cGUgdCA9IHNvY2tldFxuICAgIGxldCBvdXRwdXRfY2hhciB7b2M7IF99IGRhdGEgPSBMd3RfaW8ud3JpdGVfY2hhciBvYyBkYXRhXG4gICAgbGV0IG91dHB1dF9zdHJpbmcge29jOyBffSBkYXRhID0gTHd0X2lvLndyaXRlIG9jIGRhdGFcbiAgICBsZXQgZmx1c2gge29jOyBffSA9IEx3dF9pby5mbHVzaCBvY1xuICAgIGxldCBpbnB1dF9jaGFyIHtpYzsgX30gPSBMd3RfaW8ucmVhZF9jaGFyIGljXG4gICAgbGV0IHJlYWxseV9pbnB1dCB7aWM7IF99IGRhdGEgb2Zmc2V0IGxlbmd0aCA9XG4gICAgICBMd3RfaW8ucmVhZF9pbnRvX2V4YWN0bHkgaWMgZGF0YSBvZmZzZXQgbGVuZ3RoXG4gICAgbGV0IGNsb3NlIHtvYzsgX30gPSBMd3RfaW8uY2xvc2Ugb2MgKCogQ0hFQ0tNRSAqKVxuICBlbmRcblxuICB0eXBlIHRjcF9mbG93ID0gTHd0X3VuaXguZmlsZV9kZXNjclxuICB0eXBlIHRsc19mbG93ID0gTHd0X2lvLmlucHV0X2NoYW5uZWwgKiBMd3RfaW8ub3V0cHV0X2NoYW5uZWxcblxuICBsZXQgY29ubmVjdF90Y3AgfnN3Ol8gfnN0ZGVudjooKSBzb2NrYWRkciA9XG4gICAgbGV0IGRvbWFpbiA9IFVuaXguZG9tYWluX29mX3NvY2thZGRyIHNvY2thZGRyIGluXG4gICAgbGV0IGZkID0gTHd0X3VuaXguc29ja2V0IGRvbWFpbiBVbml4LlNPQ0tfU1RSRUFNIDAgaW5cbiAgICBMd3QuY2F0Y2hcbiAgICAgIChmdW4gKCkgLT5cbiAgICAgICAgKHRyeSBMd3RfdW5peC5zZXRfY2xvc2Vfb25fZXhlYyBmZCB3aXRoIF8gLT4gKCkpO1xuICAgICAgICBMd3RfdW5peC5jb25uZWN0IGZkIHNvY2thZGRyID58PSBmdW4gKCkgLT5cbiAgICAgICAgbGV0IGljID0gTHd0X2lvLihvZl9mZCB+bW9kZTppbnB1dCkgZmQgaW5cbiAgICAgICAgbGV0IG9jID0gTHd0X2lvLihvZl9mZCB+bW9kZTpvdXRwdXQpIGZkIGluXG4gICAgICAgIE9rIHtmZCA9IFNvbWUgZmQ7IGljOyBvY30pXG4gICAgICAoZnVuY3Rpb25cbiAgICAgICB8IFVuaXguVW5peF9lcnJvciAoZXJyLCBmbiwgYXJnKSAtPlxuICAgICAgICAgIEx3dF91bml4LmNsb3NlIGZkID58PSBmdW4gKCkgLT5cbiAgICAgICAgICBFcnJvciAoTXNnX3VuaXggKGVyciwgZm4sIGFyZykpXG4gICAgICAgfCBleG4gLT5cbiAgICAgICAgICBMd3RfdW5peC5jbG9zZSBmZCA+Pj0gZnVuICgpIC0+XG4gICAgICAgICAgTHd0LmZhaWwgZXhuKVxuXG4gIGxldCB0Y3BfZmxvd19vZl9zb2NrZXQge2ZkOyBffSA9IGZkXG5cbiAgbGV0IHNvY2tldF9vZl90bHNfZmxvdyB+c3c6XyAoaWMsIG9jKSA9IHtmZCA9IE5vbmU7IGljOyBvY31cblxuICBtb2R1bGUgdHlwZSBUTFNfUFJPVklERVIgPSBDYXF0aV9wbGF0Zm9ybS5TeXN0ZW1fc2lnLlRMU19QUk9WSURFUlxuICAgIHdpdGggdHlwZSAnYSBmaWJlciA6PSAnYSBMd3QudFxuICAgICBhbmQgdHlwZSB0Y3BfZmxvdyA6PSB0Y3BfZmxvd1xuICAgICBhbmQgdHlwZSB0bHNfZmxvdyA6PSB0bHNfZmxvd1xuXG4gIGxldCB0bHNfcHJvdmlkZXJzX3IgOiAobW9kdWxlIFRMU19QUk9WSURFUikgbGlzdCByZWYgPSByZWYgW11cblxuICBsZXQgdGxzX3Byb3ZpZGVycyBjb25maWcgPVxuICAgIGlmIENhcXRpX2Nvbm5lY3RfY29uZmlnLm1lbV9uYW1lIFwidGxzXCIgY29uZmlnIHRoZW5cbiAgICAgIChtYXRjaCBDYXF0aV9wbGF0Zm9ybS5Db25uZWN0b3IubG9hZF9saWJyYXJ5IFwiY2FxdGktdGxzLWx3dC51bml4XCIgd2l0aFxuICAgICAgIHwgT2sgKCkgLT4gKClcbiAgICAgICB8IEVycm9yIG1zZyAtPlxuICAgICAgICAgIExvZ3Mud2FybiB+c3JjOkNhcXRpX3BsYXRmb3JtLkxvZ2dpbmcuZGVmYXVsdF9sb2dfc3JjIChmdW4gcCAtPlxuICAgICAgICAgICAgcCBcIlRMUyBjb25maWd1cmVkLCBidXQgbWlzc2luZyBjYXF0aS10bHMtbHd0LnVuaXg6ICVzXCIgbXNnKSk7XG4gICAgIXRsc19wcm92aWRlcnNfclxuXG4gIGxldCByZWdpc3Rlcl90bHNfcHJvdmlkZXIgcCA9IHRsc19wcm92aWRlcnNfciA6PSBwIDo6ICF0bHNfcHJvdmlkZXJzX3JcblxuZW5kXG4iLCIoKiBDb3B5cmlnaHQgKEMpIDIwMTQtLTIwMjMgIFBldHRlciBBLiBVcmtlZGFsIDxwYXVya2VkYWxAZ21haWwuY29tPlxuICpcbiAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0XG4gKiB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyXG4gKiBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLCB3aXRoIHRoZSBMR1BMLTMuMCBMaW5raW5nIEV4Y2VwdGlvbi5cbiAqXG4gKiBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVRcbiAqIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvclxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWNcbiAqIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFuZCB0aGUgTEdQTC0zLjAgTGlua2luZyBFeGNlcHRpb24gYWxvbmcgd2l0aCB0aGlzIGxpYnJhcnkuICBJZiBub3QsIHNlZVxuICogPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+IGFuZCA8aHR0cHM6Ly9zcGR4Lm9yZz4sIHJlc3BlY3RpdmVseS5cbiAqKVxuXG5vcGVuIENhcXRpX3BsYXRmb3JtXG5cbm1vZHVsZSBTeXN0ZW0gPSBTeXN0ZW1cbm1vZHVsZSBQb29sID0gU3lzdGVtLlBvb2xcblxubW9kdWxlIExvYWRlciA9IENhcXRpX3BsYXRmb3JtX3VuaXguRHJpdmVyX2xvYWRlci5NYWtlIChTeXN0ZW0pIChTeXN0ZW1fdW5peClcblxuaW5jbHVkZSBDb25uZWN0b3IuTWFrZSAoU3lzdGVtKSAoUG9vbCkgKExvYWRlcilcblxubGV0IGNvbm5lY3QgP2VudiA/Y29uZmlnID90d2Vha3NfdmVyc2lvbiA/KHN3ID0gQ2FxdGlfbHd0LlN3aXRjaC5ldGVybmFsKSB1cmkgPVxuICBjb25uZWN0ID9lbnYgP2NvbmZpZyA/dHdlYWtzX3ZlcnNpb24gfnN3IH5zdGRlbnY6KCkgdXJpXG5cbmxldCB3aXRoX2Nvbm5lY3Rpb24gPSB3aXRoX2Nvbm5lY3Rpb24gfnN0ZGVudjooKVxuXG5sZXQgY29ubmVjdF9wb29sXG4gICAgICA/cG9vbF9jb25maWcgP3Bvc3RfY29ubmVjdCA/ZW52ID9jb25maWcgP3R3ZWFrc192ZXJzaW9uXG4gICAgICA/KHN3ID0gQ2FxdGlfbHd0LlN3aXRjaC5ldGVybmFsKSB1cmkgPVxuICBjb25uZWN0X3Bvb2xcbiAgICA/cG9vbF9jb25maWcgP3Bvc3RfY29ubmVjdCA/ZW52ID9jb25maWcgP3R3ZWFrc192ZXJzaW9uXG4gICAgfnN3IH5zdGRlbnY6KCkgdXJpXG4iXX0=
