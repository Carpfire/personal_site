// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Dream_gluten_lwt_unix
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, Dream_gluten_lwt_unix = [0];
   runtime.caml_register_global
    (0, Dream_gluten_lwt_unix, "Dream_gluten_lwt_unix");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream_gluten_lwt_unix__Tls_io
//# unitInfo: Requires: Lwt, Stdlib
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_TLS_not_available$1 = "TLS not available",
    cst_Tls_not_available$3 = "Tls not available";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Lwt = global_data.Lwt,
    Stdlib = global_data.Stdlib,
    cst_TLS_not_available$0 = cst_TLS_not_available$1,
    cst_TLS_not_available = cst_TLS_not_available$1,
    cst_Tls_not_available$2 = cst_Tls_not_available$3,
    cst_Tls_not_available$1 = cst_Tls_not_available$3,
    cst_Tls_not_available$0 = cst_Tls_not_available$3,
    cst_Tls_not_available = cst_Tls_not_available$3;
   function read(param, bigstring, _d_, _c_){
    return caml_call1(Lwt[44], cst_Tls_not_available);
   }
   function writev(param, iovecs){
    return caml_call1(Lwt[44], cst_Tls_not_available$0);
   }
   function shutdown_receive(param){
    return caml_call1(Stdlib[2], cst_Tls_not_available$1);
   }
   function close(param){return caml_call1(Lwt[44], cst_Tls_not_available$2);}
   var Io = [0, read, writev, shutdown_receive, close];
   function make_client(param, socket){return caml_call1(Lwt[4], -565061191);}
   function make_server(param, _b_, _a_){
    caml_call1(Stdlib[2], cst_TLS_not_available);
    return function(socket){
     return caml_call1(Lwt[44], cst_TLS_not_available$0);};
   }
   var Dream_gluten_lwt_unix_Tls_io = [0, Io, make_client, make_server];
   runtime.caml_register_global
    (8, Dream_gluten_lwt_unix_Tls_io, "Dream_gluten_lwt_unix__Tls_io");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream_gluten_lwt_unix__Ssl_io
//# unitInfo: Requires: Lwt, Lwt_list, Lwt_ssl, Lwt_unix, Ssl, Stdlib, Stdlib__List, Unix
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Stdlib_List = global_data.Stdlib__List,
    Ssl = global_data.Ssl,
    Lwt_ssl = global_data.Lwt_ssl,
    Lwt = global_data.Lwt,
    Lwt_list = global_data.Lwt_list,
    Unix = global_data.Unix,
    Stdlib = global_data.Stdlib,
    Lwt_unix = global_data.Lwt_unix,
    _b_ = [0, 0, 0],
    _a_ = [0, 0, 0];
   function close(ssl){
    var
     fd = caml_call1(Lwt_ssl[24], ssl),
     match = caml_call1(Lwt_unix[9], fd);
    if(typeof match === "number" && ! match){
     var
      _r_ =
        function(exn){
         if(exn[1] === Unix[1]){
          var _x_ = exn[2];
          if(typeof _x_ === "number" && 59 === _x_) return Lwt[36];
         }
         return caml_call1(Lwt[5], exn);
        },
      _s_ =
        function(param){
         function _t_(shutdown){
          function _v_(param){return caml_call1(Lwt_ssl[18], ssl);}
          var _w_ = caml_call3(Lwt[64], Lwt_ssl[17], ssl, 2);
          return caml_call2(Lwt[33][1], _w_, _v_);
         }
         var _u_ = caml_call1(Lwt_ssl[21], ssl);
         return caml_call2(Lwt[33][1], _u_, _t_);
        };
     return caml_call2(Lwt[7], _s_, _r_);
    }
    return Lwt[36];
   }
   function read(ssl, bigstring, off, len){
    function _m_(exn){
     if(exn[1] === Unix[1]){
      var _q_ = exn[2];
      if(typeof _q_ === "number" && 3 === _q_)
       return caml_call1(Lwt[5], Stdlib[12]);
     }
     return caml_call1(Lwt[5], exn);
    }
    function _n_(param){
     function _o_(n){
      if(0 === n) throw caml_maybe_attach_backtrace(Stdlib[12], 1);
      return n;
     }
     var _p_ = caml_call4(Lwt_ssl[13], ssl, bigstring, off, len);
     return caml_call2(Lwt[33][2], _p_, _o_);
    }
    return caml_call2(Lwt[7], _n_, _m_);
   }
   function writev(ssl, iovecs){
    function _d_(exn){
     if(exn[1] === Unix[1]){
      var _l_ = exn[2];
      if
       (typeof _l_ === "number"
        &&
         3 === _l_
         && ! runtime.caml_string_notequal(exn[3], "check_descriptor"))
       return caml_call1(Lwt[4], -1025106484);
     }
     return caml_call1(Lwt[5], exn);
    }
    function _e_(param){
     function _f_(n){return [0, 17724, n];}
     var _g_ = 0;
     function _h_(acc, param){
      var len = param[3], off = param[2], buffer = param[1];
      function _j_(written){return acc + written | 0;}
      var _k_ = caml_call4(Lwt_ssl[14], ssl, buffer, off, len);
      return caml_call2(Lwt[33][2], _k_, _j_);
     }
     var _i_ = caml_call3(Lwt_list[11], _h_, _g_, iovecs);
     return caml_call2(Lwt[33][2], _i_, _f_);
    }
    return caml_call2(Lwt[7], _e_, _d_);
   }
   function shutdown_receive(ssl){return 0;}
   var Io = [0, read, writev, shutdown_receive, close];
   function make_default_client(alpn_protocols, socket){
    var client_ctx = caml_call2(Ssl[22], 0, 0);
    caml_call2(Ssl[39], client_ctx, _a_);
    caml_call1(Ssl[41], client_ctx);
    if(alpn_protocols){
     var protos = alpn_protocols[1];
     caml_call2(Ssl[37], client_ctx, protos);
    }
    return caml_call2(Lwt_ssl[5], socket, client_ctx);
   }
   function first_match(l1, param){
    var param$0 = param;
    for(;;){
     if(! param$0) return 0;
     var x = param$0[1];
     if(caml_call2(Stdlib_List[37], x, l1)) return [0, x];
     var xs = param$0[2], param$0 = xs;
    }
   }
   function make_server(alpn_protocols, certfile, keyfile, socket){
    var server_ctx = caml_call2(Ssl[22], 0, 1);
    caml_call2(Ssl[39], server_ctx, _b_);
    caml_call3(Ssl[29], server_ctx, certfile, keyfile);
    if(alpn_protocols){
     var protos = alpn_protocols[1];
     caml_call2(Ssl[37], server_ctx, protos);
     var
      _c_ =
        function(client_protos){return first_match(client_protos, protos);};
     caml_call2(Ssl[38], server_ctx, _c_);
    }
    return caml_call2(Lwt_ssl[4], socket, server_ctx);
   }
   var
    Dream_gluten_lwt_unix_Ssl_io =
      [0, Io, make_default_client, first_match, make_server];
   runtime.caml_register_global
    (11, Dream_gluten_lwt_unix_Ssl_io, "Dream_gluten_lwt_unix__Ssl_io");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Dream_gluten_lwt_unix__Gluten_lwt_unix
//# unitInfo: Requires: Dream_gluten_lwt__Gluten_lwt, Dream_gluten_lwt_unix__Ssl_io, Dream_gluten_lwt_unix__Tls_io, Faraday_lwt_unix, Lwt, Lwt_bytes, Lwt_unix, Stdlib, Unix
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Dream_gluten_lwt_unix_Ssl_io = global_data.Dream_gluten_lwt_unix__Ssl_io,
    Dream_gluten_lwt_unix_Tls_io = global_data.Dream_gluten_lwt_unix__Tls_io,
    Lwt_unix = global_data.Lwt_unix,
    Unix = global_data.Unix,
    Faraday_lwt_unix = global_data.Faraday_lwt_unix,
    Stdlib = global_data.Stdlib,
    Lwt_bytes = global_data.Lwt_bytes,
    Lwt = global_data.Lwt,
    Dream_gluten_lwt_Gluten_lwt = global_data.Dream_gluten_lwt__Gluten_lwt;
   function close(socket){
    var match = caml_call1(Lwt_unix[9], socket);
    if(typeof match === "number" && match) return Lwt[36];
    function _l_(exn){return Lwt[36];}
    function _m_(param){
     caml_call2(Lwt_unix[99], socket, 2);
     return caml_call1(Lwt_unix[25], socket);
    }
    return caml_call2(Lwt[7], _m_, _l_);
   }
   function read(socket, bigstring, off, len){
    function _f_(exn){
     if(exn[1] === Unix[1]){
      var _j_ = exn[2];
      if(typeof _j_ === "number" && 3 === _j_)
       return caml_call1(Lwt[5], Stdlib[12]);
     }
     function _k_(param){return close(socket);}
     caml_call1(Lwt[11], _k_);
     return caml_call1(Lwt[5], exn);
    }
    function _g_(param){
     function _h_(n){
      if(0 === n) throw caml_maybe_attach_backtrace(Stdlib[12], 1);
      return n;
     }
     var _i_ = caml_call4(Lwt_bytes[23], socket, bigstring, off, len);
     return caml_call2(Lwt[33][2], _i_, _h_);
    }
    return caml_call2(Lwt[7], _g_, _f_);
   }
   function writev(socket){return caml_call1(Faraday_lwt_unix[2], socket);}
   function shutdown_receive(socket){
    var _a_ = 1 !== caml_call1(Lwt_unix[9], socket) ? 1 : 0, command = 0;
    if(! _a_) return _a_;
    try{var _d_ = caml_call2(Lwt_unix[99], socket, command); return _d_;}
    catch(_e_){
     var _b_ = caml_wrap_exception(_e_);
     if(_b_[1] === Unix[1]){
      var _c_ = _b_[2];
      if(typeof _c_ === "number" && 59 === _c_) return 0;
     }
     throw caml_maybe_attach_backtrace(_b_, 0);
    }
   }
   var
    Io = [0, read, writev, shutdown_receive, close],
    include = caml_call1(Dream_gluten_lwt_Gluten_lwt[1], Io),
    create_upgradable_connection_h = include[1],
    create_connection_handler = include[2],
    include$0 =
      caml_call1
       (Dream_gluten_lwt_Gluten_lwt[1], Dream_gluten_lwt_unix_Tls_io[1]),
    create_upgradable_connection_h$0 = include$0[1],
    create_connection_handler$0 = include$0[2];
   function create_default(alpn_protocols, certfile, keyfile){
    var
     make_tls_server =
       caml_call3
        (Dream_gluten_lwt_unix_Tls_io[3], alpn_protocols, certfile, keyfile);
    return function(client_addr, socket){
     return caml_call1(make_tls_server, socket);};
   }
   var
    TLS =
      [0,
       create_upgradable_connection_h$0,
       create_connection_handler$0,
       create_default],
    include$1 =
      caml_call1
       (Dream_gluten_lwt_Gluten_lwt[1], Dream_gluten_lwt_unix_Ssl_io[1]),
    create_upgradable_connection_h$1 = include$1[1],
    create_connection_handler$1 = include$1[2];
   function create_default$0(alpn_protocols, certfile, keyfile){
    var
     make_ssl_server =
       caml_call3
        (Dream_gluten_lwt_unix_Ssl_io[4], alpn_protocols, certfile, keyfile);
    return function(client_addr, socket){
     return caml_call1(make_ssl_server, socket);};
   }
   var
    SSL =
      [0,
       create_upgradable_connection_h$1,
       create_connection_handler$1,
       create_default$0],
    Server =
      [0, create_upgradable_connection_h, create_connection_handler, TLS, SSL],
    include$2 = caml_call1(Dream_gluten_lwt_Gluten_lwt[2], Io),
    create = include$2[1],
    upgrade = include$2[2],
    shutdown = include$2[3],
    is_closed = include$2[4],
    socket = include$2[5],
    include$3 =
      caml_call1
       (Dream_gluten_lwt_Gluten_lwt[2], Dream_gluten_lwt_unix_Tls_io[1]),
    create$0 = include$3[1],
    upgrade$0 = include$3[2],
    shutdown$0 = include$3[3],
    is_closed$0 = include$3[4],
    socket$0 = include$3[5];
   function create_default$1(alpn_protocols, socket){
    return caml_call2(Dream_gluten_lwt_unix_Tls_io[2], alpn_protocols, socket);
   }
   var
    TLS$0 =
      [0,
       create$0,
       upgrade$0,
       shutdown$0,
       is_closed$0,
       socket$0,
       create_default$1],
    include$4 =
      caml_call1
       (Dream_gluten_lwt_Gluten_lwt[2], Dream_gluten_lwt_unix_Ssl_io[1]),
    create$1 = include$4[1],
    upgrade$1 = include$4[2],
    shutdown$1 = include$4[3],
    is_closed$1 = include$4[4],
    socket$1 = include$4[5];
   function create_default$2(alpn_protocols, socket){
    return caml_call2(Dream_gluten_lwt_unix_Ssl_io[2], alpn_protocols, socket);
   }
   var
    SSL$0 =
      [0,
       create$1,
       upgrade$1,
       shutdown$1,
       is_closed$1,
       socket$1,
       create_default$2],
    Client = [0, create, upgrade, shutdown, is_closed, socket, TLS$0, SSL$0],
    Dream_gluten_lwt_unix_Gluten_l = [0, Server, Client];
   runtime.caml_register_global
    (9,
     Dream_gluten_lwt_unix_Gluten_l,
     "Dream_gluten_lwt_unix__Gluten_lwt_unix");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJkcmVhbV9nbHV0ZW5fbHd0X3VuaXguY21hLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImNsb3NlIiwic29ja2V0IiwiZXhuIiwicmVhZCIsImJpZ3N0cmluZyIsIm9mZiIsImxlbiIsIm4iLCJ3cml0ZXYiLCJzaHV0ZG93bl9yZWNlaXZlIiwiY29tbWFuZCIsImNyZWF0ZV9kZWZhdWx0IiwiYWxwbl9wcm90b2NvbHMiLCJjZXJ0ZmlsZSIsImtleWZpbGUiLCJtYWtlX3Rsc19zZXJ2ZXIiLCJjbGllbnRfYWRkciIsImNyZWF0ZV9kZWZhdWx0JDAiLCJtYWtlX3NzbF9zZXJ2ZXIiLCJjcmVhdGVfZGVmYXVsdCQxIiwiY3JlYXRlX2RlZmF1bHQkMiJdLCJzb3VyY2VzIjpbIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2RyZWFtLWh0dHBhZi9kcmVhbS1nbHV0ZW4tbHd0LXVuaXgvZ2x1dGVuX2x3dF91bml4Lm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztFOzs7Ozs7Ozs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7OztJLE87Rzs7SSxPO0c7O0ksTztHO3lCLE8sNkM7Rzt1QyxPLCtCOztJO0k7SyxPLDZDO0c7Ozs7O0U7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7OztJO0ssSztLLFE7STtLO007O1M7O29EOztTLE87UTs7Ozs4QixPLDZCO1UsVTtVLE87UztTLFU7UyxPO1E7SyxPOztJO0c7O0k7Szs7O08sTzs7SyxPO0k7O0s7TSxZLE07TTtLO0ssVTtLLE87STtJLE87Rzs7STtLOzs7Ozs7O08sTzs7SyxPO0k7O0ssZ0IscUI7OztNO00sc0IseUI7TSxVO00sTztLO0ssVTtLLE87STtJLE87RztrQyxTO0c7O0ksaUI7STtJOzs7Szs7SSxPO0c7Ozs7bUI7O0ssRyxvQzs7Ozs7SSxpQjtJO0k7OztLOzs7Z0MsMEM7Szs7SSxPO0c7Ozs7Ozs7RTs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7WUEwQ01BLE1BQU1DO0lBQ0YsWUFBQSx3QkFERUE7MkNBRUk7SUFFVixhQUlPQyxLQUFRLGVBQWU7O0tBRnpCLHlCQU5DRDtLQVFKLE9BQUEseUJBUklBO0lBT29CO0lBQ3hCLE9BQUE7R0FBNkI7WUFFL0JFLEtBQUtGLFFBQU9HLFdBQVdDLEtBQUtDO2lCQVd2Qko7S0FMTCxHQUtLQTtnQkFBQUE7O09BREEsT0FBQTs7eUJBRXFCLE9BdEIxQkYsTUFVS0MsUUFZaUM7S0FBakM7S0FBQSxPQUFBLG1CQURBQztJQUVhOztLQVZmLGFBRUVLO01BRjBDLFNBRTFDQSxHQURLLE1BQUE7TUFDQSxPQUFMQTtLQUFNO0tBRlIsVUFBQSwwQkFIRU4sUUFBT0csV0FBV0MsS0FBS0M7S0FHbUIsT0FBQTtJQUVwQztJQUNYLE9BQUE7R0FPa0I7WUFFbEJFLE9BQU9QLFFBQVMsT0FBQSxnQ0FBVEEsUUFBNkM7WUFRcERRLGlCQUFpQlI7SUFBUyxnQkFMekIsd0JBS2dCQSxpQkFORFM7O0lBR2hCLElBQUksVUFBQSx5QkFHYVQsUUFORFMsVUFHWjs7Ozs7Z0RBQ3VDOzs7O0dBRW9CO0dBckNsQztJQUFBLFNBYzdCUCxNQWVBSyxRQVFBQyxrQkFqQ0FUOzs7Ozs7Ozs7WUEwQ0VXLGVBQWdCQyxnQkFBZ0JDLFVBQVVDO0lBRTFDO0tBREVDO09BQ0Y7MENBRmdCSCxnQkFBZ0JDLFVBQVVDO0lBSTVDLGdCQUFJRSxhQUFhZjtLQUFVLE9BQUEsV0FIdkJjLGlCQUdhZCxRQUFnQztHQUFBO0dBUHhDO0lBQUE7Ozs7T0FHUFU7Ozs7OztZQVVBTSxpQkFBZ0JMLGdCQUFnQkMsVUFBVUM7SUFFMUM7S0FERUk7T0FDRjswQ0FGZ0JOLGdCQUFnQkMsVUFBVUM7SUFJNUMsZ0JBQUlFLGFBQWFmO0tBQVUsT0FBQSxXQUh2QmlCLGlCQUdhakIsUUFBZ0M7R0FBQTtHQVB4QztJQUFBOzs7O09BR1BnQjtJQWhCUTs7Ozs7Ozs7Ozs7Ozs7OztZQThCUkUsaUJBQWdCUCxnQkFBZVg7SUFDakMsT0FBQSw0Q0FEa0JXLGdCQUFlWDtHQUNRO0dBSmhDO0lBQUE7Ozs7Ozs7T0FHUGtCOzs7Ozs7Ozs7WUFPQUMsaUJBQWdCUixnQkFBZVg7SUFDakMsT0FBQSw0Q0FEa0JXLGdCQUFlWDtHQUNnQjtHQUp4QztJQUFBOzs7Ozs7O09BR1BtQjtJQWJROzs7Ozs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyIoKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAxOS0yMDIwLCBBbnTDs25pbyBOdW5vIE1vbnRlaXJvXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uXG4gKiAgICBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBjb3B5cmlnaHQgaG9sZGVyIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxuICogQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICogSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAqIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GXG4gKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcbiAqIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOXG4gKiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qKVxuXG5tb2R1bGUgR2x1dGVuX2x3dCA9IERyZWFtX2dsdXRlbl9sd3QuR2x1dGVuX2x3dFxuXG5vcGVuIEx3dC5JbmZpeFxuXG5tb2R1bGUgSW8gOlxuICBHbHV0ZW5fbHd0LklPXG4gIHdpdGggdHlwZSBzb2NrZXQgPSBMd3RfdW5peC5maWxlX2Rlc2NyXG4gICBhbmQgdHlwZSBhZGRyID0gVW5peC5zb2NrYWRkciA9IHN0cnVjdFxuICB0eXBlIHNvY2tldCA9IEx3dF91bml4LmZpbGVfZGVzY3JcbiAgdHlwZSBhZGRyID0gVW5peC5zb2NrYWRkclxuXG4gIGxldCBjbG9zZSBzb2NrZXQgPVxuICAgIG1hdGNoIEx3dF91bml4LnN0YXRlIHNvY2tldCB3aXRoXG4gICAgfCBDbG9zZWQgLT4gTHd0LnJldHVybl91bml0XG4gICAgfCBfIC0+XG4gICAgICBMd3QuY2F0Y2hcbiAgICAgICAgKGZ1biAoKSAtPlxuICAgICAgICAgICBMd3RfdW5peC5zaHV0ZG93biBzb2NrZXQgU0hVVERPV05fQUxMO1xuICAgICAgICAgICBMd3RfdW5peC5jbG9zZSBzb2NrZXQpXG4gICAgICAgIChmdW4gX2V4biAtPiBMd3QucmV0dXJuX3VuaXQpXG5cbiAgbGV0IHJlYWQgc29ja2V0IGJpZ3N0cmluZyB+b2ZmIH5sZW4gPVxuICAgIEx3dC5jYXRjaFxuICAgICAgKGZ1biAoKSAtPlxuICAgICAgICAgTHd0X2J5dGVzLnJlYWQgc29ja2V0IGJpZ3N0cmluZyBvZmYgbGVuID58PSBmdW5jdGlvblxuICAgICAgICAgfCAwIC0+IHJhaXNlIEVuZF9vZl9maWxlXG4gICAgICAgICB8IG4gLT4gbilcbiAgICAgIChmdW5jdGlvblxuICAgICAgICAgfCBVbml4LlVuaXhfZXJyb3IgKFVuaXguRUJBREYsIF8sIF8pIC0+XG4gICAgICAgICAgICgqIElmIHRoZSBzb2NrZXQgaXMgY2xvc2VkIHdlIG5lZWQgdG8gZmVlZCBFT0YgdG8gdGhlIHN0YXRlXG4gICAgICAgICAgICAgIG1hY2hpbmUuICopXG4gICAgICAgICAgIEx3dC5mYWlsIEVuZF9vZl9maWxlXG4gICAgICAgICB8IGV4biAtPlxuICAgICAgICAgICBMd3QuYXN5bmMgKGZ1biAoKSAtPiBjbG9zZSBzb2NrZXQpO1xuICAgICAgICAgICBMd3QuZmFpbCBleG4pXG5cbiAgbGV0IHdyaXRldiBzb2NrZXQgPSBGYXJhZGF5X2x3dF91bml4LndyaXRldl9vZl9mZCBzb2NrZXRcblxuICBsZXQgc2h1dGRvd24gc29ja2V0IGNvbW1hbmQgPVxuICAgIGlmIEx3dF91bml4LnN0YXRlIHNvY2tldCA8PiBMd3RfdW5peC5DbG9zZWRcbiAgICB0aGVuXG4gICAgICB0cnkgTHd0X3VuaXguc2h1dGRvd24gc29ja2V0IGNvbW1hbmQgd2l0aFxuICAgICAgfCBVbml4LlVuaXhfZXJyb3IgKFVuaXguRU5PVENPTk4sIF8sIF8pIC0+ICgpXG5cbiAgbGV0IHNodXRkb3duX3JlY2VpdmUgc29ja2V0ID0gc2h1dGRvd24gc29ja2V0IFVuaXguU0hVVERPV05fUkVDRUlWRVxuZW5kXG5cbm1vZHVsZSBTZXJ2ZXIgPSBzdHJ1Y3RcbiAgaW5jbHVkZSBHbHV0ZW5fbHd0LlNlcnZlciAoSW8pXG5cbiAgbW9kdWxlIFRMUyA9IHN0cnVjdFxuICAgIGluY2x1ZGUgR2x1dGVuX2x3dC5TZXJ2ZXIgKFRsc19pby5JbylcblxuICAgIGxldCBjcmVhdGVfZGVmYXVsdCA/YWxwbl9wcm90b2NvbHMgfmNlcnRmaWxlIH5rZXlmaWxlID1cbiAgICAgIGxldCBtYWtlX3Rsc19zZXJ2ZXIgPVxuICAgICAgICBUbHNfaW8ubWFrZV9zZXJ2ZXIgP2FscG5fcHJvdG9jb2xzIH5jZXJ0ZmlsZSB+a2V5ZmlsZVxuICAgICAgaW5cbiAgICAgIGZ1biBfY2xpZW50X2FkZHIgc29ja2V0IC0+IG1ha2VfdGxzX3NlcnZlciBzb2NrZXRcbiAgZW5kXG5cbiAgbW9kdWxlIFNTTCA9IHN0cnVjdFxuICAgIGluY2x1ZGUgR2x1dGVuX2x3dC5TZXJ2ZXIgKFNzbF9pby5JbylcblxuICAgIGxldCBjcmVhdGVfZGVmYXVsdCA/YWxwbl9wcm90b2NvbHMgfmNlcnRmaWxlIH5rZXlmaWxlID1cbiAgICAgIGxldCBtYWtlX3NzbF9zZXJ2ZXIgPVxuICAgICAgICBTc2xfaW8ubWFrZV9zZXJ2ZXIgP2FscG5fcHJvdG9jb2xzIH5jZXJ0ZmlsZSB+a2V5ZmlsZVxuICAgICAgaW5cbiAgICAgIGZ1biBfY2xpZW50X2FkZHIgc29ja2V0IC0+IG1ha2Vfc3NsX3NlcnZlciBzb2NrZXRcbiAgZW5kXG5lbmRcblxubW9kdWxlIENsaWVudCA9IHN0cnVjdFxuICBpbmNsdWRlIEdsdXRlbl9sd3QuQ2xpZW50IChJbylcblxuICBtb2R1bGUgVExTID0gc3RydWN0XG4gICAgaW5jbHVkZSBHbHV0ZW5fbHd0LkNsaWVudCAoVGxzX2lvLklvKVxuXG4gICAgbGV0IGNyZWF0ZV9kZWZhdWx0ID9hbHBuX3Byb3RvY29scyBzb2NrZXQgPVxuICAgICAgVGxzX2lvLm1ha2VfY2xpZW50ID9hbHBuX3Byb3RvY29scyBzb2NrZXRcbiAgZW5kXG5cbiAgbW9kdWxlIFNTTCA9IHN0cnVjdFxuICAgIGluY2x1ZGUgR2x1dGVuX2x3dC5DbGllbnQgKFNzbF9pby5JbylcblxuICAgIGxldCBjcmVhdGVfZGVmYXVsdCA/YWxwbl9wcm90b2NvbHMgc29ja2V0ID1cbiAgICAgIFNzbF9pby5tYWtlX2RlZmF1bHRfY2xpZW50ID9hbHBuX3Byb3RvY29scyBzb2NrZXRcbiAgZW5kXG5lbmRcbiJdfQ==
