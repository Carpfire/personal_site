// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Squeue__
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Squeue = [0],
    Squeue$0 = [0, Squeue];
   runtime.caml_register_global(0, Squeue$0, "Squeue__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Squeue__Import
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Squeue_Import = "Squeue__Import",
    cst_squeue = "squeue";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Squeue_Import);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_squeue);
   caml_call1(Ppx_expect_runtime[1][1], "squeue/src/import.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_squeue, "import.ml");
   caml_call1(Ppx_inline_test_lib[7], cst_squeue);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Squeue_Import);
   var Squeue_Import = [0];
   runtime.caml_register_global(11, Squeue_Import, cst_Squeue_Import);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Squeue
//# unitInfo: Requires: Base__Exn, Core, Core__Linked_queue, Error_checking_mutex, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Stdlib__Condition
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Squeue$0 = "Squeue",
    cst_squeue$0 = "squeue";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    Core_Linked_queue = global_data.Core__Linked_queue,
    Core = global_data.Core,
    Stdlib_Condition = global_data.Stdlib__Condition,
    Error_checking_mutex = global_data.Error_checking_mutex,
    Base_Exn = global_data.Base__Exn,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Squeue$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_squeue$0);
   caml_call1(Ppx_expect_runtime[1][1], "squeue/src/squeue.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_squeue$0, "squeue.ml");
   var
    _a_ = [0, "not_full"],
    _b_ = [0, "not_empty"],
    _c_ = [0, "mutex"],
    _d_ = [0, "maxsize"],
    _e_ = [0, "ev_q"],
    cst_squeue = cst_squeue$0,
    cst_Squeue = cst_Squeue$0;
   function sexp_of_t(of_a_001, param){
    var
     not_full_011 = param[5],
     not_empty_009 = param[4],
     mutex_007 = param[3],
     maxsize_005 = param[2],
     ev_q_003 = param[1],
     arg_012 = caml_call1(Sexplib0_Sexp_conv[23], not_full_011),
     bnds_002 = [0, [1, [0, _a_, [0, arg_012, 0]]], 0],
     arg_010 = caml_call1(Sexplib0_Sexp_conv[23], not_empty_009),
     bnds_002$0 = [0, [1, [0, _b_, [0, arg_010, 0]]], bnds_002],
     arg_008 = caml_call1(Sexplib0_Sexp_conv[23], mutex_007),
     bnds_002$1 = [0, [1, [0, _c_, [0, arg_008, 0]]], bnds_002$0],
     arg_006 = caml_call1(Core[389], maxsize_005),
     bnds_002$2 = [0, [1, [0, _d_, [0, arg_006, 0]]], bnds_002$1],
     arg_004 = caml_call2(Core_Linked_queue[10], of_a_001, ev_q_003),
     bnds_002$3 = [0, [1, [0, _e_, [0, arg_004, 0]]], bnds_002$2];
    return [1, bnds_002$3];
   }
   function create(maxsize){
    var
     ev_q = caml_call1(Core_Linked_queue[60], 0),
     mutex = caml_call1(Error_checking_mutex[1], 0),
     not_empty = caml_call1(Stdlib_Condition[1], 0),
     not_full = caml_call1(Stdlib_Condition[1], 0);
    return [0, ev_q, maxsize, mutex, not_empty, not_full];
   }
   function finally$0(t){
    var len = caml_call1(Core_Linked_queue[13], t[1]);
    if(caml_call2(Core[93], len, 0)) caml_call1(Stdlib_Condition[3], t[4]);
    if(caml_call2(Core[92], len, t[2])) caml_call1(Stdlib_Condition[3], t[5]);
    return caml_call1(Error_checking_mutex[5], t[3]);
   }
   function wrap(q, run){
    caml_call1(Error_checking_mutex[3], q[3]);
    return caml_call3(Base_Exn[12], run, q, finally$0);
   }
   function clear(q){
    function run(q){return caml_call1(Core_Linked_queue[48], q[1]);}
    return wrap(q, run);
   }
   function wait_not_full(q){
    for(;;){
     var _l_ = q[2], _m_ = caml_call1(Core_Linked_queue[13], q[1]);
     if(! caml_call2(Core[88], _m_, _l_)) return;
     caml_call2(Stdlib_Condition[2], q[5], q[3]);
    }
   }
   function _f_(q){
    for(;;){
     if(! caml_call1(Core_Linked_queue[14], q[1])) return 0;
     caml_call2(Stdlib_Condition[2], q[4], q[3]);
    }
   }
   function push(q, x){
    function run(q){
     wait_not_full(q);
     return caml_call2(Core_Linked_queue[40], q[1], x);
    }
    return wrap(q, run);
   }
   function push_uncond(q, x){
    function run(q){return caml_call2(Core_Linked_queue[40], q[1], x);}
    return wrap(q, run);
   }
   function push_or_drop(q, x){
    function run(q){
     var _j_ = q[2], _k_ = caml_call1(Core_Linked_queue[13], q[1]);
     return caml_call2(Core[92], _k_, _j_)
             ? (caml_call2(Core_Linked_queue[40], q[1], x), 1)
             : 0;
    }
    return wrap(q, run);
   }
   function length(q){
    function run(q){return caml_call1(Core_Linked_queue[13], q[1]);}
    return wrap(q, run);
   }
   function pop(q){
    function run(q){_f_(q); return caml_call1(Core_Linked_queue[43], q[1]);}
    return wrap(q, run);
   }
   function lpop(q){
    function run(q){
     _f_(q);
     var
      el = caml_call1(Core_Linked_queue[43], q[1]),
      len = caml_call1(Core_Linked_queue[13], q[1]);
     return [0, el, len];
    }
    return wrap(q, run);
   }
   function transfer_queue_in_uncond(q, in_q){
    var _i_ = 1 - caml_call1(Core_Linked_queue[14], in_q);
    if(! _i_) return _i_;
    function run(q){return caml_call2(Core_Linked_queue[61], in_q, q[1]);}
    return wrap(q, run);
   }
   function transfer_queue_in(q, in_q){
    var _h_ = 1 - caml_call1(Core_Linked_queue[14], in_q);
    if(! _h_) return _h_;
    function run(q){
     wait_not_full(q);
     return caml_call2(Core_Linked_queue[61], in_q, q[1]);
    }
    return wrap(q, run);
   }
   function transfer_queue_nowait_nolock(sq, q){
    return caml_call2(Core_Linked_queue[61], sq[1], q);
   }
   function transfer_queue_nowait(sq, q){
    var _g_ = 1 - caml_call1(Core_Linked_queue[14], sq[1]);
    if(! _g_) return _g_;
    function run(sq){return transfer_queue_nowait_nolock(sq, q);}
    return wrap(sq, run);
   }
   function transfer_queue(sq, q){
    function run(sq){_f_(sq); return transfer_queue_nowait_nolock(sq, q);}
    return wrap(sq, run);
   }
   function wait_not_empty(sq){
    function run(sq){return _f_(sq);}
    return wrap(sq, run);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_squeue);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Squeue);
   var
    Squeue =
      [0,
       sexp_of_t,
       create,
       push,
       push_uncond,
       push_or_drop,
       length,
       pop,
       lpop,
       transfer_queue_in,
       transfer_queue_in_uncond,
       transfer_queue,
       transfer_queue_nowait,
       clear,
       wait_not_empty];
   runtime.caml_register_global(22, Squeue, cst_Squeue$0);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJzcXVldWUuY21hLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbInNleHBfb2ZfdCIsIm9mX2FfMDAxIiwibm90X2Z1bGxfMDExIiwibm90X2VtcHR5XzAwOSIsIm11dGV4XzAwNyIsIm1heHNpemVfMDA1IiwiZXZfcV8wMDMiLCJhcmdfMDEyIiwiYm5kc18wMDIiLCJhcmdfMDEwIiwiYm5kc18wMDIkMCIsImFyZ18wMDgiLCJibmRzXzAwMiQxIiwiYXJnXzAwNiIsImJuZHNfMDAyJDIiLCJhcmdfMDA0IiwiYm5kc18wMDIkMyIsImNyZWF0ZSIsIm1heHNpemUiLCJldl9xIiwibXV0ZXgiLCJub3RfZW1wdHkiLCJub3RfZnVsbCIsImZpbmFsbHkkMCIsInQiLCJsZW4iLCJ3cmFwIiwicSIsInJ1biIsImNsZWFyIiwid2FpdF9ub3RfZnVsbCIsInB1c2giLCJ4IiwicHVzaF91bmNvbmQiLCJwdXNoX29yX2Ryb3AiLCJsZW5ndGgiLCJwb3AiLCJscG9wIiwiZWwiLCJ0cmFuc2Zlcl9xdWV1ZV9pbl91bmNvbmQiLCJpbl9xIiwidHJhbnNmZXJfcXVldWVfaW4iLCJ0cmFuc2Zlcl9xdWV1ZV9ub3dhaXRfbm9sb2NrIiwic3EiLCJ0cmFuc2Zlcl9xdWV1ZV9ub3dhaXQiLCJ0cmFuc2Zlcl9xdWV1ZSIsIndhaXRfbm90X2VtcHR5Il0sInNvdXJjZXMiOlsiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvY29yZV91bml4L3NxdWV1ZS9zcXVldWVfXy5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2NvcmVfdW5peC9zcXVldWUvc3F1ZXVlLm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0dBS2tCOztJQUFBOzs7O0U7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFOzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztH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Q04sSUFETUEsS0FBUixPQVZFRCw2QkFVTUMsSUFEWWhCLEdBR2U7SUFFbkMsT0E3R0VELEtBd0dlaUIsSUFDYmY7R0FJTztZQUlUa0IsZUFBZUg7YUFDYmYsSUFBSWUsSUFBSyxXQUFMQSxJQUFzQjtJQUM5QixPQW5IRWpCLEtBaUhlaUIsSUFDYmY7R0FDTzs7Ozs7Ozs7T0EzSWI1QjtPQVNJaUI7T0FzQ0FjO09BU0FFO09BT0FDO09BWUFDO09BT0FDO09BVUFDO09BaUJBSTtPQVBBRjtPQTBCQU07T0FQQUQ7T0E1RkFmO09BNEdBaUI7OztFIiwic291cmNlc0NvbnRlbnQiOlsiKCogZ2VuZXJhdGVkIGJ5IGR1bmUgKilcblxuKCoqIEBjYW5vbmljYWwgU3F1ZXVlLkltcG9ydCAqKVxubW9kdWxlIEltcG9ydCA9IFNxdWV1ZV9fSW1wb3J0XG5cbm1vZHVsZSBTcXVldWVfXyA9IHN0cnVjdCBlbmRcbltAQGRlcHJlY2F0ZWQgXCJ0aGlzIG1vZHVsZSBpcyBzaGFkb3dlZFwiXVxuIiwib3BlbiEgQ29yZVxub3BlbiEgSW1wb3J0XG5tb2R1bGUgTXV0ZXggPSBFcnJvcl9jaGVja2luZ19tdXRleFxubW9kdWxlIFF1ZXVlID0gTGlua2VkX3F1ZXVlXG5cbigqKiBTeW5jaHJvbml6ZWQgcXVldWUgdHlwZSAqKVxudHlwZSAnYSB0ID1cbiAgeyBldl9xIDogJ2EgUXVldWUudFxuICA7IG1heHNpemUgOiBpbnRcbiAgOyBtdXRleCA6IChNdXRleC50W0BzZXhwLm9wYXF1ZV0pXG4gIDsgbm90X2VtcHR5IDogKENvbmRpdGlvbi50W0BzZXhwLm9wYXF1ZV0pXG4gIDsgbm90X2Z1bGwgOiAoQ29uZGl0aW9uLnRbQHNleHAub3BhcXVlXSlcbiAgfVxuW0BAZGVyaXZpbmcgc2V4cF9vZl1cblxubGV0IGNyZWF0ZSBtYXhzaXplID1cbiAgbGV0IGV2X3EgPSBRdWV1ZS5jcmVhdGUgKCkgaW5cbiAgbGV0IG11dGV4ID0gTXV0ZXguY3JlYXRlICgpIGluXG4gIGxldCBub3RfZW1wdHkgPSBDb25kaXRpb24uY3JlYXRlICgpIGluXG4gIGxldCBub3RfZnVsbCA9IENvbmRpdGlvbi5jcmVhdGUgKCkgaW5cbiAgeyBldl9xOyBtdXRleDsgbm90X2VtcHR5OyBub3RfZnVsbDsgbWF4c2l6ZSB9XG47O1xuXG5sZXQgZmluYWxseSB0ID1cbiAgbGV0IGxlbiA9IFF1ZXVlLmxlbmd0aCB0LmV2X3EgaW5cbiAgaWYgbGVuIDw+IDAgdGhlbiBDb25kaXRpb24uc2lnbmFsIHQubm90X2VtcHR5O1xuICBpZiBsZW4gPCB0Lm1heHNpemUgdGhlbiBDb25kaXRpb24uc2lnbmFsIHQubm90X2Z1bGw7XG4gIE11dGV4LnVubG9jayB0Lm11dGV4XG47O1xuXG5sZXQgd3JhcCBxIHJ1biA9XG4gIE11dGV4LmxvY2sgcS5tdXRleDtcbiAgRXhuLnByb3RlY3R4IH5mOnJ1biBxIH5maW5hbGx5XG47O1xuXG5sZXQgY2xlYXIgcSA9XG4gIGxldCBydW4gcSA9IFF1ZXVlLmNsZWFyIHEuZXZfcSBpblxuICB3cmFwIHEgcnVuXG47O1xuXG5sZXQgd2FpdF9ub3RfZnVsbCBxID1cbiAgd2hpbGUgUXVldWUubGVuZ3RoIHEuZXZfcSA+PSBxLm1heHNpemUgZG9cbiAgICBDb25kaXRpb24ud2FpdCBxLm5vdF9mdWxsIHEubXV0ZXhcbiAgZG9uZVxuOztcblxubGV0IHdhaXRfbm90X2VtcHR5IHEgPVxuICB3aGlsZSBRdWV1ZS5pc19lbXB0eSBxLmV2X3EgZG9cbiAgICBDb25kaXRpb24ud2FpdCBxLm5vdF9lbXB0eSBxLm11dGV4XG4gIGRvbmVcbjs7XG5cbigqKiBQdXNoZXMgYW4gZXZlbnQgb24gdGhlIHF1ZXVlIGlmIHRoZXJlJ3Mgcm9vbSAqKVxubGV0IHB1c2ggcSB4ID1cbiAgbGV0IHJ1biBxID1cbiAgICB3YWl0X25vdF9mdWxsIHE7XG4gICAgUXVldWUuZW5xdWV1ZSBxLmV2X3EgeFxuICBpblxuICB3cmFwIHEgcnVuXG47O1xuXG4oKiogUHVzaGVzIGFuIGV2ZW50IG9uIHRoZSBxdWV1ZSwgdW5jb25kaXRpb25hbGx5LCBtYXkgZ3JvdyB0aGUgcXVldWUgcGFzdCBtYXhzaXplICopXG5sZXQgcHVzaF91bmNvbmQgcSB4ID1cbiAgbGV0IHJ1biBxID0gUXVldWUuZW5xdWV1ZSBxLmV2X3EgeCBpblxuICB3cmFwIHEgcnVuXG47O1xuXG4oKiogUHVzaGVzIGFuIGV2ZW50IG9uIHRoZSBxdWV1ZSBpZiB0aGUgcXVldWUgaXMgbGVzcyB0aGFuIG1heHNpemUsIG90aGVyd2lzZSBkcm9wcyBpdC5cbiAgICBSZXR1cm5zIHRydWUgaWYgdGhlIHB1c2ggd2FzIHN1Y2Nlc3NmdWwgKilcbmxldCBwdXNoX29yX2Ryb3AgcSB4ID1cbiAgbGV0IHJ1biBxID1cbiAgICBpZiBRdWV1ZS5sZW5ndGggcS5ldl9xIDwgcS5tYXhzaXplXG4gICAgdGhlbiAoXG4gICAgICBRdWV1ZS5lbnF1ZXVlIHEuZXZfcSB4O1xuICAgICAgdHJ1ZSlcbiAgICBlbHNlIGZhbHNlXG4gIGluXG4gIHdyYXAgcSBydW5cbjs7XG5cbigqKiBjb21wdXRlcyB0aGUgbGVuZ3RoIG9mIHRoZSBxdWV1ZSAqKVxubGV0IGxlbmd0aCBxID1cbiAgbGV0IHJ1biBxID0gUXVldWUubGVuZ3RoIHEuZXZfcSBpblxuICB3cmFwIHEgcnVuXG47O1xuXG4oKiogUG9wcyBhbiBldmVudCBvZmYgb2YgdGhlIHF1ZXVlLCBibG9ja2luZyB1bnRpbFxuICAgIHNvbWV0aGluZyBpcyBhdmFpbGFibGUgKilcbmxldCBwb3AgcSA9XG4gIGxldCBydW4gcSA9XG4gICAgd2FpdF9ub3RfZW1wdHkgcTtcbiAgICBRdWV1ZS5kZXF1ZXVlX2V4biBxLmV2X3FcbiAgaW5cbiAgd3JhcCBxIHJ1blxuOztcblxuKCoqIFBvcHMgYW4gZXZlbnQgb2ZmIG9mIHRoZSBxdWV1ZSwgYmxvY2tpbmcgdW50aWwgc29tZXRoaW5nIGlzIGF2YWlsYWJsZS5cbiAgICBSZXR1cm5zIHBhaXIgb2YgdGhlIGVsZW1lbnQgZm91bmQgYW5kIHRoZSBsZW5ndGggb2YgcmVtYWluaW5nIHF1ZXVlICopXG5sZXQgbHBvcCBxID1cbiAgbGV0IHJ1biBxID1cbiAgICB3YWl0X25vdF9lbXB0eSBxO1xuICAgIGxldCBlbCA9IFF1ZXVlLmRlcXVldWVfZXhuIHEuZXZfcSBpblxuICAgIGxldCBsZW4gPSBRdWV1ZS5sZW5ndGggcS5ldl9xIGluXG4gICAgZWwsIGxlblxuICBpblxuICB3cmFwIHEgcnVuXG47O1xuXG5sZXQgdHJhbnNmZXJfcXVldWVfaW5fdW5jb25kIHEgaW5fcSA9XG4gIGlmIG5vdCAoUXVldWUuaXNfZW1wdHkgaW5fcSlcbiAgdGhlbiAoXG4gICAgbGV0IHJ1biBxID0gUXVldWUudHJhbnNmZXIgfnNyYzppbl9xIH5kc3Q6cS5ldl9xIGluXG4gICAgd3JhcCBxIHJ1bilcbjs7XG5cbmxldCB0cmFuc2Zlcl9xdWV1ZV9pbiBxIGluX3EgPVxuICBpZiBub3QgKFF1ZXVlLmlzX2VtcHR5IGluX3EpXG4gIHRoZW4gKFxuICAgIGxldCBydW4gcSA9XG4gICAgICB3YWl0X25vdF9mdWxsIHE7XG4gICAgICBRdWV1ZS50cmFuc2ZlciB+c3JjOmluX3EgfmRzdDpxLmV2X3FcbiAgICBpblxuICAgIHdyYXAgcSBydW4pXG47O1xuXG5sZXQgdHJhbnNmZXJfcXVldWVfbm93YWl0X25vbG9jayBzcSBxID0gUXVldWUudHJhbnNmZXIgfnNyYzpzcS5ldl9xIH5kc3Q6cVxuXG5sZXQgdHJhbnNmZXJfcXVldWVfbm93YWl0IHNxIHEgPVxuICBpZiBub3QgKFF1ZXVlLmlzX2VtcHR5IHNxLmV2X3EpXG4gIHRoZW4gKFxuICAgIGxldCBydW4gc3EgPSB0cmFuc2Zlcl9xdWV1ZV9ub3dhaXRfbm9sb2NrIHNxIHEgaW5cbiAgICB3cmFwIHNxIHJ1bilcbjs7XG5cbmxldCB0cmFuc2Zlcl9xdWV1ZSBzcSBxID1cbiAgbGV0IHJ1biBzcSA9XG4gICAgd2FpdF9ub3RfZW1wdHkgc3E7XG4gICAgdHJhbnNmZXJfcXVldWVfbm93YWl0X25vbG9jayBzcSBxXG4gIGluXG4gIHdyYXAgc3EgcnVuXG47O1xuXG4oKiBUaGUgZXh0ZXJuYWwgdmVyc2lvbiBvZiB3YWl0X25vdF9lbXB0eSAqKVxubGV0IHdhaXRfbm90X2VtcHR5IHNxID1cbiAgbGV0IHJ1biBzcSA9IHdhaXRfbm90X2VtcHR5IHNxIGluXG4gIHdyYXAgc3EgcnVuXG47O1xuIl19
