// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Bonsai_web_ui_element_size_hoo = [0],
    Bonsai_web_ui_element_size_hoo$0 = [0, Bonsai_web_ui_element_size_hoo];
   runtime.caml_register_global
    (0,
     Bonsai_web_ui_element_size_hoo$0,
     "Bonsai_web_ui_element_size_hooks__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Import
//# unitInfo: Requires: Core, Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst = "",
    cst_fpx = "%fpx",
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Import",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_px = "px",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Core = global_data.Core,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_expect_runtime[1][1], "web_ui/element_size_hooks/src/import.ml");
   caml_call2
    (Ppx_inline_test_lib[6], cst_bonsai_web_ui_element_size$0, "import.ml");
   var
    _b_ = [0, [8, [0, 0, 0], 0, 0, [11, cst_px, 0]], cst_fpx],
    _a_ = [0, [8, [0, 0, 0], 0, 0, [11, cst_px, 0]], cst_fpx],
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function cancel_animation_frame(id){
    return Js_of_ocaml_Dom_html[8].cancelAnimationFrame(id);
   }
   function request_animation_frame(f){
    return Js_of_ocaml_Dom_html[8].requestAnimationFrame
            (runtime.caml_js_wrap_callback(f));
   }
   function add_event_listener(opt, _c_, element, event, f){
    if(opt) var sth = opt[1], use_capture = sth; else var use_capture = 0;
    if(_c_)
     var sth$0 = _c_[1], prevent_default = sth$0;
    else
     var prevent_default = 0;
    var _d_ = ! ! use_capture;
    function _e_(element, event){
     caml_call2(f, element, event);
     return ! ! prevent_default;
    }
    var _f_ = caml_call1(Js_of_ocaml_Dom[11], _e_);
    return caml_call4(Js_of_ocaml_Dom_html[17], element, event, _f_, _d_);
   }
   function set_width(element, x){
    var
     t5 = caml_jsstring_of_string(caml_call2(Core[265], _a_, x)),
     t6 = element.style;
    return t6.width = t5;
   }
   function set_height(element, x){
    var
     t8 = caml_jsstring_of_string(caml_call2(Core[265], _b_, x)),
     t9 = element.style;
    return t9.height = t8;
   }
   function reset_width(element){
    var t12 = element.style;
    return t12.width = cst;
   }
   function reset_height(element){
    var t15 = element.style;
    return t15.height = cst;
   }
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo =
      [0,
       cancel_animation_frame,
       request_animation_frame,
       add_event_listener,
       set_width,
       set_height,
       reset_width,
       reset_height];
   runtime.caml_register_global
    (28, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Visibility_tracker
//# unitInfo: Requires: Bonsai_web, CamlinternalLazy, Core, Js_of_ocaml__IntersectionObserver, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_record, Virtual_dom__Effect, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Visibility_tracker",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_max_x$0 = "max_x",
    cst_max_y$0 = "max_y",
    cst_min_x$0 = "min_x",
    cst_min_y$0 = "min_y",
    caml_obj_tag = runtime.caml_obj_tag,
    caml_string_notequal = runtime.caml_string_notequal,
    caml_update_dummy = runtime.caml_update_dummy;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    error_source_002 =
      "web_ui/element_size_hooks/src/visibility_tracker.ml.Bbox.t",
    Bonsai_web = global_data.Bonsai_web,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Core = global_data.Core,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Js_of_ocaml_IntersectionObserv =
      global_data.Js_of_ocaml__IntersectionObserver;
   global_data.Sexplib0__Sexp_conv;
   var
    Sexplib0_Sexp_conv_record = global_data.Sexplib0__Sexp_conv_record,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_expect_runtime[1][1],
     "web_ui/element_size_hooks/src/visibility_tracker.ml");
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size$0,
     "visibility_tracker.ml");
   var
    cst_bounds_change = "bounds-change",
    _e_ = [254, 0., 0., 0., 0.],
    _a_ = [0, cst_max_y$0],
    _b_ = [0, cst_min_y$0],
    _c_ = [0, cst_max_x$0],
    _d_ = [0, cst_min_x$0],
    cst_max_y = cst_max_y$0,
    cst_min_y = cst_min_y$0,
    cst_max_x = cst_max_x$0,
    cst_min_x = cst_min_x$0,
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function t_of_sexp(x_003){
    function _J_(param){
     var
      _M_ = param[2],
      _N_ = _M_[2],
      max_y = _N_[2][1],
      min_y = _N_[1],
      max_x = _M_[1],
      min_x = param[1];
     return [254, min_x, max_x, min_y, max_y];
    }
    var _K_ = 0;
    function _L_(param){
     return caml_string_notequal(param, cst_max_x$0)
             ? caml_string_notequal
                (param, cst_max_y$0)
               ? caml_string_notequal
                  (param, cst_min_x$0)
                 ? caml_string_notequal(param, cst_min_y$0) ? -1 : 2
                 : 0
               : 3
             : 1;
    }
    return caml_call6
            (Sexplib0_Sexp_conv_record[3],
             error_source_002,
             [0,
              cst_min_x,
              1,
              Core[368],
              [0,
               cst_max_x,
               1,
               Core[368],
               [0, cst_min_y, 1, Core[368], [0, cst_max_y, 1, Core[368], 0]]]],
             _L_,
             _K_,
             _J_,
             x_003);
   }
   function sexp_of_t(param){
    var
     max_y_011 = param[4],
     min_y_009 = param[3],
     max_x_007 = param[2],
     min_x_005 = param[1],
     arg_012 = caml_call1(Core[367], max_y_011),
     bnds_004 = [0, [1, [0, _a_, [0, arg_012, 0]]], 0],
     arg_010 = caml_call1(Core[367], min_y_009),
     bnds_004$0 = [0, [1, [0, _b_, [0, arg_010, 0]]], bnds_004],
     arg_008 = caml_call1(Core[367], max_x_007),
     bnds_004$1 = [0, [1, [0, _c_, [0, arg_008, 0]]], bnds_004$0],
     arg_006 = caml_call1(Core[367], min_x_005),
     bnds_004$2 = [0, [1, [0, _d_, [0, arg_006, 0]]], bnds_004$1];
    return [1, bnds_004$2];
   }
   function equal(a_013, b_014){
    if(a_013 === b_014) return 1;
    var _F_ = caml_call2(Core[362], a_013[1], b_014[1]);
    if(_F_){
     var _G_ = caml_call2(Core[362], a_013[2], b_014[2]);
     if(_G_){
      var _H_ = caml_call2(Core[362], a_013[3], b_014[3]);
      if(_H_) return caml_call2(Core[362], a_013[4], b_014[4]);
      var _I_ = _H_;
     }
     else
      var _I_ = _G_;
    }
    else
     var _I_ = _F_;
    return _I_;
   }
   function of_client_rect(box){
    return [254, box.left, box.right, box.top, box.bottom];
   }
   function width(t){return t[2] - t[1];}
   function height(t){return t[4] - t[3];}
   var sexp_of_t$0 = Core[149];
   function combine(param, _A_){
    var
     visible_rect_changed_right = _A_[2],
     client_rect_changed_right = _A_[1],
     visible_rect_changed_left = param[2],
     client_rect_changed_left = param[1];
    function client_rect_changed(bbox){
     function _D_(param){return caml_call1(client_rect_changed_right, bbox);}
     var _E_ = caml_call1(client_rect_changed_left, bbox);
     return caml_call2(Virtual_dom_Effect[21], _E_, _D_);
    }
    function visible_rect_changed(bbox){
     function _B_(param){return caml_call1(visible_rect_changed_right, bbox);}
     var _C_ = caml_call1(visible_rect_changed_left, bbox);
     return caml_call2(Virtual_dom_Effect[21], _C_, _B_);
    }
    return [0, client_rect_changed, visible_rect_changed];
   }
   var include = [0, sexp_of_t$0, combine];
   function init(callback, element){
    var
     state = [],
     observer = [],
     process = function _z_(_y_){return _z_.fun(_y_);};
    caml_update_dummy
     (state,
      [246,
       function(_v_){
        var _w_ = caml_obj_tag(observer);
        a:
        if(250 === _w_)
         var _x_ = observer[1];
        else{
         if(246 !== _w_ && 244 !== _w_){var _x_ = observer; break a;}
         var _x_ = caml_call1(CamlinternalLazy[2], observer);
        }
        return [0, callback, [0, _e_, 0], 1, _x_];
       }]);
    caml_update_dummy
     (observer,
      [246,
       function(param){
        var
         _q_ = caml_call1(Js_of_ocaml_IntersectionObserv[1], 0),
         _r_ =
           runtime.caml_js_wrap_callback
            (function(entries, observer){
              var _t_ = entries.length - 1 | 0, _s_ = 0;
              if(_t_ >= 0){
               var i = _s_;
               for(;;){
                var entry = caml_call2(Js_of_ocaml_Js[20], entries, i);
                caml_call2(Js_of_ocaml_Js[6][6], entry, process);
                var _u_ = i + 1 | 0;
                if(_t_ === i) break;
                var i = _u_;
               }
              }
              observer.unobserve(element);
              return observer.observe(element);
             });
        return new Js_of_ocaml_IntersectionObserv[3](_r_, _q_);
       }]);
    caml_update_dummy
     (process,
      function(entry){
       var client_rect = of_client_rect(entry.boundingClientRect);
       if(entry.isIntersecting | 0)
        var
         bbox = of_client_rect(entry.intersectionRect),
         intersection_rect =
           [0,
            [254,
             bbox[1] - client_rect[1],
             bbox[2] - client_rect[1],
             bbox[3] - client_rect[3],
             bbox[4] - client_rect[3]]];
       else
        var intersection_rect = 0;
       var _i_ = caml_obj_tag(state);
       a:
       if(250 === _i_)
        var state$0 = state[1];
       else{
        if(246 !== _i_ && 244 !== _i_){var state$0 = state; break a;}
        var state$0 = caml_call1(CamlinternalLazy[2], state);
       }
       var _j_ = state$0[3];
       if(_j_)
        var _k_ = _j_;
       else
        var
         b_037 = state$0[2][2],
         _p_ = function(a_038, b_039){return equal(a_038, b_039);},
         _k_ = 1 - caml_call3(Core[511], _p_, intersection_rect, b_037);
       if(_k_){
        var _l_ = caml_call1(state$0[1][2], intersection_rect);
        caml_call1(Bonsai_web[5][23][2], _l_);
        state$0[2][2] = intersection_rect;
       }
       var _m_ = state$0[3];
       if(_m_)
        var _n_ = _m_;
       else
        var b_041 = state$0[2][1], _n_ = 1 - equal(client_rect, b_041);
       if(_n_){
        var _o_ = caml_call1(state$0[1][1], client_rect);
        caml_call1(Bonsai_web[5][23][2], _o_);
        state$0[2][1] = client_rect;
       }
       state$0[3] = 0;
       return 0;
      });
    var _h_ = caml_obj_tag(state);
    a:
    if(250 === _h_)
     var state$0 = state[1];
    else{
     if(246 !== _h_ && 244 !== _h_){var state$0 = state; break a;}
     var state$0 = caml_call1(CamlinternalLazy[2], state);
    }
    state$0[4].observe(element);
    return state$0;
   }
   var on_mount = 327963705;
   function update(param, callback, state, element){state[3] = 1; state[1] = callback; return 0;
   }
   function destroy(input, state, element){return state[4].disconnect();}
   var
    Hook =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, [0], include, init, on_mount, update, destroy]);
   function detect(opt, _f_, param){
    if(opt)
     var sth = opt[1], client_rect_changed = sth;
    else
     var client_rect_changed = function(param){return Bonsai_web[5][1];};
    if(_f_)
     var sth$0 = _f_[1], visible_rect_changed = sth$0;
    else
     var visible_rect_changed = function(param){return Bonsai_web[5][1];};
    var
     _g_ = caml_call1(Hook[1], [0, client_rect_changed, visible_rect_changed]);
    return caml_call2(Virtual_dom_Vdom[1][7], cst_bounds_change, _g_);
   }
   var type_id = Hook[2][1];
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo =
      [0,
       [0, t_of_sexp, sexp_of_t, equal, width, height],
       detect,
       [0, type_id]];
   runtime.caml_register_global
    (59, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Size_tracker
//# unitInfo: Requires: Base__Option, Core__Option, Js_of_ocaml__Js, Js_of_ocaml__ResizeObserver, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Virtual_dom__Effect, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Size_tracker",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Core_Option = global_data.Core__Option,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Base_Option = global_data.Base__Option,
    Js_of_ocaml_ResizeObserver = global_data.Js_of_ocaml__ResizeObserver,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_expect_runtime[1][1],
     "web_ui/element_size_hooks/src/size_tracker.ml");
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size$0,
     "size_tracker.ml");
   var
    Dimensions = [0],
    State = [0],
    cst_size_tracker = "size_tracker",
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function sexp_of_t(param){
    function _u_(_v_){return 0;}
    return caml_call1(Sexplib0_Sexp_conv[24], _u_);
   }
   function combine(left, right, dimensions){
    function _s_(param){return caml_call1(right, dimensions);}
    var _t_ = caml_call1(left, dimensions);
    return caml_call2(Virtual_dom_Effect[21], _t_, _s_);
   }
   var Input = [0, sexp_of_t, combine];
   function wrap_with_handle(width, height, f){
    var _r_ = caml_call1(f, [254, width, height]);
    return caml_call1(Virtual_dom_Effect[23][2], _r_);
   }
   function init(input, param){
    var _m_ = 0., _n_ = 0., _o_ = 0;
    return [0,
            function(_p_){
             return function(_q_){return wrap_with_handle(_p_, _q_, input);};
            },
            _o_,
            _n_,
            _m_];
   }
   var
    on_mount =
      [0,
       -970641302,
       function(param, state, element){
        function on_resize_observed(entries, observer){
         function _f_(first_entry){
          var border_box_arr = first_entry.borderBoxSize;
          function _j_(border_box){
           return [0, border_box.inlineSize, border_box.blockSize];
          }
          var
           _k_ = caml_call2(Js_of_ocaml_Js[20], border_box_arr, 0),
           _l_ = caml_call1(Js_of_ocaml_Js[6][10], _k_);
          return caml_call2(Base_Option[29][4][3], _l_, _j_);
         }
         var
          _g_ = caml_call2(Js_of_ocaml_Js[20], entries, 0),
          _h_ = caml_call1(Js_of_ocaml_Js[6][10], _g_),
          size = caml_call2(Base_Option[29][4][2], _h_, _f_);
         function _i_(param){
          var height = param[2], width = param[1];
          state[3] = width;
          state[4] = height;
          return caml_call2(state[1], width, height);
         }
         return caml_call2(Core_Option[46], size, _i_);
        }
        state[2] =
         [0,
          caml_call4
           (Js_of_ocaml_ResizeObserver[4], element, on_resize_observed, 0, 0)];
        return 0;
       }];
   function update(old_input, new_input, state, param){
    return old_input === new_input
            ? 0
            : (state
               [1]
              =
               function(_d_){
                return function(_e_){
                 return wrap_with_handle(_d_, _e_, new_input);};
               },
              caml_call2(state[1], state[3], state[4]));
   }
   function destroy(param, state, _b_){
    function _c_(observer){return observer.disconnect();}
    return caml_call2(Core_Option[46], state[2], _c_);
   }
   var
    Hook =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, State, Input, init, on_mount, update, destroy]);
   function on_change(f){
    function f$0(param){
     var height = param[2], width = param[1];
     return caml_call2(f, width, height);
    }
    var _a_ = caml_call1(Hook[1], f$0);
    return caml_call2(Virtual_dom_Vdom[1][7], cst_size_tracker, _a_);
   }
   var include = Hook[2], type_id = include[1];
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo = [0, on_change, [0, Dimensions, type_id]];
   runtime.caml_register_global
    (26, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Scroll_tracker
//# unitInfo: Requires: Base__Option, Core, Core__Option, Js_of_ocaml__Dom_html, Js_of_ocaml__Js, Js_of_ocaml__ResizeObserver, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error, Virtual_dom__Effect, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Scroll_tracker",
    cst_Both = "Both",
    cst_Horizontal = "Horizontal",
    cst_Neither = "Neither",
    cst_Vertical = "Vertical",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_both = "both",
    cst_horizontal = "horizontal",
    cst_neither = "neither",
    cst_vertical = "vertical",
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    error_source_003 =
      "web_ui/element_size_hooks/src/scroll_tracker.ml.Scrollable.t",
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Core_Option = global_data.Core__Option,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Base_Option = global_data.Base__Option,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Core = global_data.Core,
    Js_of_ocaml_ResizeObserver = global_data.Js_of_ocaml__ResizeObserver,
    Sexplib0_Sexp_conv_error = global_data.Sexplib0__Sexp_conv_error,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_expect_runtime[1][1],
     "web_ui/element_size_hooks/src/scroll_tracker.ml");
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size$0,
     "scroll_tracker.ml");
   var
    cst_scroll_tracker = "scroll_tracker",
    _a_ = [0, cst_Neither],
    _b_ = [0, cst_Vertical],
    _c_ = [0, cst_Horizontal],
    _d_ = [0, cst_Both],
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function t_of_sexp(sexp_004){
    a:
    {
     if(0 === sexp_004[0]){
      var _y_ = sexp_004[1];
      b:
      if(caml_string_notequal(_y_, cst_Both)){
       c:
       if(caml_string_notequal(_y_, cst_Horizontal)){
        d:
        if(caml_string_notequal(_y_, cst_Neither)){
         if(caml_string_notequal(_y_, cst_Vertical)){
          if(! caml_string_notequal(_y_, cst_both)) break b;
          if(! caml_string_notequal(_y_, cst_horizontal)) break c;
          if(! caml_string_notequal(_y_, cst_neither)) break d;
          if(caml_string_notequal(_y_, cst_vertical)) break a;
         }
         return 1;
        }
        return 0;
       }
       return 2;
      }
      return 3;
     }
     var _z_ = sexp_004[1];
     if(! _z_)
      return caml_call2
              (Sexplib0_Sexp_conv_error[11], error_source_003, sexp_004);
     var _A_ = _z_[1];
     if(0 !== _A_[0])
      return caml_call2
              (Sexplib0_Sexp_conv_error[10], error_source_003, sexp_004);
     var _B_ = _A_[1];
     b:
     if(caml_string_notequal(_B_, cst_Both)){
      c:
      if(caml_string_notequal(_B_, cst_Horizontal)){
       d:
       if(caml_string_notequal(_B_, cst_Neither)){
        if(caml_string_notequal(_B_, cst_Vertical)){
         if(! caml_string_notequal(_B_, cst_both)) break b;
         if(! caml_string_notequal(_B_, cst_horizontal)) break c;
         if(! caml_string_notequal(_B_, cst_neither)) break d;
         if(caml_string_notequal(_B_, cst_vertical)) break a;
        }
        return caml_call2
                (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
       }
       return caml_call2
               (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
      }
      return caml_call2
              (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
     }
     return caml_call2
             (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
    }
    return caml_call2
            (Sexplib0_Sexp_conv_error[12], error_source_003, sexp_004);
   }
   function sexp_of_t(param){
    switch(param){
      case 0:
       return _a_;
      case 1:
       return _b_;
      case 2:
       return _c_;
      default: return _d_;
    }
   }
   function equal(_x_, _w_){return _x_ === _w_ ? 1 : 0;}
   var Scrollable = [0, t_of_sexp, sexp_of_t, equal], State = [0];
   function sexp_of_t$0(param){
    function _u_(_v_){return 0;}
    return caml_call1(Sexplib0_Sexp_conv[24], _u_);
   }
   function combine(f, g, event){
    function _s_(param){return caml_call1(g, event);}
    var _t_ = caml_call1(f, event);
    return caml_call2(Virtual_dom_Effect[21], _t_, _s_);
   }
   var Input = [0, sexp_of_t$0, combine];
   function wrap_with_handle(scrollable, f){
    var _r_ = caml_call1(f, scrollable);
    return caml_call1(Virtual_dom_Effect[23][2], _r_);
   }
   function init(input, param){
    return [0, 0, 0, 0, function(_q_){return wrap_with_handle(_q_, input);}];
   }
   var
    on_mount =
      [0,
       -970641302,
       function(param, state, element){
        function _j_(parentNode){
         function _l_(parentElement){
          state[2] = [0, parentElement];
          function on_resize_observed(entries, observer){
           function _o_(target){
            var
             vertical =
               caml_call2(Core[91], target.scrollHeight, target.clientHeight),
             horizontal =
               caml_call2(Core[91], target.scrollWidth, target.clientWidth),
             _p_ = vertical ? horizontal ? 3 : 1 : horizontal ? 2 : 0;
            state[3] = _p_;
            return caml_call1(state[4], state[3]);
           }
           caml_call2(Base_Option[29][4][3], state[2], _o_);
           return 0;
          }
          var
           observer =
             caml_call4
              (Js_of_ocaml_ResizeObserver[4],
               element,
               on_resize_observed,
               0,
               0);
          observer.observe(parentNode);
          state[1] = [0, observer];
          return 0;
         }
         var
          _m_ = caml_call1(Js_of_ocaml_Dom_html[117][1], parentNode),
          _n_ = caml_call1(Js_of_ocaml_Js[5][10], _m_);
         return caml_call2(Base_Option[29][4][3], _n_, _l_);
        }
        var _k_ = caml_call1(Js_of_ocaml_Js[5][10], element.parentNode);
        caml_call2(Base_Option[29][4][2], _k_, _j_);
        return 0;
       }];
   function update(param, new_input, state, _h_){
    state[4] = function(_i_){return wrap_with_handle(_i_, new_input);};
    return caml_call1(state[4], state[3]);
   }
   function destroy(param, state, _f_){
    function _g_(observer){return observer.disconnect();}
    return caml_call2(Core_Option[46], state[1], _g_);
   }
   var
    Hook =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, State, Input, init, on_mount, update, destroy]);
   function on_change(f){
    var _e_ = caml_call1(Hook[1], f);
    return caml_call2(Virtual_dom_Vdom[1][7], cst_scroll_tracker, _e_);
   }
   var include = Hook[2], type_id = include[1], For_testing = [0, type_id];
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo = [0, Scrollable, on_change, For_testing];
   runtime.caml_register_global
    (51, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Freeze
//# unitInfo: Requires: Bonsai_web_ui_element_size_hooks__Import, Core__Option, Core__Unit, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_record, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Freeze",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv;
   global_data.Sexplib0__Sexp_conv_record;
   var
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Bonsai_web_ui_element_size_hoo =
      global_data.Bonsai_web_ui_element_size_hooks__Import,
    Core_Option = global_data.Core__Option,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_expect_runtime[1][1], "web_ui/element_size_hooks/src/freeze.ml");
   caml_call2
    (Ppx_inline_test_lib[6], cst_bonsai_web_ui_element_size$0, "freeze.ml");
   var
    _a_ = [0, "reset"],
    _b_ = [0, "set"],
    cst_freeze_width = "freeze_width",
    cst_freeze_height = "freeze_height",
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function set_width(element){
    var
     rect = element.getBoundingClientRect(),
     width = caml_call1(Js_of_ocaml_Js[6][10], rect.width),
     _n_ = caml_call1(Bonsai_web_ui_element_size_hoo[4], element);
    return caml_call2(Core_Option[46], width, _n_);
   }
   function set_height(element){
    var
     rect = element.getBoundingClientRect(),
     height = caml_call1(Js_of_ocaml_Js[6][10], rect.height),
     _m_ = caml_call1(Bonsai_web_ui_element_size_hoo[5], element);
    return caml_call2(Core_Option[46], height, _m_);
   }
   var
    reset_width = Bonsai_web_ui_element_size_hoo[6],
    reset_height = Bonsai_web_ui_element_size_hoo[7],
    Expert = [0, set_width, set_height, reset_width, reset_height];
   function sexp_of_t(param){
    var bnds_004 = 0;
    function _i_(_l_){return 0;}
    var
     arg_008 = caml_call1(Sexplib0_Sexp_conv[24], _i_),
     bnds_004$0 = [0, [1, [0, _a_, [0, arg_008, 0]]], bnds_004];
    function _j_(_k_){return 0;}
    var
     arg_006 = caml_call1(Sexplib0_Sexp_conv[24], _j_),
     bnds_004$1 = [0, [1, [0, _b_, [0, arg_006, 0]]], bnds_004$0];
    return [1, bnds_004$1];
   }
   function combine(left, right){
    function _h_(element){
     caml_call1(left[2], element);
     return caml_call1(right[2], element);
    }
    return [0,
            function(element){
             caml_call1(left[1], element);
             return caml_call1(right[1], element);
            },
            _h_];
   }
   function init(input, element){return 0;}
   var
    on_mount =
      [0,
       -970641302,
       function(param, _g_, element){
        var set = param[1];
        return caml_call1(set, element);
       }];
   function update(param, _f_, _e_, element){return 0;}
   function destroy(param, _d_, element){
    var reset = param[2];
    return caml_call1(reset, element);
   }
   var
    Hook =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, [0], [0, sexp_of_t, combine], init, on_mount, update, destroy]);
   function on_mount$0(name, set, reset){
    var _c_ = caml_call1(Hook[1], [0, set, reset]);
    return caml_call2(Virtual_dom_Vdom[1][7], name, _c_);
   }
   var
    width =
      on_mount$0
       (cst_freeze_width, Expert[1], Bonsai_web_ui_element_size_hoo[6]),
    height =
      on_mount$0
       (cst_freeze_height, Expert[2], Bonsai_web_ui_element_size_hoo[7]);
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var Bonsai_web_ui_element_size_hoo$0 = [0, width, height, Expert];
   runtime.caml_register_global
    (31, Bonsai_web_ui_element_size_hoo$0, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Resizer
//# unitInfo: Requires: Base__Option, Bonsai_web_ui_element_size_hooks__Freeze, Bonsai_web_ui_element_size_hooks__Import, Core__Comparable, Core__Float, Core__Fn, Core__Map, Core__Option, Js_of_ocaml__Dom_html, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ppx_string_runtime, Sexplib0__Sexp_conv_error, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Resizer",
    cst_Down = "Down",
    cst_Move = "Move",
    cst_Up = "Up",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_down = "down",
    cst_initial$1 = "initial",
    cst_move = "move",
    cst_up = "up",
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    error_source_003 =
      "web_ui/element_size_hooks/src/resizer.ml.Pointer_event.T.t",
    Bonsai_web_ui_element_size_hoo =
      global_data.Bonsai_web_ui_element_size_hooks__Import,
    Base_Option = global_data.Base__Option,
    Core_Float = global_data.Core__Float,
    Core_Option = global_data.Core__Option,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Bonsai_web_ui_element_size_hoo$0 =
      global_data.Bonsai_web_ui_element_size_hooks__Freeze,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Core_Map = global_data.Core__Map,
    Core_Fn = global_data.Core__Fn,
    Sexplib0_Sexp_conv_error = global_data.Sexplib0__Sexp_conv_error,
    Ppx_string_runtime = global_data.Ppx_string_runtime,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Core_Comparable = global_data.Core__Comparable,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_expect_runtime[1][1], "web_ui/element_size_hooks/src/resizer.ml");
   caml_call2
    (Ppx_inline_test_lib[6], cst_bonsai_web_ui_element_size$0, "resizer.ml");
   var
    cst_resizer = "resizer",
    cst_initial$0 = cst_initial$1,
    cst_col_resize = "col-resize",
    cst_initial = cst_initial$1,
    _d_ = [0, "Right"],
    _e_ = [0, "Left"],
    _a_ = [0, cst_Down],
    _b_ = [0, cst_Up],
    _c_ = [0, cst_Move],
    cst_important = " !important",
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function set_cursor(s){
    var
     _H_ = [0, s, [0, caml_call1(Ppx_string_runtime[1][2], cst_important), 0]],
     s$0 = caml_call1(Ppx_string_runtime[1][4], _H_),
     t3 = runtime.caml_jsstring_of_string(s$0),
     t0 = Js_of_ocaml_Dom_html[8],
     t1 = t0.document,
     t2 = t1.body,
     t4 = t2.style;
    return t4.cursor = t3;
   }
   function t_of_sexp(sexp_004){
    a:
    {
     if(0 === sexp_004[0]){
      var _D_ = sexp_004[1];
      b:
      if(caml_string_notequal(_D_, cst_Down)){
       c:
       if(caml_string_notequal(_D_, cst_Move)){
        if(caml_string_notequal(_D_, cst_Up)){
         if(! caml_string_notequal(_D_, cst_down)) break b;
         if(! caml_string_notequal(_D_, cst_move)) break c;
         if(caml_string_notequal(_D_, cst_up)) break a;
        }
        return 1;
       }
       return 2;
      }
      return 0;
     }
     var _E_ = sexp_004[1];
     if(! _E_)
      return caml_call2
              (Sexplib0_Sexp_conv_error[11], error_source_003, sexp_004);
     var _F_ = _E_[1];
     if(0 !== _F_[0])
      return caml_call2
              (Sexplib0_Sexp_conv_error[10], error_source_003, sexp_004);
     var _G_ = _F_[1];
     b:
     if(caml_string_notequal(_G_, cst_Down)){
      c:
      if(caml_string_notequal(_G_, cst_Move)){
       if(caml_string_notequal(_G_, cst_Up)){
        if(! caml_string_notequal(_G_, cst_down)) break b;
        if(! caml_string_notequal(_G_, cst_move)) break c;
        if(caml_string_notequal(_G_, cst_up)) break a;
       }
       return caml_call2
               (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
      }
      return caml_call2
              (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
     }
     return caml_call2
             (Sexplib0_Sexp_conv_error[7], error_source_003, sexp_004);
    }
    return caml_call2
            (Sexplib0_Sexp_conv_error[12], error_source_003, sexp_004);
   }
   function sexp_of_t(param){
    switch(param){case 0: return _a_;case 1: return _b_;default: return _c_;
    }
   }
   var
    compare = runtime.caml_int_compare,
    include =
      caml_call1(Core_Comparable[12], [0, compare, t_of_sexp, sexp_of_t]),
    Map = include[21];
   function sexp_of_t$0(param){return param ? _d_ : _e_;}
   function set_last_pointer_x(r, v){r[4] = v; return;}
   var _f_ = Core_Option[46], _g_ = Js_of_ocaml_Dom_html[18];
   function remove_event_listener(_C_){return caml_call2(_f_, _C_, _g_);}
   function on_pointer_event(state, element, f, event){
    remove_event_listener(caml_call2(Core_Map[44], state[1], event));
    switch(event){
      case 0:
       var _B_ = Js_of_ocaml_Dom_html[15][79]; break;
      case 1:
       var _B_ = Js_of_ocaml_Dom_html[15][84]; break;
      default: var _B_ = Js_of_ocaml_Dom_html[15][81];
    }
    var
     id = caml_call5(Bonsai_web_ui_element_size_hoo[3], 0, 0, element, _B_, f);
    state[1] = caml_call3(Core_Map[38], state[1], event, id);
    return;
   }
   function remove_pointer_event(state, event){
    return remove_event_listener(caml_call2(Core_Map[44], state[1], event));
   }
   function cancel_schedule(state){
    return caml_call1(Bonsai_web_ui_element_size_hoo[1], state[2]);
   }
   function schedule(state, f){
    cancel_schedule(state);
    state[2] = caml_call1(Bonsai_web_ui_element_size_hoo[2], f);
    return 0;
   }
   function clear_pointer_x(state){state[3] = 0; return;}
   function get_parent(element){
    function _y_(parent){
     var _A_ = caml_call1(Js_of_ocaml_Dom_html[117][1], parent);
     return caml_call1(Js_of_ocaml_Js[5][10], _A_);
    }
    var _z_ = caml_call1(Js_of_ocaml_Js[5][10], element.parentNode);
    return caml_call2(Base_Option[29][4][2], _z_, _y_);
   }
   function do_update_width(target, state){
    function _o_(pointer_x){
     function _p_(last_pointer_x){
      function _q_(target){
       function _s_(parent){
        var parent_rect = parent.getBoundingClientRect();
        function _u_(parent_width){
         function _w_(new_width){
          caml_call2(Bonsai_web_ui_element_size_hoo[4], parent, new_width);
          return caml_call1(Base_Option[29][1], 0);
         }
         var
          operation = state[5] ? Core_Float[78] : Core_Float[79],
          diff_x = pointer_x - last_pointer_x,
          proposed_width = caml_call2(operation, parent_width, diff_x),
          is_growing =
            caml_call2(Core_Float[129], proposed_width, parent_width),
          is_shrinking =
            caml_call2(Core_Float[130], proposed_width, parent_width);
         if(state[5])
          var
           parent_right = parent_rect.right,
           pointer_on_left =
             caml_call2(Core_Float[130], pointer_x, parent_right),
           pointer_on_right =
             caml_call2(Core_Float[129], pointer_x, parent_right),
           pointer_on_right$0 = is_growing ? pointer_on_right : is_growing,
           pointer_on_right$1 =
             pointer_on_right$0
             || (is_shrinking ? pointer_on_left : is_shrinking),
           should_accept = pointer_on_right$1;
         else
          var
           parent_left = parent_rect.left,
           pointer_on_left$0 =
             caml_call2(Core_Float[130], pointer_x, parent_left),
           pointer_on_right$2 =
             caml_call2(Core_Float[129], pointer_x, parent_left),
           pointer_on_left$1 = is_growing ? pointer_on_left$0 : is_growing,
           pointer_on_left$2 =
             pointer_on_left$1
             || (is_shrinking ? pointer_on_right$2 : is_shrinking),
           should_accept = pointer_on_left$2;
         var _x_ = caml_call2(Core_Option[60], should_accept, proposed_width);
         return caml_call2(Base_Option[29][4][2], _x_, _w_);
        }
        var _v_ = caml_call1(Js_of_ocaml_Js[6][10], parent_rect.width);
        return caml_call2(Base_Option[29][4][2], _v_, _u_);
       }
       var _t_ = get_parent(target);
       return caml_call2(Base_Option[29][4][2], _t_, _s_);
      }
      var _r_ = caml_call1(Js_of_ocaml_Js[5][10], target);
      return caml_call2(Base_Option[29][4][2], _r_, _q_);
     }
     var temp = state[4];
     set_last_pointer_x(state, [0, pointer_x]);
     return caml_call2(Base_Option[29][4][2], temp, _p_);
    }
    caml_call2(Base_Option[29][4][2], state[3], _o_);
    clear_pointer_x(state);
    return schedule
            (state, function(param){return do_update_width(target, state);});
   }
   function combine(first, second){return first;}
   var Input = [0, sexp_of_t$0, combine];
   function init(side, element){
    var
     _m_ = caml_call1(Core_Fn[1], 0),
     animation_id = caml_call1(Bonsai_web_ui_element_size_hoo[2], _m_),
     state = [0, Map[5], animation_id, 0, 0, side];
    function on_pointer_move(param, event){
     var x = caml_call1(Core_Float[33], event.clientX);
     state[3] = [0, x];
     return 0;
    }
    function on_pointer_up(param, _n_){
     set_cursor(cst_initial);
     state[4] = 0;
     clear_pointer_x(state);
     remove_pointer_event(state, 2);
     remove_pointer_event(state, 1);
     return cancel_schedule(state);
    }
    function on_pointer_down(param, event){
     var target = event.currentTarget, clientX = event.clientX;
     set_last_pointer_x(state, [0, caml_call1(Core_Float[33], clientX)]);
     on_pointer_event(state, Js_of_ocaml_Dom_html[2], on_pointer_move, 2);
     on_pointer_event(state, Js_of_ocaml_Dom_html[2], on_pointer_up, 1);
     schedule(state, function(param){return do_update_width(target, state);});
     return set_cursor(cst_col_resize);
    }
    on_pointer_event(state, element, on_pointer_down, 0);
    return state;
   }
   var
    on_mount =
      [0,
       -970641302,
       function(init, state, element){
        var
         _k_ = Bonsai_web_ui_element_size_hoo$0[3][1],
         _l_ = get_parent(element);
        return caml_call2(Core_Option[46], _l_, _k_);
       }];
   function update(param, new_input, state, element){state[5] = new_input; return 0;
   }
   function destroy(input, state, element){
    set_cursor(cst_initial$0);
    var
     _i_ = Bonsai_web_ui_element_size_hoo$0[3][3],
     _j_ = get_parent(element);
    caml_call2(Core_Option[46], _j_, _i_);
    var listeners = state[1], animation_id = state[2];
    caml_call2(Core_Map[50], listeners, Js_of_ocaml_Dom_html[18]);
    return caml_call1(Bonsai_web_ui_element_size_hoo[1], animation_id);
   }
   var
    Hook =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, [0], Input, init, on_mount, update, destroy]);
   function attr(side){
    var _h_ = caml_call1(Hook[1], side);
    return caml_call2(Virtual_dom_Vdom[1][7], cst_resizer, _h_);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var Bonsai_web_ui_element_size_hoo$1 = [0, [0], attr];
   runtime.caml_register_global
    (65, Bonsai_web_ui_element_size_hoo$1, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Resize_to_fit
//# unitInfo: Requires: Core, Core__Float, Core__Option, Css_gen, Js_of_ocaml__Js, Js_of_ocaml__ResizeObserver, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ppx_string_runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error, Virtual_dom__Dom_float, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Resize_to_fit",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_web_ui_element_size_hooks_$0 =
      "web_ui/element_size_hooks/src/resize_to_fit.ml",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    cst = ")",
    Css_gen = global_data.Css_gen,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Core_Option = global_data.Core__Option,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Core = global_data.Core,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Assert_failure = global_data.Assert_failure,
    Js_of_ocaml_ResizeObserver = global_data.Js_of_ocaml__ResizeObserver,
    Core_Float = global_data.Core__Float,
    Ppx_string_runtime = global_data.Ppx_string_runtime,
    Virtual_dom_Dom_float = global_data.Virtual_dom__Dom_float;
   global_data.Sexplib0__Sexp_conv_error;
   var
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_web_ui_element_size_hooks_$0);
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size$0,
     "resize_to_fit.ml");
   var
    _g_ = [0, [0, 17960, 0]],
    _h_ = [0, [0, 17960, 0]],
    _i_ = [0, [0, 17960, 0]],
    _j_ = [0, [0, 17960, 0]],
    cst_left_top = "left top",
    cst_transform_origin = "transform-origin",
    cst_grow_to_fill = "grow_to_fill",
    cst_parent_should_always_be_se =
      "parent should always be set in [on_mount]",
    cst_web_ui_element_size_hooks_ =
      "web_ui/element_size_hooks/src/resize_to_fit.ml:138:33",
    cst_BUG = "BUG",
    _e_ = [254, 0., 0.],
    _f_ = [254, 0., 0.],
    _d_ = [0, cst_web_ui_element_size_hooks_$0, 96, 70],
    cst_scale = "scale(",
    _a_ = [0, "Grow_to_fill"],
    _b_ = [0, "Shrink_to_avoid_overflow"],
    _c_ = [0, "Grow_or_shrink_to_match_parent_size"],
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function sexp_of_t(param){
    switch(param){case 0: return _a_;case 1: return _b_;default: return _c_;
    }
   }
   function combine(a, b){
    switch(a){
      case 0:
       if(0 === b) return 0; break;
      case 1:
       if(1 === b) return 1; break;
    }
    return 2;
   }
   var State = [0];
   function set_width_property(state){
    if(state[4]){
     var t3 = state[5], t5 = t3.style;
     t5.width = "max-content";
     return;
    }
    var t0 = state[5], t2 = t0.style;
    t2.width = "fit-content";
    return;
   }
   function adjust(state){
    function set_scale(scale){
     var
      _L_ = [0, caml_call1(Ppx_string_runtime[1][2], cst), 0],
      _M_ = [0, caml_call1(Virtual_dom_Dom_float[5], scale), _L_],
      _N_ = [0, caml_call1(Ppx_string_runtime[1][2], cst_scale), _M_],
      t7 =
        runtime.caml_jsstring_of_string
         (caml_call1(Ppx_string_runtime[1][4], _N_)),
      t6 = state[5],
      t8 = t6.style;
     return t8.transform = t7;
    }
    function lte_zero(f){return caml_call2(Core_Float[127], f, 0.);}
    if
     (!
      lte_zero(state[2][1])
      &&
       !
       lte_zero(state[2][2])
       && ! lte_zero(state[3][1]) && ! lte_zero(state[3][2])){
     var
      width_rat = state[3][1] / state[2][1],
      height_rat = state[3][2] / state[2][2],
      param = state[4],
      v = caml_call2(Core_Float[134], width_rat, height_rat);
     switch(param){
       case 0:
        var scale = caml_call2(Core_Float[135], v, 1.); break;
       case 1:
        var scale = caml_call2(Core_Float[134], v, 1.); break;
       default: var scale = v;
     }
     return set_scale(scale);
    }
    return set_scale(1.);
   }
   function with_size(box_array, f){
    function _I_(box){
     return caml_call1(f, [254, box.inlineSize, box.blockSize]);
    }
    function _J_(param){return 0;}
    var _K_ = caml_call2(Js_of_ocaml_Js[20], box_array, 0);
    return caml_call3(Js_of_ocaml_Js[6][7], _K_, _J_, _I_);
   }
   function init(input, element){
    var state = [0, 0, _f_, _e_, input, element];
    set_width_property(state);
    return state;
   }
   var
    on_mount =
      [0,
       -970641302,
       function(input, state, element){
        function _w_(parent){
         function on_resize_observed(entries, observer){
          var _C_ = entries.length - 1 | 0, _B_ = 0;
          if(_C_ >= 0){
           var i = _B_;
           for(;;){
            var
             _D_ =
               function(param){
                throw caml_maybe_attach_backtrace([0, Assert_failure, _d_], 1);
               },
             _E_ = caml_call2(Js_of_ocaml_Js[20], entries, i),
             entry = caml_call2(Js_of_ocaml_Js[6][8], _E_, _D_);
            if(state[5] === entry.target){
             var _F_ = function(dims){state[2] = dims; return 0;};
             with_size(entry.borderBoxSize, _F_);
            }
            else if(parent === entry.target){
             var _H_ = function(dims){state[3] = dims; return 0;};
             with_size(entry.contentBoxSize, _H_);
            }
            var _G_ = i + 1 | 0;
            if(_C_ === i) break;
            var i = _G_;
           }
          }
          return adjust(state);
         }
         var
          obs =
            new
             Js_of_ocaml_ResizeObserver[2]
             (runtime.caml_js_wrap_callback(on_resize_observed));
         obs.observe(state[5]);
         obs.observe(parent);
         state[1] = [0, obs];
         return 0;
        }
        function _x_(param){
         var
          _y_ =
            [0,
             caml_call1(Sexplib0_Sexp_conv[7], cst_parent_should_always_be_se),
             0],
          _z_ =
            [0,
             caml_call1(Sexplib0_Sexp_conv[7], cst_web_ui_element_size_hooks_),
             _y_],
          _A_ = [1, [0, caml_call1(Sexplib0_Sexp_conv[7], cst_BUG), _z_]];
         return caml_call2(Core[257], 0, _A_);
        }
        var t22 = state[5];
        return caml_call3(Js_of_ocaml_Js[5][7], t22.parentNode, _x_, _w_);
       }];
   function update(old_input, new_input, state, element){
    old_input === new_input;
    state[4] = new_input;
    set_width_property(state);
    return adjust(state);
   }
   function destroy(old_input, state){
    var observer = state[1];
    return function(element){
     function _v_(observer){return observer.disconnect();}
     return caml_call2(Core_Option[46], observer, _v_);};
   }
   var
    Hook =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, State, [0, sexp_of_t, combine], init, on_mount, update, destroy]);
   function attr(opt, param){
    if(opt) var sth = opt[1], behavior = sth; else var behavior = 1;
    var
     _l_ = caml_call5(Css_gen[24], 0, 0, 0, 0, 260471020),
     _m_ = caml_call5(Css_gen[80], _j_, _i_, _h_, _g_, 0),
     _n_ = caml_call2(Css_gen[30], _m_, _l_),
     _o_ = caml_call1(Css_gen[36], -266363961),
     _p_ = caml_call2(Css_gen[30], _o_, _n_),
     _q_ = caml_call2(Css_gen[21], cst_transform_origin, cst_left_top),
     _r_ = caml_call2(Css_gen[30], _q_, _p_),
     _s_ = [0, caml_call1(Virtual_dom_Vdom[1][32], _r_), 0],
     _t_ = caml_call1(Hook[1], behavior),
     _u_ = [0, caml_call2(Virtual_dom_Vdom[1][7], cst_grow_to_fill, _t_), _s_];
    return caml_call1(Virtual_dom_Vdom[1][9], _u_);
   }
   var
    _k_ = caml_call1(Css_gen[38], 19559306),
    attr_for_parent_recommended = caml_call1(Virtual_dom_Vdom[1][32], _k_);
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo =
      [0, [0], attr, attr_for_parent_recommended];
   runtime.caml_register_global
    (78, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Position_tracker
//# unitInfo: Requires: Bonsai, Bonsai_web, Core, Core__List, Core__Map, Core__Option, Core__Type_equal, Core__Unit, Css_gen, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_record, Ui_effect, Univ_map, Virtual_dom__Effect, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Position_tracker",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_bulk_position_tracker$0 = "bulk_position_tracker",
    cst_height$0 = "height",
    cst_left$0 = "left",
    cst_top$0 = "top",
    cst_web_ui_element_size_hooks_ =
      "web_ui/element_size_hooks/src/position_tracker.ml",
    cst_width$0 = "width",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   function caml_call7(f, a0, a1, a2, a3, a4, a5, a6){
    return (f.l >= 0 ? f.l : f.l = f.length) == 7
            ? f(a0, a1, a2, a3, a4, a5, a6)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    error_source_002 =
      "web_ui/element_size_hooks/src/position_tracker.ml.Position.t",
    hook_name = cst_bulk_position_tracker$0,
    Ui_effect = global_data.Ui_effect,
    Core_Map = global_data.Core__Map,
    Core_List = global_data.Core__List,
    Core_Type_equal = global_data.Core__Type_equal,
    Bonsai = global_data.Bonsai,
    Bonsai_web = global_data.Bonsai_web,
    Css_gen = global_data.Css_gen,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Core = global_data.Core,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Core_Option = global_data.Core__Option,
    Assert_failure = global_data.Assert_failure,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Sexplib0_Sexp_conv_record = global_data.Sexplib0__Sexp_conv_record,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Univ_map = global_data.Univ_map,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_web_ui_element_size_hooks_);
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size$0,
     "position_tracker.ml");
   var
    cst_bulk_position_tracker_type = "bulk_position_tracker_type_id",
    _t_ = [0, [0, cst_web_ui_element_size_hooks_, 252, 7729, 7731]],
    _u_ = [0, [0, cst_web_ui_element_size_hooks_, 249, 7646, 7650]],
    _v_ = [0, [0, cst_web_ui_element_size_hooks_, 248, 7629, 7631]],
    _w_ = [0, [0, cst_web_ui_element_size_hooks_, 237, 7334, 7336]],
    _x_ = [0, [0, cst_web_ui_element_size_hooks_, 237, 7334, 7336]],
    _y_ = [0, [0, cst_web_ui_element_size_hooks_, 237, 7334, 7336]],
    _z_ = [0, [0, cst_web_ui_element_size_hooks_, 233, 7188, 7190]],
    _A_ = [0, [0, cst_web_ui_element_size_hooks_, 228, 7012, 7016]],
    _B_ = [0, [0, cst_web_ui_element_size_hooks_, 220, 6715, 6717]],
    _C_ = [0, [0, cst_web_ui_element_size_hooks_, 219, 6646, 6648]],
    _D_ = [0, [0, cst_web_ui_element_size_hooks_, 219, 6646, 6648]],
    _E_ = [0, [0, cst_web_ui_element_size_hooks_, 219, 6646, 6648]],
    _F_ = [0, [0, cst_web_ui_element_size_hooks_, 219, 6646, 6648]],
    _G_ = [0, [0, cst_web_ui_element_size_hooks_, 219, 6646, 6648]],
    _H_ = [0, [0, cst_web_ui_element_size_hooks_, 210, 6379, 6381]],
    _I_ = [0, [0, cst_web_ui_element_size_hooks_, 210, 6379, 6381]],
    _J_ = [0, [0, cst_web_ui_element_size_hooks_, 210, 6379, 6381]],
    _K_ = [0, [0, cst_web_ui_element_size_hooks_, 210, 6379, 6381]],
    _r_ = [0, "dom_node_tracker"],
    _s_ = [0, "position_tracker"],
    cst_bulk_position_tracker = cst_bulk_position_tracker$0,
    _L_ = [0, [0, cst_web_ui_element_size_hooks_, 210, 6379, 6381]],
    _q_ = [0, cst_web_ui_element_size_hooks_, 103, 24],
    _e_ = [0, "Set"],
    _f_ = [0, "Remove"],
    _g_ = [0, "Observe"],
    _h_ = [0, "Unobserve"],
    _a_ = [0, cst_width$0],
    _b_ = [0, cst_height$0],
    _c_ = [0, cst_left$0],
    _d_ = [0, cst_top$0],
    cst_width = cst_width$0,
    cst_height = cst_height$0,
    cst_left = cst_left$0,
    cst_top = cst_top$0,
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function t_of_sexp(x_003){
    function _bu_(param){
     var
      _bx_ = param[2],
      _by_ = _bx_[2],
      width = _by_[2][1],
      height = _by_[1],
      left = _bx_[1],
      top = param[1];
     return [0, top, left, height, width];
    }
    var _bv_ = 0;
    function _bw_(param){
     return caml_string_notequal(param, cst_height$0)
             ? caml_string_notequal
                (param, cst_left$0)
               ? caml_string_notequal
                  (param, cst_top$0)
                 ? caml_string_notequal(param, cst_width$0) ? -1 : 3
                 : 0
               : 1
             : 2;
    }
    return caml_call6
            (Sexplib0_Sexp_conv_record[3],
             error_source_002,
             [0,
              cst_top,
              1,
              Core[390],
              [0,
               cst_left,
               1,
               Core[390],
               [0, cst_height, 1, Core[390], [0, cst_width, 1, Core[390], 0]]]],
             _bw_,
             _bv_,
             _bu_,
             x_003);
   }
   function sexp_of_t(param){
    var
     width_011 = param[4],
     height_009 = param[3],
     left_007 = param[2],
     top_005 = param[1],
     arg_012 = caml_call1(Core[389], width_011),
     bnds_004 = [0, [1, [0, _a_, [0, arg_012, 0]]], 0],
     arg_010 = caml_call1(Core[389], height_009),
     bnds_004$0 = [0, [1, [0, _b_, [0, arg_010, 0]]], bnds_004],
     arg_008 = caml_call1(Core[389], left_007),
     bnds_004$1 = [0, [1, [0, _c_, [0, arg_008, 0]]], bnds_004$0],
     arg_006 = caml_call1(Core[389], top_005),
     bnds_004$2 = [0, [1, [0, _d_, [0, arg_006, 0]]], bnds_004$1];
    return [1, bnds_004$2];
   }
   function equal(a_013, b_014){
    if(a_013 === b_014) return 1;
    var _bq_ = caml_call2(Core[384], a_013[1], b_014[1]);
    if(_bq_){
     var _br_ = caml_call2(Core[384], a_013[2], b_014[2]);
     if(_br_){
      var _bs_ = caml_call2(Core[384], a_013[3], b_014[3]);
      if(_bs_) return caml_call2(Core[384], a_013[4], b_014[4]);
      var _bt_ = _bs_;
     }
     else
      var _bt_ = _br_;
    }
    else
     var _bt_ = _bq_;
    return _bt_;
   }
   var Position = [0, t_of_sexp, sexp_of_t, equal], Position_tracker = [0];
   function sexp_of_t$0(of_a_027, x_028){
    function _bp_(param){
     switch(param[0]){
       case 0:
        var
         arg1_017 = param[2],
         arg0_016 = param[1],
         res0_018 = caml_call1(of_a_027, arg0_016),
         res1_019 = caml_call1(Position[2], arg1_017);
        return [1, [0, _e_, [0, res0_018, [0, res1_019, 0]]]];
       case 1:
        var arg0_020 = param[1], res0_021 = caml_call1(of_a_027, arg0_020);
        return [1, [0, _f_, [0, res0_021, 0]]];
       case 2:
        var
         arg0_022 = param[1],
         res0_023 = caml_call1(Sexplib0_Sexp_conv[23], arg0_022);
        return [1, [0, _g_, [0, res0_023, 0]]];
       default:
        var
         arg0_024 = param[1],
         res0_025 = caml_call1(Sexplib0_Sexp_conv[23], arg0_024);
        return [1, [0, _h_, [0, res0_025, 0]]];
     }
    }
    return caml_call2(Core[472], _bp_, x_028);
   }
   var
    _i_ = [0, Core_List[6]],
    Input = caml_call1(caml_call1(Univ_map[26], Univ_map[1]), _i_);
   function sexp_of_t$1(of_a_029, param){
    function _bn_(_bo_){return 0;}
    return caml_call1(Sexplib0_Sexp_conv[24], _bn_);
   }
   var
    Tracker = [0, sexp_of_t$1],
    include = caml_call1(caml_call1(Univ_map[26], Univ_map[1]), Tracker),
    empty = include[4],
    find = include[10],
    find_exn = include[11],
    the_one_and_only = [0, empty],
    _j_ = include[7],
    _k_ = include[17];
   function _l_(param){
    var group_key = param[2], inject = param[1];
    the_one_and_only[1] =
     caml_call3(_j_, the_one_and_only[1], group_key, inject);
    return 0;
   }
   function _m_(group_key){
    the_one_and_only[1] = caml_call2(_k_, the_one_and_only[1], group_key);
    return 0;
   }
   var
    Event_groups =
      caml_call1(caml_call1(Univ_map[26], Univ_map[1]), [0, sexp_of_t$0]),
    sexp_of_t$2 = Input[1],
    to_alist = Input[21],
    _n_ = [0, Core_List[6]],
    _o_ = [0, Core_List[6]],
    _p_ = [0, Core_List[6]],
    Merge =
      caml_call1
       (caml_call1
         (caml_call1(caml_call1(Univ_map[28], Univ_map[1]), _p_), _o_),
        _n_);
   function combine(left, right){
    function f(param, _bm_){
     if(737457313 === _bm_[1]){
      var match = _bm_[2], right = match[2], left = match[1];
      return [0, caml_call2(Core[156], left, right)];
     }
     var x = _bm_[2];
     return [0, x];
    }
    return caml_call3(Merge[1], left, right, [0, f]);
   }
   function sexp_of_t$3(param){return Core[149];}
   var
    Poly_unit_effect = [0, sexp_of_t$3],
    Apply_trackers =
      caml_call1
       (caml_call1
         (caml_call1(caml_call1(Univ_map[28], Univ_map[1]), Tracker),
          [0, sexp_of_t$0]),
        Poly_unit_effect),
    Collected_effects =
      caml_call1(caml_call1(Univ_map[26], Univ_map[1]), Poly_unit_effect);
   function change_positions(changes){
    var dimension_groups = [0, Event_groups[4]];
    function _bc_(param){
     var dimensions = param[2], input = param[1];
     function _bi_(param){
      var keys = param[2], group_key = param[1];
      function _bk_(key){
       function _bl_(items){
        var items$0 = caml_call2(Core_Option[39], items, 0);
        return [0, [0, [0, key, dimensions], items$0]];
       }
       dimension_groups[1] =
        caml_call3(Event_groups[14], dimension_groups[1], group_key, _bl_);
       return 0;
      }
      return caml_call2(Core_List[19], keys, _bk_);
     }
     var _bj_ = caml_call1(to_alist, input);
     return caml_call2(Core_List[19], _bj_, _bi_);
    }
    caml_call2(Core_List[19], changes, _bc_);
    function f(param, _bg_){
     var _bh_ = _bg_[1];
     if(737457313 === _bh_){
      var match = _bg_[2], dimension_group = match[2], tracker = match[1];
      return [0, caml_call1(tracker, dimension_group)];
     }
     if(847852583 <= _bh_) return 0;
     throw caml_maybe_attach_backtrace([0, Assert_failure, _q_], 1);
    }
    function _bd_(param){var effect = param[2]; return effect;}
    var
     _be_ =
       caml_call3
        (Apply_trackers[1], the_one_and_only[1], dimension_groups[1], [0, f]),
     _bf_ = caml_call1(Collected_effects[21], _be_),
     events = caml_call2(Core_List[51], _bf_, _bd_);
    return caml_call1(Ui_effect[21][2], [0, Ui_effect[2], events]);
   }
   function init(param, _bb_){return 0;}
   var
    on_mount =
      [0,
       -970641302,
       function(input, param, element){
        var
         _a9_ = caml_call1(to_alist, input),
         match = caml_call1(Core_List[84], _a9_),
         key = match[2],
         group_key = match[1],
         key$0 = caml_call1(Core_List[84], key);
        function _a__(tracker){
         var _ba_ = caml_call1(tracker, [0, [2, [0, key$0, element]], 0]);
         return caml_call1(Virtual_dom_Effect[23][2], _ba_);
        }
        var _a$_ = caml_call2(find, the_one_and_only[1], group_key);
        return caml_call2(Core_Option[46], _a$_, _a__);
       }];
   function update(param, _a8_, _a7_, _a6_){return 0;}
   function destroy(old_input, param, _a1_){
    function _a2_(param){
     var
      keys = param[2],
      group_key = param[1],
      tracker = caml_call2(find_exn, the_one_and_only[1], group_key);
     function _a4_(key){
      var _a5_ = caml_call1(tracker, [0, [1, key], [0, [3, key], 0]]);
      return caml_call1(Virtual_dom_Effect[23][2], _a5_);
     }
     return caml_call2(Core_List[19], keys, _a4_);
    }
    var _a3_ = caml_call1(to_alist, old_input);
    return caml_call2(Core_List[19], _a3_, _a2_);
   }
   var
    include$0 =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, [0], [0, sexp_of_t$2, combine], init, on_mount, update, destroy]),
    create = include$0[1],
    For_testing = include$0[2];
   function component(key){
    var sexp_of_t = Core[149];
    function sexp_of_t$1(param){
     var
      dom_node_tracker_033 = param[2],
      position_tracker_031 = param[1],
      arg_034 =
        caml_call3
         (Core_Map[132], [0, key[1]], sexp_of_t, dom_node_tracker_033),
      bnds_030 = [0, [1, [0, _r_, [0, arg_034, 0]]], 0],
      arg_032 =
        caml_call3
         (Core_Map[132], [0, key[1]], Position[2], position_tracker_031),
      bnds_030$0 = [0, [1, [0, _s_, [0, arg_032, 0]]], bnds_030];
     return [1, bnds_030$0];
    }
    var
     _M_ = caml_call1(Core_Map[4], [0, key[2]]),
     empty = [0, caml_call1(Core_Map[4], [0, key[2]]), _M_];
    function dom_element_to_position(element){
     var
      left = element.offsetLeft,
      top = element.offsetTop,
      height = element.offsetHeight,
      width = element.offsetWidth;
     return [0, top, left, height, width];
    }
    function apply_action(context, old_model, action){
     function _aY_(old_model, param){
      switch(param[0]){
        case 0:
         var
          position = param[2],
          key = param[1],
          position_tracker =
            caml_call3(Core_Map[38], old_model[1], key, position);
         return [0, position_tracker, old_model[2]];
        case 1:
         var
          key$0 = param[1],
          position_tracker$0 = caml_call2(Core_Map[47], old_model[1], key$0);
         return [0, position_tracker$0, old_model[2]];
        case 2:
         var
          match = param[1],
          dom_node = match[2],
          key$1 = match[1],
          _aZ_ = [0, [0, key$1, dom_element_to_position(dom_node)], 0],
          _a0_ = caml_call2(Bonsai[16][1], context, _aZ_);
         caml_call2(Bonsai[16][2], context, _a0_);
         var
          dom_node_tracker$0 =
            caml_call3(Core_Map[38], old_model[2], key$1, dom_node);
         return [0, old_model[1], dom_node_tracker$0];
        default:
         var
          key$2 = param[1],
          dom_node_tracker = caml_call2(Core_Map[47], old_model[2], key$2);
         return [0, old_model[1], dom_node_tracker];
      }
     }
     return caml_call3(Core_List[20], action, old_model, _aY_);
    }
    function _N_(pattern_syntax_041){
     function _Z_(mapping){
      function _ab_(apply_action){
       function _af_(pattern_syntax_047){
        function _ah_(position_tracker){
         function _al_(dom_node_tracker){
          function _ap_(update){
           function _ay_(group_key){
            function _aB_(pattern_syntax_056){
             function _aK_(param){
              function _aO_(attr){
               function _aV_(param){
                var
                 match = param[2],
                 update = match[2],
                 attr = match[1],
                 position_tracker = param[1];
                return [0, position_tracker, attr, update];
               }
               var
                _aW_ = caml_call2(Bonsai[49][5][7], attr, update),
                _aX_ = caml_call2(Bonsai[49][5][7], position_tracker, _aW_);
               return caml_call3(Bonsai[49][5][8], _t_, _aX_, _aV_);
              }
              function _aP_(group_key, key){
               var
                _aR_ = caml_call1(Css_gen[35], 92813848),
                _aS_ = [0, caml_call1(Virtual_dom_Vdom[1][32], _aR_), 0],
                _aT_ =
                  caml_call1
                   (create, caml_call2(Input[5], group_key, [0, key, 0])),
                _aU_ =
                  [0,
                   caml_call2
                    (Virtual_dom_Vdom[1][7], cst_bulk_position_tracker, _aT_),
                   _aS_];
               return caml_call1(Virtual_dom_Vdom[1][9], _aU_);
              }
              var _aQ_ = caml_call3(Bonsai[49][5][8], _u_, group_key, _aP_);
              return caml_call3(Bonsai[49][5][1], _v_, _aQ_, _aO_);
             }
             function _aL_(param){return 0;}
             var
              _aM_ =
                caml_call3(Bonsai[49][5][4], _w_, pattern_syntax_056, _aL_),
              _aN_ = caml_call1(Bonsai[49][5][6], _aM_);
             return caml_call3(Bonsai[49][5][1], _x_, _aN_, _aK_);
            }
            var _aC_ = 0, _aD_ = 0;
            function _aE_(group_key){
             return caml_call1(caml_call1(Bonsai_web[5][15], _m_), group_key);
            }
            var _aF_ = [0, caml_call3(Bonsai[49][5][4], 0, group_key, _aE_)];
            function _aG_(param){
             var group_key = param[2], inject = param[1];
             return caml_call1
                     (caml_call1(Bonsai_web[5][15], _l_), [0, inject, group_key]);
            }
            var
             _aH_ = caml_call2(Bonsai[49][5][7], apply_action, group_key),
             _aI_ = [0, caml_call3(Bonsai[49][5][4], 0, _aH_, _aG_)],
             _aJ_ = caml_call4(Bonsai[44][3], _aI_, _aF_, _aD_, _aC_);
            return caml_call3(Bonsai[49][5][1], _y_, _aJ_, _aB_);
           }
           function _az_(param){
            return caml_call2
                    (Core_Type_equal[8][3],
                     cst_bulk_position_tracker_type,
                     key[1]);
           }
           var _aA_ = caml_call1(Bonsai[50][1], _az_);
           return caml_call3(Bonsai[49][5][1], _z_, _aA_, _ay_);
          }
          function _aq_(dom_node_tracker){
           function _aw_(key, data, acc){
            var new_effect = [0, key, dom_element_to_position(data)];
            return [0, new_effect, acc];
           }
           var _ax_ = caml_call3(Core_Map[61], dom_node_tracker, 0, _aw_);
           return caml_call1(Core_List[59], _ax_);
          }
          var update_f = caml_call1(Bonsai_web[5][15], _aq_);
          function _ar_(param){
           var dom_node_tracker = param[2], apply_action = param[1];
           function _au_(effects){return caml_call1(apply_action, effects);}
           var _av_ = caml_call1(update_f, dom_node_tracker);
           return caml_call2(Ui_effect[13][4][2], _av_, _au_);
          }
          var
           _as_ = caml_call2(Bonsai[49][5][7], apply_action, dom_node_tracker),
           _at_ = caml_call3(Bonsai[49][5][8], _A_, _as_, _ar_);
          return caml_call3(Bonsai[49][5][1], _B_, _at_, _ap_);
         }
         function _am_(param){
          var pattern_syntax_048 = param[2];
          return pattern_syntax_048;
         }
         var
          _an_ = caml_call3(Bonsai[49][5][4], _C_, pattern_syntax_047, _am_),
          _ao_ = caml_call1(Bonsai[49][5][6], _an_);
         return caml_call3(Bonsai[49][5][1], _D_, _ao_, _al_);
        }
        function _ai_(param){
         var pattern_syntax_049 = param[1];
         return pattern_syntax_049;
        }
        var
         _aj_ = caml_call3(Bonsai[49][5][4], _E_, pattern_syntax_047, _ai_),
         _ak_ = caml_call1(Bonsai[49][5][6], _aj_);
        return caml_call3(Bonsai[49][5][1], _F_, _ak_, _ah_);
       }
       var _ag_ = caml_call1(Bonsai[49][1], mapping);
       return caml_call3(Bonsai[49][5][1], _G_, _ag_, _af_);
      }
      function _ac_(param){
       var pattern_syntax_042 = param[2];
       return pattern_syntax_042;
      }
      var
       _ad_ = caml_call3(Bonsai[49][5][4], _H_, pattern_syntax_041, _ac_),
       _ae_ = caml_call1(Bonsai[49][5][6], _ad_);
      return caml_call3(Bonsai[49][5][1], _I_, _ae_, _ab_);
     }
     function ___(param){
      var pattern_syntax_043 = param[1];
      return pattern_syntax_043;
     }
     var
      _$_ = caml_call3(Bonsai[49][5][4], _J_, pattern_syntax_041, ___),
      _aa_ = caml_call1(Bonsai[49][5][6], _$_);
     return caml_call3(Bonsai[49][5][1], _K_, _aa_, _Z_);
    }
    var
     _O_ = 0,
     _P_ =
       [0,
        function(a_044, b_045){
         if(a_044 === b_045) return 1;
         var _S_ = b_045[1], _T_ = a_044[1];
         function _U_(a_037, b_038){
          return caml_call2(Position[3], a_037, b_038);
         }
         var _V_ = caml_call4(Core_Map[136], [0], _U_, _T_, _S_);
         if(! _V_) return _V_;
         var _W_ = b_045[2], _X_ = a_044[2];
         function _Y_(a_039, b_040){return a_039 === b_040 ? 1 : 0;}
         return caml_call4(Core_Map[136], [0], _Y_, _X_, _W_);
        }],
     _Q_ = [0, function(x_046){return sexp_of_t$0(key[1], x_046);}],
     _R_ =
       caml_call7
        (Bonsai[17], 0, [0, sexp_of_t$1], _Q_, _P_, empty, apply_action, _O_);
    return caml_call3(Bonsai[49][5][1], _L_, _R_, _N_);
   }
   var
    type_id = For_testing[1],
    For_testing$0 = [0, type_id, hook_name, change_positions];
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo =
      [0, Position, Position_tracker, component, For_testing$0];
   runtime.caml_register_global
    (73, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Gen_js_api
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size =
      "Bonsai_web_ui_element_size_hooks__Gen_js_api",
    cst_bonsai_web_ui_element_size = "bonsai_web_ui_element_size_hooks";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size);
   caml_call1
    (Ppx_expect_runtime[1][1], "web_ui/element_size_hooks/src/gen_js_api.ml");
   caml_call2
    (Ppx_inline_test_lib[6], cst_bonsai_web_ui_element_size, "gen_js_api.ml");
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var Bonsai_web_ui_element_size_hoo = [0];
   runtime.caml_register_global
    (11, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks__Bulk_size_tracker
//# unitInfo: Requires: Base__Option, Bonsai, Bonsai_web, CamlinternalLazy, Core, Core__List, Core__Map, Core__Option, Core__Type_equal, Core__Unit, Css_gen, Js_of_ocaml__Js, Js_of_ocaml__ResizeObserver, Jsoo_weak_collections__Weak_map, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Reversed_list, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error, Sexplib0__Sexp_conv_record, Ui_effect, Univ_map, Virtual_dom__Effect, Virtual_dom__Hooks, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size$0 =
      "Bonsai_web_ui_element_size_hooks__Bulk_size_tracker",
    cst_Fresh = "Fresh",
    cst_Stale = "Stale",
    cst_bonsai_web_ui_element_size$0 = "bonsai_web_ui_element_size_hooks",
    cst_bulk_size_tracker$0 = "bulk_size_tracker",
    cst_fresh = "fresh",
    cst_height$0 = "height",
    cst_stale = "stale",
    cst_web_ui_element_size_hooks_ =
      "web_ui/element_size_hooks/src/bulk_size_tracker.ml",
    cst_width$0 = "width",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_obj_tag = runtime.caml_obj_tag,
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   function caml_call7(f, a0, a1, a2, a3, a4, a5, a6){
    return (f.l >= 0 ? f.l : f.l = f.length) == 7
            ? f(a0, a1, a2, a3, a4, a5, a6)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    error_source_002 =
      "web_ui/element_size_hooks/src/bulk_size_tracker.ml.Dimensions.t",
    error_source_028 =
      "web_ui/element_size_hooks/src/bulk_size_tracker.ml.Options.maybe_stale",
    hook_name = cst_bulk_size_tracker$0,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Core_Map = global_data.Core__Map,
    Core = global_data.Core,
    Core_List = global_data.Core__List,
    Bonsai = global_data.Bonsai,
    Core_Type_equal = global_data.Core__Type_equal,
    Bonsai_web = global_data.Bonsai_web,
    Css_gen = global_data.Css_gen,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Sexplib0_Sexp_conv_error = global_data.Sexplib0__Sexp_conv_error,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Jsoo_weak_collections_Weak_map =
      global_data.Jsoo_weak_collections__Weak_map,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Base_Option = global_data.Base__Option,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Reversed_list = global_data.Reversed_list,
    Js_of_ocaml_ResizeObserver = global_data.Js_of_ocaml__ResizeObserver,
    Assert_failure = global_data.Assert_failure,
    Core_Option = global_data.Core__Option,
    Ui_effect = global_data.Ui_effect,
    Sexplib0_Sexp_conv_record = global_data.Sexplib0__Sexp_conv_record,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Univ_map = global_data.Univ_map,
    Virtual_dom_Hooks = global_data.Virtual_dom__Hooks;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size$0);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_web_ui_element_size_hooks_);
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size$0,
     "bulk_size_tracker.ml");
   var
    cst_BUG_We_should_never_be_rem =
      "BUG: We should never be removing items from this map while in [Ignore_stale] mode. Removing anyway.",
    _w_ = [0, [0, cst_web_ui_element_size_hooks_, 271, 8636, 8638]],
    _x_ = [0, [0, cst_web_ui_element_size_hooks_, 270, 8559, 8561]],
    _y_ = [0, [0, cst_web_ui_element_size_hooks_, 269, 8485, 8487]],
    _z_ = [0, [0, cst_web_ui_element_size_hooks_, 244, 7381, 7383]],
    _A_ = [0, [0, cst_web_ui_element_size_hooks_, 244, 7381, 7383]],
    _B_ = [0, [0, cst_web_ui_element_size_hooks_, 244, 7381, 7383]],
    _C_ = [0, [0, cst_web_ui_element_size_hooks_, 244, 7381, 7383]],
    _D_ = [0, [0, cst_web_ui_element_size_hooks_, 244, 7381, 7383]],
    cst_bulk_size_tracker_type_id = "bulk_size_tracker_type_id",
    _p_ = [0, [0, cst_web_ui_element_size_hooks_, 216, 6553, 6555]],
    _q_ = [0, [0, cst_web_ui_element_size_hooks_, 190, 5898, 5900]],
    _r_ = [0, [0, cst_web_ui_element_size_hooks_, 190, 5898, 5900]],
    _s_ = [0, [0, cst_web_ui_element_size_hooks_, 192, 5939, 5945]],
    _t_ = [0, [0, cst_web_ui_element_size_hooks_, 191, 5913, 5917]],
    _u_ = [0, [0, cst_web_ui_element_size_hooks_, 190, 5898, 5900]],
    cst_bulk_size_tracker = cst_bulk_size_tracker$0,
    _v_ = [0, [0, cst_web_ui_element_size_hooks_, 186, 5758, 5760]],
    _n_ = [0, cst_Fresh],
    _o_ = [0, cst_Stale],
    _m_ = [0, cst_web_ui_element_size_hooks_, 99, 24],
    _c_ = [0, "Set"],
    _d_ = [0, "Remove"],
    _a_ = [0, cst_height$0],
    _b_ = [0, cst_width$0],
    cst_height = cst_height$0,
    cst_width = cst_width$0,
    cst_bonsai_web_ui_element_size = cst_bonsai_web_ui_element_size$0,
    cst_Bonsai_web_ui_element_size = cst_Bonsai_web_ui_element_size$0;
   function t_of_sexp(x_003){
    function _bd_(param){
     var height = param[2][1], width = param[1];
     return [254, width, height];
    }
    var _be_ = 0;
    function _bf_(param){
     return caml_string_notequal(param, cst_height$0)
             ? caml_string_notequal(param, cst_width$0) ? -1 : 0
             : 1;
    }
    return caml_call6
            (Sexplib0_Sexp_conv_record[3],
             error_source_002,
             [0, cst_width, 1, Core[368], [0, cst_height, 1, Core[368], 0]],
             _bf_,
             _be_,
             _bd_,
             x_003);
   }
   function sexp_of_t(param){
    var
     height_007 = param[2],
     width_005 = param[1],
     arg_008 = caml_call1(Core[367], height_007),
     bnds_004 = [0, [1, [0, _a_, [0, arg_008, 0]]], 0],
     arg_006 = caml_call1(Core[367], width_005),
     bnds_004$0 = [0, [1, [0, _b_, [0, arg_006, 0]]], bnds_004];
    return [1, bnds_004$0];
   }
   function equal(a_009, b_010){
    if(a_009 === b_010) return 1;
    var _bc_ = caml_call2(Core[362], a_009[1], b_010[1]);
    return _bc_ ? caml_call2(Core[362], a_009[2], b_010[2]) : _bc_;
   }
   var Dimensions = [0, t_of_sexp, sexp_of_t, equal];
   function sexp_of_t$0(of_a_019, x_020){
    function _bb_(param){
     if(0 === param[0]){
      var
       arg1_013 = param[2],
       arg0_012 = param[1],
       res0_014 = caml_call1(of_a_019, arg0_012),
       res1_015 = caml_call1(Dimensions[2], arg1_013);
      return [1, [0, _c_, [0, res0_014, [0, res1_015, 0]]]];
     }
     var arg0_016 = param[1], res0_017 = caml_call1(of_a_019, arg0_016);
     return [1, [0, _d_, [0, res0_017, 0]]];
    }
    return caml_call2(Core[472], _bb_, x_020);
   }
   var
    _e_ = [0, Core_List[6]],
    Input = caml_call1(caml_call1(Univ_map[26], Univ_map[1]), _e_);
   function sexp_of_t$1(of_a_021, param){
    function _a$_(_ba_){return 0;}
    return caml_call1(Sexplib0_Sexp_conv[24], _a$_);
   }
   var
    Tracker = [0, sexp_of_t$1],
    include = caml_call1(caml_call1(Univ_map[26], Univ_map[1]), Tracker),
    empty = include[4],
    find_exn = include[11],
    the_one_and_only = [0, empty],
    _f_ = include[7],
    _g_ = include[17];
   function _h_(param){
    var group_key = param[2], inject = param[1];
    the_one_and_only[1] =
     caml_call3(_f_, the_one_and_only[1], group_key, inject);
    return 0;
   }
   function _i_(group_key){
    the_one_and_only[1] = caml_call2(_g_, the_one_and_only[1], group_key);
    return 0;
   }
   var
    Event_groups =
      caml_call1(caml_call1(Univ_map[26], Univ_map[1]), [0, sexp_of_t$0]),
    weakmap = caml_call1(Jsoo_weak_collections_Weak_map[1], 0),
    sexp_of_t$2 = Input[1],
    to_alist = Input[21],
    _j_ = [0, Core_List[6]],
    _k_ = [0, Core_List[6]],
    _l_ = [0, Core_List[6]],
    Merge =
      caml_call1
       (caml_call1
         (caml_call1(caml_call1(Univ_map[28], Univ_map[1]), _l_), _k_),
        _j_);
   function combine(left, right){
    function f(param, _a__){
     if(737457313 === _a__[1]){
      var match = _a__[2], right = match[2], left = match[1];
      return [0, caml_call2(Core[156], left, right)];
     }
     var x = _a__[2];
     return [0, x];
    }
    return caml_call3(Merge[1], left, right, [0, f]);
   }
   function sexp_of_t$3(param){return Core[149];}
   var
    Poly_unit_effect = [0, sexp_of_t$3],
    Apply_trackers =
      caml_call1
       (caml_call1
         (caml_call1(caml_call1(Univ_map[28], Univ_map[1]), Tracker),
          [0, sexp_of_t$0]),
        Poly_unit_effect),
    Collected_effects =
      caml_call1(caml_call1(Univ_map[26], Univ_map[1]), Poly_unit_effect);
   function change_sizes(changes){
    var dimension_groups = [0, Event_groups[4]];
    function _a0_(param){
     var dimensions = param[2], input = param[1];
     function _a6_(param){
      var keys = param[2], group_key = param[1];
      function _a8_(key){
       function _a9_(items){
        var items$0 = caml_call2(Core_Option[39], items, 0);
        return [0, [0, [0, key, dimensions], items$0]];
       }
       dimension_groups[1] =
        caml_call3(Event_groups[14], dimension_groups[1], group_key, _a9_);
       return 0;
      }
      return caml_call2(Core_List[19], keys, _a8_);
     }
     var _a7_ = caml_call1(to_alist, input);
     return caml_call2(Core_List[19], _a7_, _a6_);
    }
    caml_call2(Core_List[19], changes, _a0_);
    function f(param, _a4_){
     var _a5_ = _a4_[1];
     if(737457313 === _a5_){
      var match = _a4_[2], dimension_group = match[2], tracker = match[1];
      return [0, caml_call1(tracker, dimension_group)];
     }
     if(847852583 <= _a5_) return 0;
     throw caml_maybe_attach_backtrace([0, Assert_failure, _m_], 1);
    }
    function _a1_(param){var effect = param[2]; return effect;}
    var
     _a2_ =
       caml_call3
        (Apply_trackers[1], the_one_and_only[1], dimension_groups[1], [0, f]),
     _a3_ = caml_call1(Collected_effects[21], _a2_),
     events = caml_call2(Core_List[51], _a3_, _a1_);
    return caml_call1(Ui_effect[21][2], [0, Ui_effect[2], events]);
   }
   var
    observer =
      [246,
       function(_aO_){
        function on_resize_observed(entries, observer){
         var changes = [0, 0], _aQ_ = entries.length - 1 | 0, _aP_ = 0;
         if(_aQ_ >= 0){
          var i = _aP_;
          for(;;){
           var
            _aR_ =
              function(entry){
               function _aV_(border_box){
                var target = entry.target;
                function _aY_(input){
                 var
                  width = border_box.inlineSize,
                  height = border_box.blockSize,
                  dimensions = [254, width, height];
                 changes[1] = [0, [0, input, dimensions], changes[1]];
                 return 0;
                }
                var
                 _aZ_ =
                   caml_call2
                    (Jsoo_weak_collections_Weak_map[3], weakmap, target);
                return caml_call2(Base_Option[29][4][3], _aZ_, _aY_);
               }
               var
                _aW_ = caml_call2(Js_of_ocaml_Js[20], entry.borderBoxSize, 0),
                _aX_ = caml_call1(Js_of_ocaml_Js[6][10], _aW_);
               return caml_call2(Base_Option[29][4][2], _aX_, _aV_);
              },
            _aS_ = caml_call2(Js_of_ocaml_Js[20], entries, i),
            _aT_ = caml_call1(Js_of_ocaml_Js[6][10], _aS_);
           caml_call2(Base_Option[29][4][2], _aT_, _aR_);
           var _aU_ = i + 1 | 0;
           if(_aQ_ === i) break;
           var i = _aU_;
          }
         }
         return change_sizes(caml_call1(Reversed_list[3], changes[1]));
        }
        return new
                Js_of_ocaml_ResizeObserver[2]
                (runtime.caml_js_wrap_callback(on_resize_observed));
       }];
   function init(input, element){
    caml_call3(Jsoo_weak_collections_Weak_map[2], weakmap, element, input);
    var _aM_ = caml_obj_tag(observer);
    a:
    if(250 === _aM_)
     var _aN_ = observer[1];
    else{
     if(246 !== _aM_ && 244 !== _aM_){var _aN_ = observer; break a;}
     var _aN_ = caml_call1(CamlinternalLazy[2], observer);
    }
    return _aN_.observe(element);
   }
   var on_mount = 327963705;
   function update(param, _aL_, _aK_, _aJ_){return 0;}
   function destroy(old_input, param, element){
    caml_call2(Jsoo_weak_collections_Weak_map[4], weakmap, element);
    var _aD_ = caml_obj_tag(observer);
    a:
    if(250 === _aD_)
     var _aE_ = observer[1];
    else{
     if(246 !== _aD_ && 244 !== _aD_){var _aE_ = observer; break a;}
     var _aE_ = caml_call1(CamlinternalLazy[2], observer);
    }
    _aE_.unobserve(element);
    function _aF_(param){
     var
      keys = param[2],
      group_key = param[1],
      tracker = caml_call2(find_exn, the_one_and_only[1], group_key);
     function _aH_(key){
      var _aI_ = caml_call1(tracker, [0, [1, key], 0]);
      return caml_call1(Virtual_dom_Effect[23][2], _aI_);
     }
     return caml_call2(Core_List[19], keys, _aH_);
    }
    var _aG_ = caml_call1(to_alist, old_input);
    return caml_call2(Core_List[19], _aG_, _aF_);
   }
   var
    include$0 =
      caml_call1
       (Virtual_dom_Hooks[3],
        [0, [0], [0, sexp_of_t$2, combine], init, on_mount, update, destroy]),
    create = include$0[1],
    For_testing = include$0[2];
   function maybe_stale_of_sexp(of_a_025, sexp_030){
    a:
    {
     if(0 === sexp_030[0]){
      var _aA_ = sexp_030[1];
      b:
      if(caml_string_notequal(_aA_, cst_Fresh)){
       if(caml_string_notequal(_aA_, cst_Stale)){
        if(! caml_string_notequal(_aA_, cst_fresh)) break b;
        if(caml_string_notequal(_aA_, cst_stale)) break a;
       }
       return caml_call2
               (Sexplib0_Sexp_conv_error[9], error_source_028, sexp_030);
      }
      return caml_call2
              (Sexplib0_Sexp_conv_error[9], error_source_028, sexp_030);
     }
     var _aB_ = sexp_030[1];
     if(! _aB_)
      return caml_call2
              (Sexplib0_Sexp_conv_error[11], error_source_028, sexp_030);
     var _aC_ = _aB_[1];
     if(0 !== _aC_[0])
      return caml_call2
              (Sexplib0_Sexp_conv_error[10], error_source_028, sexp_030);
     var tag_031 = _aC_[1];
     b:
     if(caml_string_notequal(tag_031, cst_Fresh)){
      if(caml_string_notequal(tag_031, cst_Stale)){
       if(! caml_string_notequal(tag_031, cst_fresh)) break b;
       if(caml_string_notequal(tag_031, cst_stale)) break a;
      }
      var sexp_args_037 = _aB_[2];
      if(sexp_args_037 && ! sexp_args_037[2]){
       var
        arg0_038 = sexp_args_037[1],
        res0_039 = caml_call1(of_a_025, arg0_038);
       return [1, res0_039];
      }
      return caml_call3
              (Sexplib0_Sexp_conv_error[8],
               error_source_028,
               tag_031,
               sexp_030);
     }
     var sexp_args_032 = _aB_[2];
     if(sexp_args_032 && ! sexp_args_032[2]){
      var
       arg0_033 = sexp_args_032[1],
       res0_034 = caml_call1(of_a_025, arg0_033);
      return [0, res0_034];
     }
     return caml_call3
             (Sexplib0_Sexp_conv_error[8],
              error_source_028,
              tag_031,
              sexp_030);
    }
    return caml_call2
            (Sexplib0_Sexp_conv_error[12], error_source_028, sexp_030);
   }
   function sexp_of_maybe_stale(of_a_041, param){
    if(0 === param[0]){
     var arg0_042 = param[1], res0_043 = caml_call1(of_a_041, arg0_042);
     return [1, [0, _n_, [0, res0_043, 0]]];
    }
    var arg0_044 = param[1], res0_045 = caml_call1(of_a_041, arg0_044);
    return [1, [0, _o_, [0, res0_045, 0]]];
   }
   function equal_maybe_stale(cmp_a, a_047, b_048){
    if(a_047 === b_048) return 1;
    if(0 === a_047[0]){
     var a_049 = a_047[1];
     if(0 !== b_048[0]) return 0;
     var b_050 = b_048[1];
     return caml_call2(cmp_a, a_049, b_050);
    }
    var a_051 = a_047[1];
    if(0 === b_048[0]) return 0;
    var b_052 = b_048[1];
    return caml_call2(cmp_a, a_051, b_052);
   }
   function component(opt, options, f){
    if(opt)
     var sth = opt[1], sexp_of_key = sth;
    else
     var sexp_of_key = Core[149];
    function _ad_(group_key){
     function _ag_(pattern_syntax_054){
      function _ar_(param){
       function _av_(group_key, key){
        var
         _aw_ = caml_call1(Css_gen[35], 92813848),
         _ax_ = [0, caml_call1(Virtual_dom_Vdom[1][32], _aw_), 0],
         _ay_ =
           caml_call1(create, caml_call2(Input[5], group_key, [0, key, 0])),
         _az_ =
           [0,
            caml_call2(Virtual_dom_Vdom[1][7], cst_bulk_size_tracker, _ay_),
            _ax_];
        return caml_call1(Virtual_dom_Vdom[1][9], _az_);
       }
       return caml_call3(Bonsai[49][5][8], _p_, group_key, _av_);
      }
      function _as_(param){return 0;}
      var
       _at_ = caml_call3(Bonsai[49][5][4], _q_, pattern_syntax_054, _as_),
       _au_ = caml_call1(Bonsai[49][5][6], _at_);
      return caml_call3(Bonsai[49][5][1], _r_, _au_, _ar_);
     }
     function _ah_(on_activate){
      var _an_ = 0, _ao_ = 0;
      function _ap_(group_key){
       return caml_call1(caml_call1(Bonsai_web[5][15], _i_), group_key);
      }
      var _aq_ = [0, caml_call3(Bonsai[49][5][4], 0, group_key, _ap_)];
      return caml_call4(Bonsai[44][3], [0, on_activate], _aq_, _ao_, _an_);
     }
     function _ai_(param){
      var
       group_key = param[2],
       f = param[1],
       inject =
         2 <= options
          ? function
           (actions){
            function _am_(param){return 0 === param[0] ? 1 : 0;}
            var actions$0 = caml_call2(Core_List[12], actions, _am_);
            return actions$0 ? caml_call1(f, actions$0) : Bonsai_web[5][1];
           }
          : f;
      return caml_call1
              (caml_call1(Bonsai_web[5][15], _h_), [0, inject, group_key]);
     }
     var
      _aj_ = caml_call2(Bonsai[49][5][7], f, group_key),
      _ak_ = caml_call3(Bonsai[49][5][8], _s_, _aj_, _ai_),
      _al_ = caml_call3(Bonsai[49][5][1], _t_, _ak_, _ah_);
     return caml_call3(Bonsai[49][5][1], _u_, _al_, _ag_);
    }
    function _ae_(param){
     return caml_call2
             (Core_Type_equal[8][3],
              cst_bulk_size_tracker_type_id,
              sexp_of_key);
    }
    var _af_ = caml_call1(Bonsai[50][1], _ae_);
    return caml_call3(Bonsai[49][5][1], _v_, _af_, _ad_);
   }
   function component$0(key, options){
    switch(options){
      case 0:
       var sexp_of_contained = Dimensions[2]; break;
      case 1:
       var
        sexp_of_contained =
          function(x_061){return sexp_of_maybe_stale(Dimensions[2], x_061);};
       break;
      default: var sexp_of_contained = Dimensions[2];
    }
    switch(options){
      case 0:
       var
        equal_contained =
          function(a_062, b_063){
           return caml_call2(Dimensions[3], a_062, b_063);
          };
       break;
      case 1:
       var
        equal_contained =
          function(a_064, b_065){
           return equal_maybe_stale
                   (function(a_066, b_067){
                     return caml_call2(Dimensions[3], a_066, b_067);
                    },
                    a_064,
                    b_065);
          };
       break;
      default:
       var
        equal_contained =
          function(a_068, b_069){
           return caml_call2(Dimensions[3], a_068, b_069);
          };
    }
    function sexp_of_t(x_070){
     return caml_call3(Core_Map[132], [0, key[1]], sexp_of_contained, x_070);
    }
    function equal(a_071, b_072){
     function _ac_(a_073, b_074){return equal_contained(a_073, b_074);}
     return caml_call4(Core_Map[136], [0], _ac_, a_071, b_072);
    }
    function _E_(pattern_syntax_075){
     function _O_(sizes){
      function _S_(inject){
       function _W_(sizes){
        function ___(attr){
         function _aa_(param){
          var attr = param[2], sizes = param[1];
          return [0, sizes, attr];
         }
         var _ab_ = caml_call2(Bonsai[49][5][7], sizes, attr);
         return caml_call3(Bonsai[49][5][8], _w_, _ab_, _aa_);
        }
        var _$_ = component([0, key[1]], options, inject);
        return caml_call3(Bonsai[49][5][1], _x_, _$_, ___);
       }
       function _X_(a_082, b_083){return equal(a_082, b_083);}
       var
        _Y_ = caml_call2(Bonsai[2][18], sizes, _X_),
        _Z_ = caml_call1(Bonsai[49][1], _Y_);
       return caml_call3(Bonsai[49][5][1], _y_, _Z_, _W_);
      }
      function _T_(param){
       var pattern_syntax_076 = param[2];
       return pattern_syntax_076;
      }
      var
       _U_ = caml_call3(Bonsai[49][5][4], _z_, pattern_syntax_075, _T_),
       _V_ = caml_call1(Bonsai[49][5][6], _U_);
      return caml_call3(Bonsai[49][5][1], _A_, _V_, _S_);
     }
     function _P_(param){
      var pattern_syntax_077 = param[1];
      return pattern_syntax_077;
     }
     var
      _Q_ = caml_call3(Bonsai[49][5][4], _B_, pattern_syntax_075, _P_),
      _R_ = caml_call1(Bonsai[49][5][6], _Q_);
     return caml_call3(Bonsai[49][5][1], _C_, _R_, _O_);
    }
    var _F_ = 0;
    function _G_(param, model, actions){
     function _L_(model, action){
      if(0 === action[0]){
       var v = action[2], k = action[1];
       switch(options){
         case 0:
          return caml_call3(Core_Map[38], model, k, v);
         case 1:
          return caml_call3(Core_Map[38], model, k, [0, v]);
         default: return caml_call3(Core_Map[38], model, k, v);
       }
      }
      var k$0 = action[1];
      switch(options){
        case 0:
         return caml_call2(Core_Map[47], model, k$0);
        case 1:
         var
          _M_ =
            function(param){
             if(! param) return 0;
             var v = param[1][1];
             return [0, [1, v]];
            };
         return caml_call3(Core_Map[42], model, k$0, _M_);
        default:
         var
          _N_ =
            caml_call1(Sexplib0_Sexp_conv[7], cst_BUG_We_should_never_be_rem);
         caml_call2(Core[257], 0, _N_);
         return caml_call2(Core_Map[47], model, k$0);
      }
     }
     return caml_call3(Core_List[20], actions, model, _L_);
    }
    var
     _H_ = caml_call1(Core_Map[4], [0, key[2]]),
     _I_ = [0, function(a_078, b_079){return equal(a_078, b_079);}],
     _J_ = [0, function(x_080){return sexp_of_t$0(key[1], x_080);}],
     _K_ = caml_call7(Bonsai[17], 0, [0, sexp_of_t], _J_, _I_, _H_, _G_, _F_);
    return caml_call3(Bonsai[49][5][1], _D_, _K_, _E_);
   }
   var
    type_id = For_testing[1],
    For_testing$0 = [0, type_id, hook_name, change_sizes];
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var
    Bonsai_web_ui_element_size_hoo =
      [0,
       Dimensions,
       [0],
       [0, sexp_of_maybe_stale, maybe_stale_of_sexp, equal_maybe_stale],
       component$0,
       component,
       For_testing$0];
   runtime.caml_register_global
    (81, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Bonsai_web_ui_element_size_hooks
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Bonsai_web_ui_element_size = "Bonsai_web_ui_element_size_hooks",
    cst_bonsai_web_ui_element_size = "bonsai_web_ui_element_size_hooks";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Bonsai_web_ui_element_size);
   caml_call1
    (Ppx_bench_lib_Benchmark_accumu[1][1], cst_bonsai_web_ui_element_size);
   caml_call1
    (Ppx_expect_runtime[1][1],
     "web_ui/element_size_hooks/src/bonsai_web_ui_element_size_hooks.ml");
   caml_call2
    (Ppx_inline_test_lib[6],
     cst_bonsai_web_ui_element_size,
     "bonsai_web_ui_element_size_hooks.ml");
   var Expert = [0];
   caml_call1(Ppx_inline_test_lib[7], cst_bonsai_web_ui_element_size);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Bonsai_web_ui_element_size);
   var Bonsai_web_ui_element_size_hoo = [0, Expert];
   runtime.caml_register_global
    (11, Bonsai_web_ui_element_size_hoo, cst_Bonsai_web_ui_element_size);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJib25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsiY2FuY2VsX2FuaW1hdGlvbl9mcmFtZSIsImlkIiwicmVxdWVzdF9hbmltYXRpb25fZnJhbWUiLCJmIiwiYWRkX2V2ZW50X2xpc3RlbmVyIiwib3B0IiwiZWxlbWVudCIsImV2ZW50Iiwic3RoIiwidXNlX2NhcHR1cmUiLCJzdGgkMCIsInByZXZlbnRfZGVmYXVsdCIsInNldF93aWR0aCIsIngiLCJzZXRfaGVpZ2h0IiwicmVzZXRfd2lkdGgiLCJyZXNldF9oZWlnaHQiLCJlcnJvcl9zb3VyY2VfMDAyIiwidF9vZl9zZXhwIiwieF8wMDMiLCJtYXhfeSIsIm1pbl95IiwibWF4X3giLCJtaW5feCIsInNleHBfb2ZfdCIsIm1heF95XzAxMSIsIm1pbl95XzAwOSIsIm1heF94XzAwNyIsIm1pbl94XzAwNSIsImFyZ18wMTIiLCJibmRzXzAwNCIsImFyZ18wMTAiLCJibmRzXzAwNCQwIiwiYXJnXzAwOCIsImJuZHNfMDA0JDEiLCJhcmdfMDA2IiwiYm5kc18wMDQkMiIsImVxdWFsIiwiYV8wMTMiLCJiXzAxNCIsIm9mX2NsaWVudF9yZWN0Iiwid2lkdGgiLCJ0IiwiaGVpZ2h0Iiwic2V4cF9vZl90JDAiLCJjb21iaW5lIiwidmlzaWJsZV9yZWN0X2NoYW5nZWRfcmlnaHQiLCJjbGllbnRfcmVjdF9jaGFuZ2VkX3JpZ2h0IiwidmlzaWJsZV9yZWN0X2NoYW5nZWRfbGVmdCIsImNsaWVudF9yZWN0X2NoYW5nZWRfbGVmdCIsImNsaWVudF9yZWN0X2NoYW5nZWQiLCJiYm94IiwidmlzaWJsZV9yZWN0X2NoYW5nZWQiLCJpbml0IiwiY2FsbGJhY2siLCJzdGF0ZSIsIm9ic2VydmVyIiwicHJvY2VzcyIsImVudHJpZXMiLCJpIiwiZW50cnkiLCJjbGllbnRfcmVjdCIsImludGVyc2VjdGlvbl9yZWN0Iiwic3RhdGUkMCIsImJfMDM3IiwiYV8wMzgiLCJiXzAzOSIsImJfMDQxIiwib25fbW91bnQiLCJ1cGRhdGUiLCJkZXN0cm95IiwiaW5wdXQiLCJkZXRlY3QiLCJsZWZ0IiwicmlnaHQiLCJkaW1lbnNpb25zIiwid3JhcF93aXRoX2hhbmRsZSIsIm9uX3Jlc2l6ZV9vYnNlcnZlZCIsImJvcmRlcl9ib3hfYXJyIiwic2l6ZSIsIm9sZF9pbnB1dCIsIm5ld19pbnB1dCIsIm9uX2NoYW5nZSIsImYkMCIsImVycm9yX3NvdXJjZV8wMDMiLCJzZXhwXzAwNCIsImciLCJzY3JvbGxhYmxlIiwicGFyZW50Tm9kZSIsInBhcmVudEVsZW1lbnQiLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJzZXQiLCJyZXNldCIsIm9uX21vdW50JDAiLCJuYW1lIiwic2V0X2N1cnNvciIsInMiLCJzJDAiLCJjb21wYXJlIiwic2V0X2xhc3RfcG9pbnRlcl94IiwiciIsInYiLCJyZW1vdmVfZXZlbnRfbGlzdGVuZXIiLCJvbl9wb2ludGVyX2V2ZW50IiwicmVtb3ZlX3BvaW50ZXJfZXZlbnQiLCJjYW5jZWxfc2NoZWR1bGUiLCJzY2hlZHVsZSIsImNsZWFyX3BvaW50ZXJfeCIsImdldF9wYXJlbnQiLCJwYXJlbnQiLCJkb191cGRhdGVfd2lkdGgiLCJ0YXJnZXQiLCJwb2ludGVyX3giLCJsYXN0X3BvaW50ZXJfeCIsInBhcmVudF93aWR0aCIsIm5ld193aWR0aCIsIm9wZXJhdGlvbiIsImRpZmZfeCIsInByb3Bvc2VkX3dpZHRoIiwiaXNfZ3Jvd2luZyIsImlzX3Nocmlua2luZyIsInBhcmVudF9yaWdodCIsInBvaW50ZXJfb25fbGVmdCIsInBvaW50ZXJfb25fcmlnaHQiLCJwb2ludGVyX29uX3JpZ2h0JDAiLCJwb2ludGVyX29uX3JpZ2h0JDEiLCJzaG91bGRfYWNjZXB0IiwicGFyZW50X2xlZnQiLCJwb2ludGVyX29uX2xlZnQkMCIsInBvaW50ZXJfb25fcmlnaHQkMiIsInBvaW50ZXJfb25fbGVmdCQxIiwicG9pbnRlcl9vbl9sZWZ0JDIiLCJ0ZW1wIiwiZmlyc3QiLCJzZWNvbmQiLCJzaWRlIiwiYW5pbWF0aW9uX2lkIiwib25fcG9pbnRlcl9tb3ZlIiwib25fcG9pbnRlcl91cCIsIm9uX3BvaW50ZXJfZG93biIsImNsaWVudFgiLCJsaXN0ZW5lcnMiLCJhdHRyIiwiYSIsImIiLCJzZXRfd2lkdGhfcHJvcGVydHkiLCJhZGp1c3QiLCJzZXRfc2NhbGUiLCJzY2FsZSIsImx0ZV96ZXJvIiwid2lkdGhfcmF0IiwiaGVpZ2h0X3JhdCIsIndpdGhfc2l6ZSIsImJveF9hcnJheSIsImRpbXMiLCJvYnMiLCJiZWhhdmlvciIsImF0dHJfZm9yX3BhcmVudF9yZWNvbW1lbmRlZCIsImhvb2tfbmFtZSIsInRvcCIsIndpZHRoXzAxMSIsImhlaWdodF8wMDkiLCJsZWZ0XzAwNyIsInRvcF8wMDUiLCJvZl9hXzAyNyIsInhfMDI4IiwiYXJnMV8wMTciLCJhcmcwXzAxNiIsInJlczBfMDE4IiwicmVzMV8wMTkiLCJhcmcwXzAyMCIsInJlczBfMDIxIiwiYXJnMF8wMjIiLCJyZXMwXzAyMyIsImFyZzBfMDI0IiwicmVzMF8wMjUiLCJzZXhwX29mX3QkMSIsIm9mX2FfMDI5IiwidGhlX29uZV9hbmRfb25seSIsImdyb3VwX2tleSIsImluamVjdCIsInNleHBfb2ZfdCQzIiwiY2hhbmdlX3Bvc2l0aW9ucyIsImNoYW5nZXMiLCJkaW1lbnNpb25fZ3JvdXBzIiwia2V5cyIsImtleSIsIml0ZW1zIiwiaXRlbXMkMCIsImRpbWVuc2lvbl9ncm91cCIsInRyYWNrZXIiLCJlZmZlY3QiLCJldmVudHMiLCJrZXkkMCIsImNvbXBvbmVudCIsImRvbV9ub2RlX3RyYWNrZXJfMDMzIiwicG9zaXRpb25fdHJhY2tlcl8wMzEiLCJhcmdfMDM0IiwiYm5kc18wMzAiLCJhcmdfMDMyIiwiYm5kc18wMzAkMCIsImVtcHR5IiwiZG9tX2VsZW1lbnRfdG9fcG9zaXRpb24iLCJhcHBseV9hY3Rpb24iLCJjb250ZXh0Iiwib2xkX21vZGVsIiwiYWN0aW9uIiwicG9zaXRpb24iLCJwb3NpdGlvbl90cmFja2VyIiwicG9zaXRpb25fdHJhY2tlciQwIiwiZG9tX25vZGUiLCJrZXkkMSIsImRvbV9ub2RlX3RyYWNrZXIkMCIsImtleSQyIiwiZG9tX25vZGVfdHJhY2tlciIsInBhdHRlcm5fc3ludGF4XzA0MSIsIm1hcHBpbmciLCJwYXR0ZXJuX3N5bnRheF8wNDciLCJwYXR0ZXJuX3N5bnRheF8wNTYiLCJkYXRhIiwiYWNjIiwibmV3X2VmZmVjdCIsInVwZGF0ZV9mIiwiZWZmZWN0cyIsInBhdHRlcm5fc3ludGF4XzA0OCIsInBhdHRlcm5fc3ludGF4XzA0OSIsInBhdHRlcm5fc3ludGF4XzA0MiIsInBhdHRlcm5fc3ludGF4XzA0MyIsImFfMDQ0IiwiYl8wNDUiLCJhXzAzNyIsImJfMDM4IiwiYV8wMzkiLCJiXzA0MCIsInhfMDQ2IiwidHlwZV9pZCIsImVycm9yX3NvdXJjZV8wMjgiLCJoZWlnaHRfMDA3Iiwid2lkdGhfMDA1IiwiYV8wMDkiLCJiXzAxMCIsIm9mX2FfMDE5IiwieF8wMjAiLCJhcmcxXzAxMyIsImFyZzBfMDEyIiwicmVzMF8wMTQiLCJyZXMxXzAxNSIsInJlczBfMDE3Iiwib2ZfYV8wMjEiLCJ3ZWFrbWFwIiwiY2hhbmdlX3NpemVzIiwibWF5YmVfc3RhbGVfb2Zfc2V4cCIsIm9mX2FfMDI1Iiwic2V4cF8wMzAiLCJ0YWdfMDMxIiwic2V4cF9hcmdzXzAzNyIsImFyZzBfMDM4IiwicmVzMF8wMzkiLCJzZXhwX2FyZ3NfMDMyIiwiYXJnMF8wMzMiLCJyZXMwXzAzNCIsInNleHBfb2ZfbWF5YmVfc3RhbGUiLCJvZl9hXzA0MSIsImFyZzBfMDQyIiwicmVzMF8wNDMiLCJhcmcwXzA0NCIsInJlczBfMDQ1IiwiZXF1YWxfbWF5YmVfc3RhbGUiLCJjbXBfYSIsImFfMDQ3IiwiYl8wNDgiLCJhXzA0OSIsImJfMDUwIiwiYV8wNTEiLCJiXzA1MiIsIm9wdGlvbnMiLCJzZXhwX29mX2tleSIsInBhdHRlcm5fc3ludGF4XzA1NCIsIm9uX2FjdGl2YXRlIiwiYWN0aW9ucyIsImFjdGlvbnMkMCIsImNvbXBvbmVudCQwIiwic2V4cF9vZl9jb250YWluZWQiLCJ4XzA2MSIsImVxdWFsX2NvbnRhaW5lZCIsImFfMDYyIiwiYl8wNjMiLCJhXzA2NCIsImJfMDY1IiwiYV8wNjYiLCJiXzA2NyIsImFfMDY4IiwiYl8wNjkiLCJ4XzA3MCIsImFfMDcxIiwiYl8wNzIiLCJhXzA3MyIsImJfMDc0IiwicGF0dGVybl9zeW50YXhfMDc1Iiwic2l6ZXMiLCJhXzA4MiIsImJfMDgzIiwicGF0dGVybl9zeW50YXhfMDc2IiwicGF0dGVybl9zeW50YXhfMDc3IiwibW9kZWwiLCJrIiwiayQwIiwiYV8wNzgiLCJiXzA3OSIsInhfMDgwIl0sInNvdXJjZXMiOlsiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvYm9uc2FpL3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MvYm9uc2FpX3dlYl91aV9lbGVtZW50X3NpemVfaG9va3NfXy5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2JvbnNhaS93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzL2ltcG9ydC5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2JvbnNhaS93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzL3Zpc2liaWxpdHlfdHJhY2tlci5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2JvbnNhaS93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzL3NpemVfdHJhY2tlci5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2JvbnNhaS93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzL3Njcm9sbF90cmFja2VyLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvYm9uc2FpL3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MvZnJlZXplLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvYm9uc2FpL3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MvcmVzaXplci5tbCIsIi9ob21lL2xpYW0tY2FycGVudGVyLy5vcGFtL3BlcnNvbmFsLXNpdGUvbGliL2JvbnNhaS93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzL3Jlc2l6ZV90b19maXQubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9ib25zYWkvd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy9wb3NpdGlvbl90cmFja2VyLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvYm9uc2FpL3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MvYnVsa19zaXplX3RyYWNrZXIubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9ib25zYWkvd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy9ib25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy5tbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztHQWdDNEM7O0lBQUE7Ozs7Ozs7RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lDN0J4Q0EsdUJBQXVCQztJQUFLLG9EQUFMQTtHQUE2QztZQUVwRUMsd0JBQXdCQztJQUMxQjthQUF1Qyw4QkFEYkE7R0FDaUM7WUFHekRDLG1CQUFxQkMsVUFBZ0RDLFNBQVFDLE9BQU9KO0lBQ3RGLEdBRHVCRSxTQUFjRyxNQUFkSCxRQUFBSSxjQUFjRCxjQUFkQztJQUN2QjtTQURnRUMsZ0JBQWxCQyxrQkFBa0JEOztTQUFsQkM7SUFPNUMsY0FQcUJGO2lCQUlFSCxTQUFRQztLQUM1QixXQUxpRkosR0FJN0RHLFNBQVFDO0tBRTVCLFdBTnlDSTtJQU1sQjtJQUYxQixVQUFBO0lBR0EsT0FBQSxxQ0FQcUVMLFNBQVFDO0dBT3hEO1lBR3JCSyxtQkFB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T0EyREVjO09BaERBdkY7Ozs7O0U7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dDbEtZOzs7Ozs7Ozs7RSIsInNvdXJjZXNDb250ZW50IjpbIigqIGdlbmVyYXRlZCBieSBkdW5lICopXG5cbigqKiBAY2Fub25pY2FsIEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzLkJ1bGtfc2l6ZV90cmFja2VyICopXG5tb2R1bGUgQnVsa19zaXplX3RyYWNrZXIgPSBCb25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rc19fQnVsa19zaXplX3RyYWNrZXJcblxuKCoqIEBjYW5vbmljYWwgQm9uc2FpX3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MuRnJlZXplICopXG5tb2R1bGUgRnJlZXplID0gQm9uc2FpX3dlYl91aV9lbGVtZW50X3NpemVfaG9va3NfX0ZyZWV6ZVxuXG4oKiogQGNhbm9uaWNhbCBCb25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy5HZW5fanNfYXBpICopXG5tb2R1bGUgR2VuX2pzX2FwaSA9IEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzX19HZW5fanNfYXBpXG5cbigqKiBAY2Fub25pY2FsIEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzLkltcG9ydCAqKVxubW9kdWxlIEltcG9ydCA9IEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzX19JbXBvcnRcblxuKCoqIEBjYW5vbmljYWwgQm9uc2FpX3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MuUG9zaXRpb25fdHJhY2tlciAqKVxubW9kdWxlIFBvc2l0aW9uX3RyYWNrZXIgPSBCb25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rc19fUG9zaXRpb25fdHJhY2tlclxuXG4oKiogQGNhbm9uaWNhbCBCb25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy5SZXNpemVfdG9fZml0ICopXG5tb2R1bGUgUmVzaXplX3RvX2ZpdCA9IEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzX19SZXNpemVfdG9fZml0XG5cbigqKiBAY2Fub25pY2FsIEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzLlJlc2l6ZXIgKilcbm1vZHVsZSBSZXNpemVyID0gQm9uc2FpX3dlYl91aV9lbGVtZW50X3NpemVfaG9va3NfX1Jlc2l6ZXJcblxuKCoqIEBjYW5vbmljYWwgQm9uc2FpX3dlYl91aV9lbGVtZW50X3NpemVfaG9va3MuU2Nyb2xsX3RyYWNrZXIgKilcbm1vZHVsZSBTY3JvbGxfdHJhY2tlciA9IEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzX19TY3JvbGxfdHJhY2tlclxuXG4oKiogQGNhbm9uaWNhbCBCb25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rcy5TaXplX3RyYWNrZXIgKilcbm1vZHVsZSBTaXplX3RyYWNrZXIgPSBCb25zYWlfd2ViX3VpX2VsZW1lbnRfc2l6ZV9ob29rc19fU2l6ZV90cmFja2VyXG5cbigqKiBAY2Fub25pY2FsIEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzLlZpc2liaWxpdHlfdHJhY2tlciAqKVxubW9kdWxlIFZpc2liaWxpdHlfdHJhY2tlciA9IEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzX19WaXNpYmlsaXR5X3RyYWNrZXJcblxubW9kdWxlIEJvbnNhaV93ZWJfdWlfZWxlbWVudF9zaXplX2hvb2tzX18gPSBzdHJ1Y3QgZW5kXG5bQEBkZXByZWNhdGVkIFwidGhpcyBtb2R1bGUgaXMgc2hhZG93ZWRcIl1cbiIsIm9wZW4hIENvcmVcbm9wZW4gSnNfb2Zfb2NhbWxcblxubGV0IGNhbmNlbF9hbmltYXRpb25fZnJhbWUgaWQgPSBEb21faHRtbC53aW5kb3cjI2NhbmNlbEFuaW1hdGlvbkZyYW1lIGlkXG5cbmxldCByZXF1ZXN0X2FuaW1hdGlvbl9mcmFtZSBmID1cbiAgRG9tX2h0bWwud2luZG93IyNyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKEpzLndyYXBfY2FsbGJhY2sgZilcbjs7XG5cbmxldCBhZGRfZXZlbnRfbGlzdGVuZXIgPyh1c2VfY2FwdHVyZSA9IGZhbHNlKSA/KHByZXZlbnRfZGVmYXVsdCA9IGZhbHNlKSBlbGVtZW50IGV2ZW50IH5mID1cbiAgRG9tX2h0bWwuYWRkRXZlbnRMaXN0ZW5lclxuICAgIGVsZW1lbnRcbiAgICBldmVudFxuICAgIChEb20uZnVsbF9oYW5kbGVyIChmdW4gZWxlbWVudCBldmVudCAtPlxuICAgICAgIGYgZWxlbWVudCBldmVudDtcbiAgICAgICBKcy5ib29sIHByZXZlbnRfZGVmYXVsdCkpXG4gICAgKEpzLmJvb2wgdXNlX2NhcHR1cmUpXG47O1xuXG5sZXQgc2V0X3dpZHRoIGVsZW1lbnQgeCA9IGVsZW1lbnQjIy5zdHlsZSMjLndpZHRoIDo9IEpzLnN0cmluZyAoc3ByaW50ZiBcIiVmcHhcIiB4KVxubGV0IHNldF9oZWlnaHQgZWxlbWVudCB4ID0gZWxlbWVudCMjLnN0eWxlIyMuaGVpZ2h0IDo9IEpzLnN0cmluZyAoc3ByaW50ZiBcIiVmcHhcIiB4KVxubGV0IHJlc2V0X3dpZHRoIGVsZW1lbnQgPSBlbGVtZW50IyMuc3R5bGUjIy53aWR0aCA6PSBKcy5zdHJpbmcgXCJcIlxubGV0IHJlc2V0X2hlaWdodCBlbGVtZW50ID0gZWxlbWVudCMjLnN0eWxlIyMuaGVpZ2h0IDo9IEpzLnN0cmluZyBcIlwiXG4iLCJvcGVuISBDb3JlXG5vcGVuISBJbXBvcnRcbm9wZW4hIEJvbnNhaV93ZWJcbm9wZW4gSnNfb2Zfb2NhbWxcblxubW9kdWxlIEJib3ggPSBzdHJ1Y3RcbiAgdHlwZSB0ID1cbiAgICB7IG1pbl94IDogZmxvYXRcbiAgICA7IG1heF94IDogZmxvYXRcbiAgICA7IG1pbl95IDogZmxvYXRcbiAgICA7IG1heF95IDogZmxvYXRcbiAgICB9XG4gIFtAQGRlcml2aW5nIHNleHAsIGVxdWFsXVxuXG4gIGxldCBvZl9jbGllbnRfcmVjdCAoYm94IDogRG9tX2h0bWwuY2xpZW50UmVjdCBKcy50KSA9XG4gICAgeyBtaW5feCA9IGJveCMjLmxlZnQ7IG1pbl95ID0gYm94IyMudG9wOyBtYXhfeCA9IGJveCMjLnJpZ2h0OyBtYXhfeSA9IGJveCMjLmJvdHRvbSB9XG4gIDs7XG5cbiAgbGV0IHdpZHRoIHQgPSB0Lm1heF94IC0uIHQubWluX3hcbiAgbGV0IGhlaWdodCB0ID0gdC5tYXhfeSAtLiB0Lm1pbl95XG5lbmRcblxubW9kdWxlIFQgPSBzdHJ1Y3RcbiAgbW9kdWxlIElucHV0ID0gc3RydWN0XG4gICAgdHlwZSB0ID1cbiAgICAgIHsgY2xpZW50X3JlY3RfY2hhbmdlZCA6IEJib3gudCAtPiB1bml0IFZkb20uRWZmZWN0LnRcbiAgICAgIDsgdmlzaWJsZV9yZWN0X2NoYW5nZWQgOiBCYm94LnQgb3B0aW9uIC0+IHVuaXQgVmRvbS5FZmZlY3QudFxuICAgICAgfVxuXG4gICAgbGV0IHNleHBfb2ZfdCA9IHNleHBfb2Zfb3BhcXVlXG5cbiAgICBsZXQgY29tYmluZVxuICAgICAgeyBjbGllbnRfcmVjdF9jaGFuZ2VkID0gY2xpZW50X3JlY3RfY2hhbmdlZF9sZWZ0XG4gICAgICA7IHZpc2libGVfcmVjdF9jaGFuZ2VkID0gdmlzaWJsZV9yZWN0X2NoYW5nZWRfbGVmdFxuICAgICAgfVxuICAgICAgeyBjbGllbnRfcmVjdF9jaGFuZ2VkID0gY2xpZW50X3JlY3RfY2hhbmdlZF9yaWdodFxuICAgICAgOyB2aXNpYmxlX3JlY3RfY2hhbmdlZCA9IHZpc2libGVfcmVjdF9jaGFuZ2VkX3JpZ2h0XG4gICAgICB9XG4gICAgICA9XG4gICAgICBsZXQgY2xpZW50X3JlY3RfY2hhbmdlZCBiYm94ID1cbiAgICAgICAgVmRvbS5FZmZlY3Quc2VxdWVuY2VfYXNfc2libGluZ1xuICAgICAgICAgIChjbGllbnRfcmVjdF9jaGFuZ2VkX2xlZnQgYmJveClcbiAgICAgICAgICB+dW5sZXNzX3N0b3BwZWQ6KGZ1biAoKSAtPiBjbGllbnRfcmVjdF9jaGFuZ2VkX3JpZ2h0IGJib3gpXG4gICAgICBpblxuICAgICAgbGV0IHZpc2libGVfcmVjdF9jaGFuZ2VkIGJib3ggPVxuICAgICAgICBWZG9tLkVmZmVjdC5zZXF1ZW5jZV9hc19zaWJsaW5nXG4gICAgICAgICAgKHZpc2libGVfcmVjdF9jaGFuZ2VkX2xlZnQgYmJveClcbiAgICAgICAgICB+dW5sZXNzX3N0b3BwZWQ6KGZ1biAoKSAtPiB2aXNpYmxlX3JlY3RfY2hhbmdlZF9yaWdodCBiYm94KVxuICAgICAgaW5cbiAgICAgIHsgY2xpZW50X3JlY3RfY2hhbmdlZDsgdmlzaWJsZV9yZWN0X2NoYW5nZWQgfVxuICAgIDs7XG4gIGVuZFxuXG4gIG1vZHVsZSBTdGF0ZSA9IHN0cnVjdFxuICAgIHR5cGUgcHJldiA9XG4gICAgICB7IG11dGFibGUgd2hvbGVfZWxlbWVudCA6IEJib3gudFxuICAgICAgOyBtdXRhYmxlIHZpc2libGVfc2VjdGlvbiA6IEJib3gudCBvcHRpb25cbiAgICAgIH1cbiAgICBbQEBkZXJpdmluZyBzZXhwLCBlcXVhbF1cblxuICAgIHR5cGUgbm9ucmVjIHQgPVxuICAgICAgeyBtdXRhYmxlIGNhbGxiYWNrIDogSW5wdXQudFxuICAgICAgOyBtdXRhYmxlIHByZXYgOiBwcmV2XG4gICAgICA7IG11dGFibGUgZGlydHkgOiBib29sXG4gICAgICA7IG9ic2VydmVyIDpcbiAgICAgICAgICAoSnNfb2Zfb2NhbWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgSnMudFtAc2V4cC5vcGFxdWVdKVxuICAgICAgfVxuICAgIFtAQGRlcml2aW5nIHNleHBfb2ZdXG4gIGVuZFxuXG4gIGxldCBpbml0IChjYWxsYmFjayA6IElucHV0LnQpIGVsZW1lbnQgPVxuICAgIGxldCByZWMgc3RhdGUgPVxuICAgICAgbGF6eVxuICAgICAgICB7IFN0YXRlLmNhbGxiYWNrXG4gICAgICAgIDsgcHJldiA9XG4gICAgICAgICAgICB7IHdob2xlX2VsZW1lbnQgPSB7IG1pbl94ID0gMC4wOyBtaW5feSA9IDAuMDsgbWF4X3ggPSAwLjA7IG1heF95ID0gMC4wIH1cbiAgICAgICAgICAgIDsgdmlzaWJsZV9zZWN0aW9uID0gTm9uZVxuICAgICAgICAgICAgfVxuICAgICAgICA7IGRpcnR5ID0gdHJ1ZVxuICAgICAgICA7IG9ic2VydmVyID0gTGF6eS5mb3JjZSBvYnNlcnZlclxuICAgICAgICB9XG4gICAgYW5kIG9ic2VydmVyID1cbiAgICAgIGxhenlcbiAgICAgICAgKG5ldyVqcyBJbnRlcnNlY3Rpb25PYnNlcnZlci5pbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgICAgICAoSnMud3JhcF9jYWxsYmFja1xuICAgICAgICAgICAgICAoZnVuIGVudHJpZXMgKG9ic2VydmVyIDogSW50ZXJzZWN0aW9uT2JzZXJ2ZXIuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgSnMudCkgLT5cbiAgICAgICAgICAgICAgZm9yIGkgPSAwIHRvIGVudHJpZXMjIy5sZW5ndGggLSAxIGRvXG4gICAgICAgICAgICAgICAgbGV0IGVudHJ5ID0gSnMuYXJyYXlfZ2V0IGVudHJpZXMgaSBpblxuICAgICAgICAgICAgICAgIEpzLk9wdGRlZi5pdGVyIGVudHJ5IHByb2Nlc3NcbiAgICAgICAgICAgICAgZG9uZTtcbiAgICAgICAgICAgICAgKCogdW5vYnNlcnZlIGFuZCBpbW1lZGlhdGVseSByZS1vYnNlcnZlIGluIG9yZGVyIHRvIHRyaWdnZXIgYVxuICAgICAgICAgICAgICAgICAgIHJlY29tcHV0YXRpb24gb2YgdGhlIGludGVyc2VjdGlvbiByZWN0LiAqKVxuICAgICAgICAgICAgICBvYnNlcnZlciMjdW5vYnNlcnZlIChlbGVtZW50IDo+ICNEb20ubm9kZSBKcy50KTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIjI29ic2VydmUgKGVsZW1lbnQgOj4gI0RvbS5ub2RlIEpzLnQpKSlcbiAgICAgICAgICAgKEludGVyc2VjdGlvbk9ic2VydmVyLmVtcHR5X2ludGVyc2VjdGlvbl9vYnNlcnZlcl9vcHRpb25zICgpKSlcbiAgICBhbmQgcHJvY2VzcyBlbnRyeSA9XG4gICAgICBsZXQgY2xpZW50X3JlY3QgPSBCYm94Lm9mX2NsaWVudF9yZWN0IGVudHJ5IyMuYm91bmRpbmdDbGllbnRSZWN0IGluXG4gICAgICBsZXQgaW50ZXJzZWN0aW9uX3JlY3QgPVxuICAgICAgICBpZiBKcy50b19ib29sIGVudHJ5IyMuaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgdGhlbiAoXG4gICAgICAgICAgbGV0IGJib3ggPSBCYm94Lm9mX2NsaWVudF9yZWN0IGVudHJ5IyMuaW50ZXJzZWN0aW9uUmVjdCBpblxuICAgICAgICAgIFNvbWVcbiAgICAgICAgICAgIHsgQmJveC5taW5feCA9IGJib3gubWluX3ggLS4gY2xpZW50X3JlY3QubWluX3hcbiAgICAgICAgICAgIDsgbWluX3kgPSBiYm94Lm1pbl95IC0uIGNsaWVudF9yZWN0Lm1pbl95XG4gICAgICAgICAgICA7IG1heF94ID0gYmJveC5tYXhfeCAtLiBjbGllbnRfcmVjdC5taW5feFxuICAgICAgICAgICAgOyBtYXhfeSA9IGJib3gubWF4X3kgLS4gY2xpZW50X3JlY3QubWluX3lcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGVsc2UgTm9uZVxuICAgICAgaW5cbiAgICAgIGxldCBzdGF0ZSA9IExhenkuZm9yY2Ugc3RhdGUgaW5cbiAgICAgIGlmIHN0YXRlLmRpcnR5XG4gICAgICAgICB8fCBub3QgKFslZXF1YWw6IEJib3gudCBvcHRpb25dIGludGVyc2VjdGlvbl9yZWN0IHN0YXRlLnByZXYudmlzaWJsZV9zZWN0aW9uKVxuICAgICAgdGhlbiAoXG4gICAgICAgIGludGVyc2VjdGlvbl9yZWN0XG4gICAgICAgIHw+IHN0YXRlLmNhbGxiYWNrLnZpc2libGVfcmVjdF9jaGFuZ2VkXG4gICAgICAgIHw+IEVmZmVjdC5FeHBlcnQuaGFuZGxlX25vbl9kb21fZXZlbnRfZXhuO1xuICAgICAgICBzdGF0ZS5wcmV2LnZpc2libGVfc2VjdGlvbiA8LSBpbnRlcnNlY3Rpb25fcmVjdCk7XG4gICAgICBpZiBzdGF0ZS5kaXJ0eSB8fCBub3QgKFslZXF1YWw6IEJib3gudF0gY2xpZW50X3JlY3Qgc3RhdGUucHJldi53aG9sZV9lbGVtZW50KVxuICAgICAgdGhlbiAoXG4gICAgICAgIGNsaWVudF9yZWN0XG4gICAgICAgIHw+IHN0YXRlLmNhbGxiYWNrLmNsaWVudF9yZWN0X2NoYW5nZWRcbiAgICAgICAgfD4gRWZmZWN0LkV4cGVydC5oYW5kbGVfbm9uX2RvbV9ldmVudF9leG47XG4gICAgICAgIHN0YXRlLnByZXYud2hvbGVfZWxlbWVudCA8LSBjbGllbnRfcmVjdCk7XG4gICAgICBzdGF0ZS5kaXJ0eSA8LSBmYWxzZVxuICAgIGluXG4gICAgbGV0IHN0YXRlID0gTGF6eS5mb3JjZSBzdGF0ZSBpblxuICAgIHN0YXRlLm9ic2VydmVyIyNvYnNlcnZlIGVsZW1lbnQ7XG4gICAgc3RhdGVcbiAgOztcblxuICBsZXQgb25fbW91bnQgPSBgRG9fbm90aGluZ1xuXG4gIGxldCB1cGRhdGUgfm9sZF9pbnB1dDpfIH5uZXdfaW5wdXQ6Y2FsbGJhY2sgKHN0YXRlIDogU3RhdGUudCkgX2VsZW1lbnQgPVxuICAgIHN0YXRlLmRpcnR5IDwtIHRydWU7XG4gICAgc3RhdGUuY2FsbGJhY2sgPC0gY2FsbGJhY2tcbiAgOztcblxuICBsZXQgZGVzdHJveSBfaW5wdXQgKHN0YXRlIDogU3RhdGUudCkgX2VsZW1lbnQgPSBzdGF0ZS5vYnNlcnZlciMjZGlzY29ubmVjdFxuZW5kXG5cbm1vZHVsZSBIb29rID0gVmRvbS5BdHRyLkhvb2tzLk1ha2UgKFQpXG5cbmxldCBkZXRlY3RcbiAgPyhjbGllbnRfcmVjdF9jaGFuZ2VkID0gZnVuIF8gLT4gRWZmZWN0Lklnbm9yZSlcbiAgPyh2aXNpYmxlX3JlY3RfY2hhbmdlZCA9IGZ1biBfIC0+IEVmZmVjdC5JZ25vcmUpXG4gICgpXG4gID1cbiAgVmRvbS5BdHRyLmNyZWF0ZV9ob29rXG4gICAgXCJib3VuZHMtY2hhbmdlXCJcbiAgICAoSG9vay5jcmVhdGUgeyBULklucHV0LmNsaWVudF9yZWN0X2NoYW5nZWQ7IHZpc2libGVfcmVjdF9jaGFuZ2VkIH0pXG47O1xuXG5tb2R1bGUgRm9yX3Rlc3RpbmcgPSBzdHJ1Y3RcbiAgaW5jbHVkZSBIb29rLkZvcl90ZXN0aW5nXG4gIGluY2x1ZGUgVC5JbnB1dFxuZW5kXG4iLCJvcGVuISBDb3JlXG5vcGVuISBJbXBvcnRcbm9wZW4hIEJvbnNhaV93ZWJcbm9wZW4hIEpzX29mX29jYW1sXG5cbm1vZHVsZSBEaW1lbnNpb25zID0gc3RydWN0XG4gIHR5cGUgdCA9XG4gICAgeyB3aWR0aCA6IGZsb2F0XG4gICAgOyBoZWlnaHQgOiBmbG9hdFxuICAgIH1cbmVuZFxuXG5tb2R1bGUgVCA9IHN0cnVjdFxuICBtb2R1bGUgU3RhdGUgPSBzdHJ1Y3RcbiAgICB0eXBlIHQgPVxuICAgICAgeyBtdXRhYmxlIGNhbGxiYWNrIDogd2lkdGg6ZmxvYXQgLT4gaGVpZ2h0OmZsb2F0IC0+IHVuaXRcbiAgICAgIDsgbXV0YWJsZSBvYnNlcnZlciA6IFJlc2l6ZU9ic2VydmVyLnJlc2l6ZU9ic2VydmVyIEpzLnQgb3B0aW9uXG4gICAgICA7IG11dGFibGUgbGFzdF93aWR0aCA6IGZsb2F0XG4gICAgICA7IG11dGFibGUgbGFzdF9oZWlnaHQgOiBmbG9hdFxuICAgICAgfVxuICBlbmRcblxuICBsZXQgb2JzZXJ2ZSBub2RlIH4oc3RhdGUgOiBTdGF0ZS50KSA9XG4gICAgKCogV2UgdGFrZSB0aGUgd2hvbGUgc3RhdGUgaGVyZSBzbyB0aGF0IHdlIGNhbiBtdXRhdGUgdGhlIGNhbGxiYWNrIGluIGl0IGFuZFxuICAgICAgIHdpdG5lc3MgdGhlIGNoYW5nZSBpbiB0aGUgb2JzZXJ2ZXIgKilcbiAgICBsZXQgb25fcmVzaXplX29ic2VydmVkIGVudHJpZXMgX29ic2VydmVyID1cbiAgICAgIGxldCBvcGVuIE9wdGlvbi5MZXRfc3ludGF4IGluXG4gICAgICBsZXQgc2l6ZSA9XG4gICAgICAgIGxldCViaW5kIGZpcnN0X2VudHJ5ID0gSnMuYXJyYXlfZ2V0IGVudHJpZXMgMCB8PiBKcy5PcHRkZWYudG9fb3B0aW9uIGluXG4gICAgICAgIGxldCBib3JkZXJfYm94X2FyciA9IGZpcnN0X2VudHJ5IyMuYm9yZGVyQm94U2l6ZSBpblxuICAgICAgICBsZXQlbWFwIGJvcmRlcl9ib3ggPSBKcy5hcnJheV9nZXQgYm9yZGVyX2JveF9hcnIgMCB8PiBKcy5PcHRkZWYudG9fb3B0aW9uIGluXG4gICAgICAgICgqIFRoaXMgYXNzdW1lcyB3cml0aW5nLW1vZGU6aG9yaXpvbnRhbC5cbiAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc2l6ZU9ic2VydmVyRW50cnkvYm9yZGVyQm94U2l6ZSAqKVxuICAgICAgICBib3JkZXJfYm94IyMuaW5saW5lU2l6ZSwgYm9yZGVyX2JveCMjLmJsb2NrU2l6ZVxuICAgICAgaW5cbiAgICAgIE9wdGlvbi5pdGVyIHNpemUgfmY6KGZ1biAod2lkdGgsIGhlaWdodCkgLT5cbiAgICAgICAgc3RhdGUubGFzdF93aWR0aCA8LSB3aWR0aDtcbiAgICAgICAgc3RhdGUubGFzdF9oZWlnaHQgPC0gaGVpZ2h0O1xuICAgICAgICBzdGF0ZS5jYWxsYmFjayB+d2lkdGggfmhlaWdodClcbiAgICBpblxuICAgIFJlc2l6ZU9ic2VydmVyLm9ic2VydmUgKCkgfm5vZGUgfmY6b25fcmVzaXplX29ic2VydmVkXG4gIDs7XG5cbiAgb3BlbiBTdGF0ZVxuXG4gIG1vZHVsZSBJbnB1dCA9IHN0cnVjdFxuICAgIHR5cGUgdCA9IERpbWVuc2lvbnMudCAtPiB1bml0IFZkb20uRWZmZWN0LnQgW0BAZGVyaXZpbmcgc2V4cF9vZl1cblxuICAgIGxldCBjb21iaW5lIGxlZnQgcmlnaHQgZGltZW5zaW9ucyA9XG4gICAgICBWZG9tLkVmZmVjdC5zZXF1ZW5jZV9hc19zaWJsaW5nIChsZWZ0IGRpbWVuc2lvbnMpIH51bmxlc3Nfc3RvcHBlZDooZnVuICgpIC0+XG4gICAgICAgIHJpZ2h0IGRpbWVuc2lvbnMpXG4gICAgOztcbiAgZW5kXG5cbiAgbGV0IHdyYXBfd2l0aF9oYW5kbGUgfndpZHRoIH5oZWlnaHQgfmYgPVxuICAgIFZkb20uRWZmZWN0LkV4cGVydC5oYW5kbGVfbm9uX2RvbV9ldmVudF9leG4gKGYgeyBEaW1lbnNpb25zLndpZHRoOyBoZWlnaHQgfSlcbiAgOztcblxuICBsZXQgaW5pdCBpbnB1dCBfID1cbiAgICB7IFN0YXRlLm9ic2VydmVyID0gTm9uZVxuICAgIDsgY2FsbGJhY2sgPSB3cmFwX3dpdGhfaGFuZGxlIH5mOmlucHV0XG4gICAgOyBsYXN0X3dpZHRoID0gMC4wXG4gICAgOyBsYXN0X2hlaWdodCA9IDAuMFxuICAgIH1cbiAgOztcblxuICBsZXQgb25fbW91bnQgXyBzdGF0ZSBlbGVtZW50ID0gc3RhdGUub2JzZXJ2ZXIgPC0gU29tZSAob2JzZXJ2ZSB+c3RhdGUgZWxlbWVudClcbiAgbGV0IG9uX21vdW50ID0gYFNjaGVkdWxlX2FuaW1hdGlvbl9mcmFtZSBvbl9tb3VudFxuXG4gIGxldCB1cGRhdGUgfm9sZF9pbnB1dCB+bmV3X2lucHV0IHN0YXRlIF8gPVxuICAgIGlmIHBoeXNfZXF1YWwgb2xkX2lucHV0IG5ld19pbnB1dFxuICAgIHRoZW4gKClcbiAgICBlbHNlIChcbiAgICAgIHN0YXRlLmNhbGxiYWNrIDwtIHdyYXBfd2l0aF9oYW5kbGUgfmY6bmV3X2lucHV0O1xuICAgICAgKCogaWYgdGhlIFwic2l6ZSBjaGFuZ2VcIiBjYWxsYmFjayBmdW5jdGlvbiBjaGFuZ2VzLCB3ZSBzaG91bGQgc2VuZCBpdCB3aGF0IHdlXG4gICAgICAgICBjdXJyZW50bHkgdGhpbmsgdGhlIHNpemUgaXMsIG90aGVyd2lzZSBpZiB0aGUgZWxlbWVudCBuZXZlciBjaGFuZ2VzIHNpemUsIFxuICAgICAgICAgdGhlIGZ1bmN0aW9uIHdvdWxkIG5ldmVyIGdldCBjYWxsZWQsIHNvIHdoYXRldmVyIGlzIHR0cmFja2luZyB0aGUgc2l6ZSB3b3VsZCBcbiAgICAgICAgIGFsd2F5cyByZW1haW4gY2x1ZWxlc3MuLi4gKilcbiAgICAgIHN0YXRlLmNhbGxiYWNrIH53aWR0aDpzdGF0ZS5sYXN0X3dpZHRoIH5oZWlnaHQ6c3RhdGUubGFzdF9oZWlnaHQpXG4gIDs7XG5cbiAgbGV0IGRlc3Ryb3kgXyBzdGF0ZSBfID1cbiAgICBPcHRpb24uaXRlciBzdGF0ZS5vYnNlcnZlciB+ZjooZnVuIG9ic2VydmVyIC0+IG9ic2VydmVyIyNkaXNjb25uZWN0KVxuICA7O1xuZW5kXG5cbm1vZHVsZSBIb29rID0gVmRvbS5BdHRyLkhvb2tzLk1ha2UgKFQpXG5cbmxldCBvbl9jaGFuZ2UgZiA9XG4gIGxldCBmIHsgRGltZW5zaW9ucy53aWR0aDsgaGVpZ2h0IH0gPSBmIH53aWR0aCB+aGVpZ2h0IGluXG4gIFZkb20uQXR0ci5jcmVhdGVfaG9vayBcInNpemVfdHJhY2tlclwiIChIb29rLmNyZWF0ZSBmKVxuOztcblxubW9kdWxlIEZvcl90ZXN0aW5nID0gc3RydWN0XG4gIG1vZHVsZSBEaW1lbnNpb25zID0gRGltZW5zaW9uc1xuICBpbmNsdWRlIEhvb2suRm9yX3Rlc3RpbmdcbmVuZFxuIiwib3BlbiEgQ29yZVxub3BlbiEgSW1wb3J0XG5vcGVuISBCb25zYWlfd2ViXG5vcGVuISBKc19vZl9vY2FtbFxuXG5tb2R1bGUgU2Nyb2xsYWJsZSA9IHN0cnVjdFxuICB0eXBlIHQgPVxuICAgIHwgTmVpdGhlclxuICAgIHwgVmVydGljYWxcbiAgICB8IEhvcml6b250YWxcbiAgICB8IEJvdGhcbiAgW0BAZGVyaXZpbmcgc2V4cCwgZXF1YWxdXG5lbmRcblxuKCogUmVzaXplT2JzZXJ2ZXIgaXMgYW4gdW5pbnR1aXRpdmUgY2hvaWNlLCBidXQgaW50ZXJzZWN0aW9uIG9iZXJ2ZXIgaGFzIGlzc3VlcyBtYW5hZ2luZ1xuICAgY2hhbmdlcyBvZmYgc2NyZWVuIGFuZCBoYXMgbW9yZSBleHRyZW1lIHBpdGZhbGxzIGFyb3VuZCBtdWx0aXBsZSBjaGlsZHJlbiBhbmQgd2hlcmUgeW91XG4gICBhdHRhY2ggaXQuICopXG5tb2R1bGUgU2Nyb2xsX3RyYWNrZXIgPSBzdHJ1Y3RcbiAgbW9kdWxlIFN0YXRlID0gc3RydWN0XG4gICAgdHlwZSB0ID1cbiAgICAgIHsgbXV0YWJsZSBvYnNlcnZlciA6IFJlc2l6ZU9ic2VydmVyLnJlc2l6ZU9ic2VydmVyIEpzLnQgb3B0aW9uXG4gICAgICA7IG11dGFibGUgcGFyZW50IDogRG9tX2h0bWwuZWxlbWVudCBKcy50IG9wdGlvblxuICAgICAgOyBtdXRhYmxlIHNjcm9sbGFibGUgOiBTY3JvbGxhYmxlLnRcbiAgICAgIDsgbXV0YWJsZSBjYWxsYmFjayA6IHNjcm9sbGFibGU6U2Nyb2xsYWJsZS50IC0+IHVuaXRcbiAgICAgIH1cbiAgZW5kXG5cbiAgbGV0IG9ic2VydmUgY2hpbGQgcGFyZW50IH4oc3RhdGUgOiBTdGF0ZS50KSA9XG4gICAgKCogV2UgdGFrZSB0aGUgd2hvbGUgc3RhdGUgaGVyZSBzbyB0aGF0IHdlIGNhbiBtdXRhdGUgdGhlIGNhbGxiYWNrIGluIGl0IGFuZFxuICAgICAgIHdpdG5lc3MgdGhlIGNoYW5nZSBpbiB0aGUgb2JzZXJ2ZXIgKilcbiAgICBsZXQgb25fcmVzaXplX29ic2VydmVkIF9lbnRyaWVzIF9vYnNlcnZlciA9XG4gICAgICAoKiBZb3UgbWlnaHQgYmUgd29uZGVyaW5nIHdoeSBzaXplLWNoYW5nZXMgd291bGQgdHJpZ2dlciB3aGVuIGEgc2Nyb2xsYmFyIFxuICAgICAgICAgaXMgYWRkZWQ7IGFmdGVyIGFsbCwgYXJlbid0IHNjcm9sbGJhcnMgYWRkZWQgdG8gYW4gZWxlbWVudCBpbiBvcmRlciB0byBcbiAgICAgICAgIGtlZXAgaXRzIHNpemUgdGhlIHNhbWU/XG5cbiAgICAgICAgIEhvd2V2ZXIsIHRoZSBkZW1vIG9mIHRoaXMgaG9vayBzaG93cyB0aGF0IHRoZSBzaXplIGRvZXMgaW4gZmFjdCBjaGFuZ2UsIFxuICAgICAgICAgYW5kIGlmIHlvdSBhZGQgYSBsb2cgc3RhdGVtZW50IGhlcmUgXG4gICAgICAgICB7W1xuICAgICAgICAgICBKc19vZl9vY2FtbC5GaXJlYnVnLmNvbnNvbGUjI2xvZyBlbnRyaWVzO1xuICAgICAgICAgXX0gKilcbiAgICAgIGxldCBvcGVuIE9wdGlvbi5MZXRfc3ludGF4IGluXG4gICAgICBsZXQgKF8gOiB1bml0IG9wdGlvbikgPVxuICAgICAgICBsZXQlbWFwIHRhcmdldCA9IHN0YXRlLnBhcmVudCBpblxuICAgICAgICBsZXQgdmVydGljYWwgPSB0YXJnZXQjIy5zY3JvbGxIZWlnaHQgPiB0YXJnZXQjIy5jbGllbnRIZWlnaHQgaW5cbiAgICAgICAgbGV0IGhvcml6b250YWwgPSB0YXJnZXQjIy5zY3JvbGxXaWR0aCA+IHRhcmdldCMjLmNsaWVudFdpZHRoIGluXG4gICAgICAgIHN0YXRlLnNjcm9sbGFibGVcbiAgICAgICAgICA8LSAobWF0Y2ggdmVydGljYWwsIGhvcml6b250YWwgd2l0aFxuICAgICAgICAgICAgICB8IHRydWUsIHRydWUgLT4gQm90aFxuICAgICAgICAgICAgICB8IHRydWUsIGZhbHNlIC0+IFZlcnRpY2FsXG4gICAgICAgICAgICAgIHwgZmFsc2UsIHRydWUgLT4gSG9yaXpvbnRhbFxuICAgICAgICAgICAgICB8IGZhbHNlLCBmYWxzZSAtPiBOZWl0aGVyKTtcbiAgICAgICAgc3RhdGUuY2FsbGJhY2sgfnNjcm9sbGFibGU6c3RhdGUuc2Nyb2xsYWJsZVxuICAgICAgaW5cbiAgICAgICgpXG4gICAgaW5cbiAgICBsZXQgb2JzZXJ2ZXIgPSBSZXNpemVPYnNlcnZlci5vYnNlcnZlICgpIH5ub2RlOmNoaWxkIH5mOm9uX3Jlc2l6ZV9vYnNlcnZlZCBpblxuICAgIG9ic2VydmVyIyNvYnNlcnZlIHBhcmVudDtcbiAgICBvYnNlcnZlclxuICA7O1xuXG4gIG9wZW4gU3RhdGVcblxuICBtb2R1bGUgSW5wdXQgPSBzdHJ1Y3RcbiAgICB0eXBlIHQgPSBTY3JvbGxhYmxlLnQgLT4gdW5pdCBWZG9tLkVmZmVjdC50IFtAQGRlcml2aW5nIHNleHBfb2ZdXG5cbiAgICBsZXQgY29tYmluZSBmIGcgZXZlbnQgPVxuICAgICAgVmRvbS5FZmZlY3Quc2VxdWVuY2VfYXNfc2libGluZyAoZiBldmVudCkgfnVubGVzc19zdG9wcGVkOihmdW4gKCkgLT4gZyBldmVudClcbiAgICA7O1xuICBlbmRcblxuICBsZXQgd3JhcF93aXRoX2hhbmRsZSB+c2Nyb2xsYWJsZSB+ZiA9XG4gICAgVmRvbS5FZmZlY3QuRXhwZXJ0LmhhbmRsZV9ub25fZG9tX2V2ZW50X2V4biAoZiBzY3JvbGxhYmxlKVxuICA7O1xuXG4gIGxldCBpbml0IGlucHV0IF8gPVxuICAgIHsgU3RhdGUub2JzZXJ2ZXIgPSBOb25lXG4gICAgOyBzY3JvbGxhYmxlID0gTmVpdGhlclxuICAgIDsgY2FsbGJhY2sgPSB3cmFwX3dpdGhfaGFuZGxlIH5mOmlucHV0XG4gICAgOyBwYXJlbnQgPSBOb25lXG4gICAgfVxuICA7O1xuXG4gIGxldCBvbl9tb3VudCBfIHN0YXRlIGVsZW1lbnQgPVxuICAgIGxldCBvcGVuIE9wdGlvbi5MZXRfc3ludGF4IGluXG4gICAgbGV0IChfIDogdW5pdCBvcHRpb24pID1cbiAgICAgIGxldCViaW5kIHBhcmVudE5vZGUgPSBlbGVtZW50IyMucGFyZW50Tm9kZSB8PiBKcy5PcHQudG9fb3B0aW9uIGluXG4gICAgICBsZXQlbWFwIHBhcmVudEVsZW1lbnQgPSBEb21faHRtbC5Db2VyY2VUby5lbGVtZW50IHBhcmVudE5vZGUgfD4gSnMuT3B0LnRvX29wdGlvbiBpblxuICAgICAgc3RhdGUucGFyZW50IDwtIFNvbWUgcGFyZW50RWxlbWVudDtcbiAgICAgICgqIFRoZXJlIGFyZSB0d28gc2VwYXJhdGUgb2JzZXJ2ZXJzIG9uIHBhcmVudCBhbmQgY2hpbGQgaGVyZS4gVGhpcyBpcyBiZWNhdXNlIHJlc2l6ZVxuICAgICAgICAgZXZlbnRzIGNvdWxkIGJlIHRyaWdnZXJlZCBieSBlaXRoZXIgdGhlIGNoaWxkIG9yIHRoZSBwYXJlbnQgcmVzaXppbmcuIFdlIGNvdWxkXG4gICAgICAgICBvbmx5IGxpc3RlZCB0byB0aGUgcGFyZW50IGV4Y2VwdCBpbiBjYXNlcyB3aGVyZSB0aGUgc2Nyb2xsYmFyIGl0c2VsZiBkb2Vzbid0XG4gICAgICAgICBjaGFuZ2UgdGhlIHNpemUgb2YgdGhlIHBhcmVudCAtIHNwZWNpZmljIGtub3duIHdlYWtuZXNzZXMgb2YgdGhpcyBhcHByb2FjaCBhcmVcbiAgICAgICAgIE9TWCB3aXRoIHNjcm9sbGJhcnMgb25seSBvbiBzY3JvbGwsIGFuZCBbc2Nyb2xsYmFyLWd1dHRlcjogc3RhYmxlXS4qKVxuICAgICAgc3RhdGUub2JzZXJ2ZXIgPC0gU29tZSAob2JzZXJ2ZSB+c3RhdGUgZWxlbWVudCBwYXJlbnROb2RlKVxuICAgIGluXG4gICAgKClcbiAgOztcblxuICBsZXQgb25fbW91bnQgPSBgU2NoZWR1bGVfYW5pbWF0aW9uX2ZyYW1lIG9uX21vdW50XG5cbiAgbGV0IHVwZGF0ZSB+b2xkX2lucHV0Ol8gfm5ld19pbnB1dCBzdGF0ZSBfID1cbiAgICBzdGF0ZS5jYWxsYmFjayA8LSB3cmFwX3dpdGhfaGFuZGxlIH5mOm5ld19pbnB1dDtcbiAgICBzdGF0ZS5jYWxsYmFjayB+c2Nyb2xsYWJsZTpzdGF0ZS5zY3JvbGxhYmxlXG4gIDs7XG5cbiAgbGV0IGRlc3Ryb3kgXyBzdGF0ZSBfID1cbiAgICBPcHRpb24uaXRlciBzdGF0ZS5vYnNlcnZlciB+ZjooZnVuIG9ic2VydmVyIC0+IG9ic2VydmVyIyNkaXNjb25uZWN0KVxuICA7O1xuZW5kXG5cbm1vZHVsZSBIb29rID0gVmRvbS5BdHRyLkhvb2tzLk1ha2UgKFNjcm9sbF90cmFja2VyKVxuXG5sZXQgb25fY2hhbmdlIGYgPSBWZG9tLkF0dHIuY3JlYXRlX2hvb2sgXCJzY3JvbGxfdHJhY2tlclwiIChIb29rLmNyZWF0ZSBmKVxuXG5tb2R1bGUgRm9yX3Rlc3RpbmcgPSBzdHJ1Y3RcbiAgaW5jbHVkZSBIb29rLkZvcl90ZXN0aW5nXG5lbmRcbiIsIm9wZW4hIENvcmVcbm9wZW4hIEltcG9ydFxub3BlbiEgSnNfb2Zfb2NhbWxcbm9wZW4hIFZpcnR1YWxfZG9tXG5cbm1vZHVsZSBFeHBlcnQgPSBzdHJ1Y3RcbiAgbGV0IHNldF93aWR0aCBlbGVtZW50ID1cbiAgICBsZXQgcmVjdCA9IGVsZW1lbnQjI2dldEJvdW5kaW5nQ2xpZW50UmVjdCBpblxuICAgIGxldCB3aWR0aCA9IEpzLk9wdGRlZi50b19vcHRpb24gcmVjdCMjLndpZHRoIGluXG4gICAgT3B0aW9uLml0ZXIgd2lkdGggfmY6KHNldF93aWR0aCBlbGVtZW50KVxuICA7O1xuXG4gIGxldCBzZXRfaGVpZ2h0IGVsZW1lbnQgPVxuICAgIGxldCByZWN0ID0gZWxlbWVudCMjZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluXG4gICAgbGV0IGhlaWdodCA9IEpzLk9wdGRlZi50b19vcHRpb24gcmVjdCMjLmhlaWdodCBpblxuICAgIE9wdGlvbi5pdGVyIGhlaWdodCB+Zjooc2V0X2hlaWdodCBlbGVtZW50KVxuICA7O1xuXG4gIGxldCByZXNldF93aWR0aCA9IHJlc2V0X3dpZHRoXG4gIGxldCByZXNldF9oZWlnaHQgPSByZXNldF9oZWlnaHRcbmVuZFxuXG5tb2R1bGUgVCA9IHN0cnVjdFxuICBtb2R1bGUgSW5wdXQgPSBzdHJ1Y3RcbiAgICB0eXBlIHQgPVxuICAgICAgeyBzZXQgOiBEb21faHRtbC5lbGVtZW50IEpzLnQgLT4gdW5pdFxuICAgICAgOyByZXNldCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCAtPiB1bml0XG4gICAgICB9XG4gICAgW0BAZGVyaXZpbmcgc2V4cF1cblxuICAgIGxldCBjb21iaW5lIGxlZnQgcmlnaHQgPVxuICAgICAgeyBzZXQgPVxuICAgICAgICAgIChmdW4gZWxlbWVudCAtPlxuICAgICAgICAgICAgbGVmdC5zZXQgZWxlbWVudDtcbiAgICAgICAgICAgIHJpZ2h0LnNldCBlbGVtZW50KVxuICAgICAgOyByZXNldCA9XG4gICAgICAgICAgKGZ1biBlbGVtZW50IC0+XG4gICAgICAgICAgICBsZWZ0LnJlc2V0IGVsZW1lbnQ7XG4gICAgICAgICAgICByaWdodC5yZXNldCBlbGVtZW50KVxuICAgICAgfVxuICAgIDs7XG4gIGVuZFxuXG4gIG1vZHVsZSBTdGF0ZSA9IFVuaXRcblxuICBsZXQgaW5pdCBfaW5wdXQgX2VsZW1lbnQgPSAoKVxuICBsZXQgb25fbW91bnQgeyBJbnB1dC5zZXQ7IF8gfSAoKSBlbGVtZW50ID0gc2V0IGVsZW1lbnRcbiAgbGV0IG9uX21vdW50ID0gYFNjaGVkdWxlX2FuaW1hdGlvbl9mcmFtZSBvbl9tb3VudFxuICBsZXQgdXBkYXRlIH5vbGRfaW5wdXQ6XyB+bmV3X2lucHV0Ol8gKCkgX2VsZW1lbnQgPSAoKVxuICBsZXQgZGVzdHJveSB7IElucHV0LnJlc2V0OyBfIH0gKCkgZWxlbWVudCA9IHJlc2V0IGVsZW1lbnRcbmVuZFxuXG5tb2R1bGUgSG9vayA9IFZkb20uQXR0ci5Ib29rcy5NYWtlIChUKVxuXG5sZXQgb25fbW91bnQgfm5hbWUgfnNldCB+cmVzZXQgPVxuICBWZG9tLkF0dHIuY3JlYXRlX2hvb2sgbmFtZSAoSG9vay5jcmVhdGUgeyBULklucHV0LnNldDsgcmVzZXQgfSlcbjs7XG5cbmxldCB3aWR0aCA9IG9uX21vdW50IH5uYW1lOlwiZnJlZXplX3dpZHRoXCIgfnNldDpFeHBlcnQuc2V0X3dpZHRoIH5yZXNldDpyZXNldF93aWR0aFxubGV0IGhlaWdodCA9IG9uX21vdW50IH5uYW1lOlwiZnJlZXplX2hlaWdodFwiIH5zZXQ6RXhwZXJ0LnNldF9oZWlnaHQgfnJlc2V0OnJlc2V0X2hlaWdodFxuIiwib3BlbiEgQ29yZVxub3BlbiEgSW1wb3J0XG5vcGVuISBCb25zYWlfd2ViXG5vcGVuISBCb25zYWkuTGV0X3N5bnRheFxub3BlbiEgSnNfb2Zfb2NhbWxcblxubGV0IHNldF9jdXJzb3IgcyA9XG4gICgqIFRoZSBgIWltcG9ydGFudGAgcmVkdWNlcyB0aGUgYnJvd3NlcidzIG5lZWQgdG8gcGVyZm9ybSBhbiBleHBlbnNpdmUgc3R5bGUgcmVjYWxjLiBJblxuICAgICBwcm9maWxpbmcsIGl0IHJlZHVjZXMgdGhlIHdvcmsgb24gcG9pbnRlci11cCBhbmQgcG9pbnRlci1kb3duIGV2ZW50cyBieSB+MTB4ICopXG4gIGxldCBzID0gWyVzdHJpbmcgXCIle3N9ICFpbXBvcnRhbnRcIl0gaW5cbiAgRG9tX2h0bWwud2luZG93IyMuZG9jdW1lbnQjIy5ib2R5IyMuc3R5bGUjIy5jdXJzb3IgOj0gSnMuc3RyaW5nIHNcbjs7XG5cbm1vZHVsZSBQb2ludGVyX2V2ZW50ID0gc3RydWN0XG4gIG1vZHVsZSBUID0gc3RydWN0XG4gICAgdHlwZSB0ID1cbiAgICAgIHwgRG93blxuICAgICAgfCBVcFxuICAgICAgfCBNb3ZlXG4gICAgW0BAZGVyaXZpbmcgc2V4cCwgY29tcGFyZSwgZXF1YWxdXG4gIGVuZFxuXG4gIGluY2x1ZGUgVFxuICBpbmNsdWRlIENvbXBhcmFibGUuTWFrZSAoVClcblxuICBsZXQgdG9fZG9tX2h0bWwgPSBmdW5jdGlvblxuICAgIHwgRG93biAtPiBEb21faHRtbC5FdmVudC5wb2ludGVyZG93blxuICAgIHwgVXAgLT4gRG9tX2h0bWwuRXZlbnQucG9pbnRlcnVwXG4gICAgfCBNb3ZlIC0+IERvbV9odG1sLkV2ZW50LnBvaW50ZXJtb3ZlXG4gIDs7XG5lbmRcblxubW9kdWxlIFNpZGUgPSBzdHJ1Y3RcbiAgdHlwZSB0ID1cbiAgICB8IExlZnRcbiAgICB8IFJpZ2h0XG4gIFtAQGRlcml2aW5nIHNleHBfb2ZdXG5lbmRcblxubW9kdWxlIFN0YXRlID0gc3RydWN0XG4gIHR5cGUgdCA9XG4gICAgeyBtdXRhYmxlIGxpc3RlbmVycyA6IERvbS5ldmVudF9saXN0ZW5lcl9pZCBQb2ludGVyX2V2ZW50Lk1hcC50XG4gICAgOyBtdXRhYmxlIGFuaW1hdGlvbl9pZCA6IERvbV9odG1sLmFuaW1hdGlvbl9mcmFtZV9yZXF1ZXN0X2lkXG4gICAgOyBtdXRhYmxlIHBvaW50ZXJfeCA6IGZsb2F0IG9wdGlvblxuICAgIDsgbXV0YWJsZSBsYXN0X3BvaW50ZXJfeCA6IGZsb2F0IG9wdGlvblxuICAgIDsgbXV0YWJsZSBzaWRlIDogU2lkZS50XG4gICAgfVxuICBbQEBkZXJpdmluZyBmaWVsZHMgfmdldHRlcnMgfnNldHRlcnMgfml0ZXJhdG9yczpjcmVhdGVdXG5cbiAgbGV0IGNyZWF0ZSB+c2lkZSAoKSA9XG4gICAgbGV0IGFuaW1hdGlvbl9pZCA9IHJlcXVlc3RfYW5pbWF0aW9uX2ZyYW1lIChGbi5jb25zdCAoKSkgaW5cbiAgICBGaWVsZHMuY3JlYXRlXG4gICAgICB+bGlzdGVuZXJzOlBvaW50ZXJfZXZlbnQuTWFwLmVtcHR5XG4gICAgICB+YW5pbWF0aW9uX2lkXG4gICAgICB+cG9pbnRlcl94Ok5vbmVcbiAgICAgIH5sYXN0X3BvaW50ZXJfeDpOb25lXG4gICAgICB+c2lkZVxuICA7O1xuXG4gIGxldCByZW1vdmVfZXZlbnRfbGlzdGVuZXIgPSBPcHRpb24uaXRlciB+ZjpEb21faHRtbC5yZW1vdmVFdmVudExpc3RlbmVyXG5cbiAgbGV0IGRlc3Ryb3kgeyBsaXN0ZW5lcnM7IGFuaW1hdGlvbl9pZDsgXyB9ID1cbiAgICBNYXAuaXRlciBsaXN0ZW5lcnMgfmY6RG9tX2h0bWwucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgICBjYW5jZWxfYW5pbWF0aW9uX2ZyYW1lIGFuaW1hdGlvbl9pZFxuICA7O1xuXG4gIGxldCBvbl9wb2ludGVyX2V2ZW50IHN0YXRlIGVsZW1lbnQgfmYgfmV2ZW50ID1cbiAgICByZW1vdmVfZXZlbnRfbGlzdGVuZXIgKE1hcC5maW5kIHN0YXRlLmxpc3RlbmVycyBldmVudCk7XG4gICAgbGV0IGlkID0gYWRkX2V2ZW50X2xpc3RlbmVyIGVsZW1lbnQgKFBvaW50ZXJfZXZlbnQudG9fZG9tX2h0bWwgZXZlbnQpIH5mIGluXG4gICAgc3RhdGUubGlzdGVuZXJzIDwtIE1hcC5zZXQgc3RhdGUubGlzdGVuZXJzIH5rZXk6ZXZlbnQgfmRhdGE6aWRcbiAgOztcblxuICBsZXQgcmVtb3ZlX3BvaW50ZXJfZXZlbnQgc3RhdGUgfmV2ZW50ID1cbiAgICByZW1vdmVfZXZlbnRfbGlzdGVuZXIgKE1hcC5maW5kIHN0YXRlLmxpc3RlbmVycyBldmVudClcbiAgOztcblxuICBsZXQgY2FuY2VsX3NjaGVkdWxlIHN0YXRlID0gY2FuY2VsX2FuaW1hdGlvbl9mcmFtZSBzdGF0ZS5hbmltYXRpb25faWRcblxuICBsZXQgc2NoZWR1bGUgc3RhdGUgfmYgPVxuICAgIGNhbmNlbF9zY2hlZHVsZSBzdGF0ZTtcbiAgICBzdGF0ZS5hbmltYXRpb25faWQgPC0gcmVxdWVzdF9hbmltYXRpb25fZnJhbWUgZlxuICA7O1xuXG4gIGxldCBzZXRfcG9pbnRlcl94IHN0YXRlIHggPSBzdGF0ZS5wb2ludGVyX3ggPC0gU29tZSB4XG4gIGxldCBjbGVhcl9wb2ludGVyX3ggc3RhdGUgPSBzdGF0ZS5wb2ludGVyX3ggPC0gTm9uZVxuICBsZXQgY2xlYXJfcG9pbnRlcl9zdGFydCBzdGF0ZSA9IHN0YXRlLmxhc3RfcG9pbnRlcl94IDwtIE5vbmVcbmVuZFxuXG5sZXQgZ2V0X3BhcmVudCBlbGVtZW50ID1cbiAgbGV0JWJpbmQuT3B0aW9uIHBhcmVudCA9IEpzLk9wdC50b19vcHRpb24gZWxlbWVudCMjLnBhcmVudE5vZGUgaW5cbiAgSnMuT3B0LnRvX29wdGlvbiAoRG9tX2h0bWwuQ29lcmNlVG8uZWxlbWVudCBwYXJlbnQpXG47O1xuXG5sZXQgcmVjIGRvX3VwZGF0ZV93aWR0aCB0YXJnZXQgc3RhdGUgPVxuICBsZXQgKF8gOiB1bml0IG9wdGlvbikgPVxuICAgIGxldCBvcGVuIE9wdGlvbi5MZXRfc3ludGF4IGluXG4gICAgbGV0JWJpbmQgcG9pbnRlcl94ID0gU3RhdGUucG9pbnRlcl94IHN0YXRlIGluXG4gICAgbGV0JWJpbmQgbGFzdF9wb2ludGVyX3ggPVxuICAgICAgbGV0IHRlbXAgPSBTdGF0ZS5sYXN0X3BvaW50ZXJfeCBzdGF0ZSBpblxuICAgICAgU3RhdGUuc2V0X2xhc3RfcG9pbnRlcl94IHN0YXRlIChTb21lIHBvaW50ZXJfeCk7XG4gICAgICB0ZW1wXG4gICAgaW5cbiAgICBsZXQlYmluZCB0YXJnZXQgPSBKcy5PcHQudG9fb3B0aW9uIHRhcmdldCBpblxuICAgIGxldCViaW5kIHBhcmVudCA9IGdldF9wYXJlbnQgdGFyZ2V0IGluXG4gICAgbGV0IHBhcmVudF9yZWN0ID0gcGFyZW50IyNnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5cbiAgICBsZXQlYmluZCBwYXJlbnRfd2lkdGggPSBKcy5PcHRkZWYudG9fb3B0aW9uIHBhcmVudF9yZWN0IyMud2lkdGggaW5cbiAgICBsZXQlYmluZCBuZXdfd2lkdGggPVxuICAgICAgbGV0IG9wZXJhdGlvbiA9XG4gICAgICAgIG1hdGNoIHN0YXRlLnNpZGUgd2l0aFxuICAgICAgICB8IExlZnQgLT4gRmxvYXQuc3ViXG4gICAgICAgIHwgUmlnaHQgLT4gRmxvYXQuYWRkXG4gICAgICBpblxuICAgICAgbGV0IGRpZmZfeCA9IHBvaW50ZXJfeCAtLiBsYXN0X3BvaW50ZXJfeCBpblxuICAgICAgbGV0IHByb3Bvc2VkX3dpZHRoID0gb3BlcmF0aW9uIHBhcmVudF93aWR0aCBkaWZmX3ggaW5cbiAgICAgIGxldCBzaG91bGRfYWNjZXB0ID1cbiAgICAgICAgbGV0IGlzX2dyb3dpbmcgPSBGbG9hdC4ocHJvcG9zZWRfd2lkdGggPiBwYXJlbnRfd2lkdGgpIGluXG4gICAgICAgIGxldCBpc19zaHJpbmtpbmcgPSBGbG9hdC4ocHJvcG9zZWRfd2lkdGggPCBwYXJlbnRfd2lkdGgpIGluXG4gICAgICAgIG1hdGNoIHN0YXRlLnNpZGUgd2l0aFxuICAgICAgICB8IExlZnQgLT5cbiAgICAgICAgICBsZXQgcGFyZW50X2xlZnQgPSBwYXJlbnRfcmVjdCMjLmxlZnQgaW5cbiAgICAgICAgICBsZXQgcG9pbnRlcl9vbl9sZWZ0ID0gRmxvYXQuKHBvaW50ZXJfeCA8IHBhcmVudF9sZWZ0KSBpblxuICAgICAgICAgIGxldCBwb2ludGVyX29uX3JpZ2h0ID0gRmxvYXQuKHBvaW50ZXJfeCA+IHBhcmVudF9sZWZ0KSBpblxuICAgICAgICAgIChpc19ncm93aW5nICYmIHBvaW50ZXJfb25fbGVmdCkgfHwgKGlzX3Nocmlua2luZyAmJiBwb2ludGVyX29uX3JpZ2h0KVxuICAgICAgICB8IFJpZ2h0IC0+XG4gICAgICAgICAgbGV0IHBhcmVudF9yaWdodCA9IHBhcmVudF9yZWN0IyMucmlnaHQgaW5cbiAgICAgICAgICBsZXQgcG9pbnRlcl9vbl9sZWZ0ID0gRmxvYXQuKHBvaW50ZXJfeCA8IHBhcmVudF9yaWdodCkgaW5cbiAgICAgICAgICBsZXQgcG9pbnRlcl9vbl9yaWdodCA9IEZsb2F0Lihwb2ludGVyX3ggPiBwYXJlbnRfcmlnaHQpIGluXG4gICAgICAgICAgKGlzX2dyb3dpbmcgJiYgcG9pbnRlcl9vbl9yaWdodCkgfHwgKGlzX3Nocmlua2luZyAmJiBwb2ludGVyX29uX2xlZnQpXG4gICAgICBpblxuICAgICAgT3B0aW9uLnNvbWVfaWYgc2hvdWxkX2FjY2VwdCBwcm9wb3NlZF93aWR0aFxuICAgIGluXG4gICAgc2V0X3dpZHRoIHBhcmVudCBuZXdfd2lkdGg7XG4gICAgcmV0dXJuICgpXG4gIGluXG4gIFN0YXRlLmNsZWFyX3BvaW50ZXJfeCBzdGF0ZTtcbiAgU3RhdGUuc2NoZWR1bGUgc3RhdGUgfmY6KGZ1biBfIC0+IGRvX3VwZGF0ZV93aWR0aCB0YXJnZXQgc3RhdGUpXG47O1xuXG5tb2R1bGUgVCA9IHN0cnVjdFxuICBtb2R1bGUgSW5wdXQgPSBzdHJ1Y3RcbiAgICB0eXBlIHQgPSBTaWRlLnQgW0BAZGVyaXZpbmcgc2V4cF9vZl1cblxuICAgICgqIFJhbmRvbWx5IHBpY2sgdGhlIGZpcnN0LCBzaW5jZSBpdCBtYWtlcyBubyBzZW5zZSB0byBpbmNsdWRlIHR3byByZXNpemVyXG4gICAgICAgaG9va3Mgb24gdGhlIHNhbWUgbm9kZSAqKVxuICAgIGxldCBjb21iaW5lIGZpcnN0IF9zZWNvbmQgPSBmaXJzdFxuICBlbmRcblxuICBtb2R1bGUgU3RhdGUgPSBTdGF0ZVxuXG4gIGxldCBpbml0IHNpZGUgZWxlbWVudCA9XG4gICAgbGV0IHN0YXRlID0gU3RhdGUuY3JlYXRlIH5zaWRlICgpIGluXG4gICAgbGV0IG9uX3BvaW50ZXJfbW92ZSBfIGV2ZW50ID1cbiAgICAgIFN0YXRlLnNldF9wb2ludGVyX3ggc3RhdGUgKEZsb2F0Lm9mX2ludCBldmVudCMjLmNsaWVudFgpXG4gICAgaW5cbiAgICBsZXQgb25fcG9pbnRlcl91cCBfIF8gPVxuICAgICAgc2V0X2N1cnNvciBcImluaXRpYWxcIjtcbiAgICAgIFN0YXRlLmNsZWFyX3BvaW50ZXJfc3RhcnQgc3RhdGU7XG4gICAgICBTdGF0ZS5jbGVhcl9wb2ludGVyX3ggc3RhdGU7XG4gICAgICBTdGF0ZS5yZW1vdmVfcG9pbnRlcl9ldmVudCBzdGF0ZSB+ZXZlbnQ6TW92ZTtcbiAgICAgIFN0YXRlLnJlbW92ZV9wb2ludGVyX2V2ZW50IHN0YXRlIH5ldmVudDpVcDtcbiAgICAgIFN0YXRlLmNhbmNlbF9zY2hlZHVsZSBzdGF0ZVxuICAgIGluXG4gICAgbGV0IG9uX3BvaW50ZXJfZG93biBfIGV2ZW50ID1cbiAgICAgICgqIFdlIHVzZSBjdXJyZW50VGFyZ2V0IHRvIGVuc3VyZSBpdCBpcyB0aGUgbm9kZSB3ZSBhdHRhY2hlZCB0aGUgZXZlbnRcbiAgICAgICAgIGxpc3RlbmVyIHRvIGluc3RlYWQgb2YgYSBjaGlsZCBub2RlICopXG4gICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQjIy5jdXJyZW50VGFyZ2V0IGluXG4gICAgICBsZXQgY2xpZW50WCA6IGludCA9IGV2ZW50IyMuY2xpZW50WCBpblxuICAgICAgU3RhdGUuc2V0X2xhc3RfcG9pbnRlcl94IHN0YXRlIChTb21lIChGbG9hdC5vZl9pbnQgY2xpZW50WCkpO1xuICAgICAgU3RhdGUub25fcG9pbnRlcl9ldmVudCB+ZXZlbnQ6TW92ZSBzdGF0ZSBEb21faHRtbC5kb2N1bWVudCB+Zjpvbl9wb2ludGVyX21vdmU7XG4gICAgICBTdGF0ZS5vbl9wb2ludGVyX2V2ZW50IH5ldmVudDpVcCBzdGF0ZSBEb21faHRtbC5kb2N1bWVudCB+Zjpvbl9wb2ludGVyX3VwO1xuICAgICAgU3RhdGUuc2NoZWR1bGUgc3RhdGUgfmY6KGZ1biBfIC0+IGRvX3VwZGF0ZV93aWR0aCB0YXJnZXQgc3RhdGUpO1xuICAgICAgc2V0X2N1cnNvciBcImNvbC1yZXNpemVcIlxuICAgIGluXG4gICAgU3RhdGUub25fcG9pbnRlcl9ldmVudCBzdGF0ZSBlbGVtZW50IH5mOm9uX3BvaW50ZXJfZG93biB+ZXZlbnQ6RG93bjtcbiAgICBzdGF0ZVxuICA7O1xuXG4gIGxldCBvbl9tb3VudCBfaW5pdCBfc3RhdGUgZWxlbWVudCA9XG4gICAgT3B0aW9uLml0ZXIgKGdldF9wYXJlbnQgZWxlbWVudCkgfmY6RnJlZXplLkV4cGVydC5zZXRfd2lkdGhcbiAgOztcblxuICBsZXQgb25fbW91bnQgPSBgU2NoZWR1bGVfYW5pbWF0aW9uX2ZyYW1lIG9uX21vdW50XG4gIGxldCB1cGRhdGUgfm9sZF9pbnB1dDpfIH5uZXdfaW5wdXQgKHN0YXRlIDogU3RhdGUudCkgX2VsZW1lbnQgPSBzdGF0ZS5zaWRlIDwtIG5ld19pbnB1dFxuXG4gIGxldCBkZXN0cm95IF9pbnB1dCBzdGF0ZSAoZWxlbWVudCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCkgPVxuICAgIHNldF9jdXJzb3IgXCJpbml0aWFsXCI7XG4gICAgT3B0aW9uLml0ZXIgKGdldF9wYXJlbnQgZWxlbWVudCkgfmY6RnJlZXplLkV4cGVydC5yZXNldF93aWR0aDtcbiAgICBTdGF0ZS5kZXN0cm95IHN0YXRlXG4gIDs7XG5lbmRcblxubW9kdWxlIEhvb2sgPSBWZG9tLkF0dHIuSG9va3MuTWFrZSAoVClcblxubGV0IGF0dHIgfnNpZGUgPSBWZG9tLkF0dHIuY3JlYXRlX2hvb2sgXCJyZXNpemVyXCIgKEhvb2suY3JlYXRlIHNpZGUpXG4iLCJvcGVuISBDb3JlXG5vcGVuISBJbXBvcnRcbm9wZW4hIEJvbnNhaV93ZWJcbm9wZW4hIEpzX29mX29jYW1sXG5tb2R1bGUgRGltcyA9IFNpemVfdHJhY2tlci5Gb3JfdGVzdGluZy5EaW1lbnNpb25zXG5cbm1vZHVsZSBCZWhhdmlvciA9IHN0cnVjdFxuICB0eXBlIHQgPVxuICAgIHwgR3Jvd190b19maWxsXG4gICAgfCBTaHJpbmtfdG9fYXZvaWRfb3ZlcmZsb3dcbiAgICB8IEdyb3dfb3Jfc2hyaW5rX3RvX21hdGNoX3BhcmVudF9zaXplXG4gIFtAQGRlcml2aW5nIHNleHAsIGVxdWFsXVxuZW5kXG5cbm1vZHVsZSBUID0gc3RydWN0XG4gIG1vZHVsZSBJbnB1dCA9IHN0cnVjdFxuICAgIGluY2x1ZGUgQmVoYXZpb3JcblxuICAgIGxldCBjb21iaW5lIChhIDogQmVoYXZpb3IudCkgKGIgOiBCZWhhdmlvci50KSA6IEJlaGF2aW9yLnQgPVxuICAgICAgbWF0Y2ggYSwgYiB3aXRoXG4gICAgICB8IEdyb3dfb3Jfc2hyaW5rX3RvX21hdGNoX3BhcmVudF9zaXplLCBfXG4gICAgICB8IF8sIEdyb3dfb3Jfc2hyaW5rX3RvX21hdGNoX3BhcmVudF9zaXplXG4gICAgICB8IEdyb3dfdG9fZmlsbCwgU2hyaW5rX3RvX2F2b2lkX292ZXJmbG93XG4gICAgICB8IFNocmlua190b19hdm9pZF9vdmVyZmxvdywgR3Jvd190b19maWxsIC0+IEdyb3dfb3Jfc2hyaW5rX3RvX21hdGNoX3BhcmVudF9zaXplXG4gICAgICB8IEdyb3dfdG9fZmlsbCwgR3Jvd190b19maWxsIC0+IEdyb3dfdG9fZmlsbFxuICAgICAgfCBTaHJpbmtfdG9fYXZvaWRfb3ZlcmZsb3csIFNocmlua190b19hdm9pZF9vdmVyZmxvdyAtPiBTaHJpbmtfdG9fYXZvaWRfb3ZlcmZsb3dcbiAgICA7O1xuICBlbmRcblxuICBtb2R1bGUgU3RhdGUgPSBzdHJ1Y3RcbiAgICB0eXBlIHQgPVxuICAgICAgeyBtdXRhYmxlIG9ic2VydmVyIDogUmVzaXplT2JzZXJ2ZXIucmVzaXplT2JzZXJ2ZXIgSnMudCBvcHRpb25cbiAgICAgICAgICAoKiBbbXlfZGltc10gYW5kIFtwYXJlbnRfZGltc10gYXJlIGluIHRoZWlyIGxvY2FsIGRpbWVuc2lvbmFsaXR5IGFuZCBhcmVcbiAgICAgICAgIGNhbGN1bGF0ZWQgcHJpb3IgdG8gdGhlIHRyYW5zZm9ybWF0aW9uIHRha2luZyBlZmZlY3QuICopXG4gICAgICA7IG11dGFibGUgbXlfZGltcyA6IERpbXMudFxuICAgICAgOyBtdXRhYmxlIHBhcmVudF9kaW1zIDogRGltcy50XG4gICAgICA7IG11dGFibGUgYmVoYXZpb3IgOiBCZWhhdmlvci50XG4gICAgICA7IG1lIDogRG9tX2h0bWwuZWxlbWVudCBKcy50XG4gICAgICB9XG4gIGVuZFxuXG4gIGxldCBtYXliZV9jbGFtcF9hY2NvcmRpbmdfdG9fYmVoYXZpb3IgdiA9IGZ1bmN0aW9uXG4gICAgfCBCZWhhdmlvci5Hcm93X29yX3Nocmlua190b19tYXRjaF9wYXJlbnRfc2l6ZSAtPiB2XG4gICAgfCBHcm93X3RvX2ZpbGwgLT4gRmxvYXQubWF4IHYgMS4wXG4gICAgfCBTaHJpbmtfdG9fYXZvaWRfb3ZlcmZsb3cgLT4gRmxvYXQubWluIHYgMS4wXG4gIDs7XG5cbiAgKCogW3dpZHRoOiBtYXgtY29udGVudF0gaXMgdXNlZnVsIGZvciBiZWhhdmlvcnMgdGhhdCBjYW4gc2hyaW5rIGJlY2F1c2VcbiAgICAgdGhleSB3b24ndCBhdHRlbXB0IHRvIGNvbGxhcHNlIHRoZSBjb250ZW50IGluIG90aGVyIHdheXMgKGxpa2UgYnkgZm9sZGluZyB0ZXh0XG4gICAgIGFjcm9zcyBtdWx0aXBsZSBsaW5lcykuICBJZiB5b3UndmUgZ290IHNocmlua2luZywgeW91IHByb2JhYmx5IGRvbid0IHdhbnQgdHdvXG4gICAgIGNvbXByZXNzaW9uIG9wdGlvbnMgZmlnaHRpbmcgZWFjaCBvdGhlci5cblxuICAgICBbd2lkdGg6IGZpdC1jb250ZW50XSBpcyB1c2VmdWwgaW4gdGhlIFwib25seSBncm93c1wiIHNjZW5hcmlvIGJlY2F1c2Ugd2hlbiBncm93aW5nLFxuICAgICBpdCBoYXMgbm8gZWZmZWN0LCBidXQgd2hlbiBpdCB3b3VsZCBvdGhlcndpc2UgYmUgc2hydW5rLCBpdCdsbCB0cnkgdG8gY29tcHJlc3NcbiAgICAgaXRzZWxmLiAqKVxuICBsZXQgc2V0X3dpZHRoX3Byb3BlcnR5IH4oc3RhdGUgOiBTdGF0ZS50KSA9XG4gICAgbWF0Y2ggc3RhdGUuYmVoYXZpb3Igd2l0aFxuICAgIHwgR3Jvd190b19maWxsIC0+IHN0YXRlLm1lIyMuc3R5bGUjIy53aWR0aCA6PSBKcy5zdHJpbmcgXCJmaXQtY29udGVudFwiXG4gICAgfCBTaHJpbmtfdG9fYXZvaWRfb3ZlcmZsb3cgfCBHcm93X29yX3Nocmlua190b19tYXRjaF9wYXJlbnRfc2l6ZSAtPlxuICAgICAgc3RhdGUubWUjIy5zdHlsZSMjLndpZHRoIDo9IEpzLnN0cmluZyBcIm1heC1jb250ZW50XCJcbiAgOztcblxuICAoKiBbYWRqdXN0XSBhY3R1YWxseSBjaGFuZ2VzIHRoZSB0cmFuc2Zvcm0gb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgICBJZiBhbnkgb2YgdGhlIGRpbWVuc2lvbnMgaGF2ZSBhIGNvbXBvbmVudCB0aGF0IGlzIGF0LW9yLWJlbG93IDAsXG4gICAgIHdlIHNldCB0aGUgc2NhbGUgdG8gXCIxLjBcIiwgd2hpY2ggZnVuY3Rpb25hbGx5IHJlc2V0cyB0aGUgc2NhbGluZy4gKilcbiAgbGV0IGFkanVzdCB+KHN0YXRlIDogU3RhdGUudCkgPVxuICAgIGxldCBzZXRfc2NhbGUgc2NhbGUgPVxuICAgICAgc3RhdGUubWUjIy5zdHlsZSMjLnRyYW5zZm9ybVxuICAgICAgOj0gSnMuc3RyaW5nIFslc3RyaW5nIFwic2NhbGUoJXtWaXJ0dWFsX2RvbS5Eb21fZmxvYXQudG9fc3RyaW5nIHNjYWxlfSlcIl1cbiAgICBpblxuICAgIGxldCBsdGVfemVybyBmID0gRmxvYXQuKGYgPD0gMC4wKSBpblxuICAgIGlmIGx0ZV96ZXJvIHN0YXRlLm15X2RpbXMud2lkdGhcbiAgICAgICB8fCBsdGVfemVybyBzdGF0ZS5teV9kaW1zLmhlaWdodFxuICAgICAgIHx8IGx0ZV96ZXJvIHN0YXRlLnBhcmVudF9kaW1zLndpZHRoXG4gICAgICAgfHwgbHRlX3plcm8gc3RhdGUucGFyZW50X2RpbXMuaGVpZ2h0XG4gICAgdGhlbiBzZXRfc2NhbGUgMS4wXG4gICAgZWxzZSAoXG4gICAgICBsZXQgd2lkdGhfcmF0ID0gc3RhdGUucGFyZW50X2RpbXMud2lkdGggLy4gc3RhdGUubXlfZGltcy53aWR0aCBpblxuICAgICAgbGV0IGhlaWdodF9yYXQgPSBzdGF0ZS5wYXJlbnRfZGltcy5oZWlnaHQgLy4gc3RhdGUubXlfZGltcy5oZWlnaHQgaW5cbiAgICAgIGxldCBzY2FsZSA9XG4gICAgICAgIG1heWJlX2NsYW1wX2FjY29yZGluZ190b19iZWhhdmlvciAoRmxvYXQubWluIHdpZHRoX3JhdCBoZWlnaHRfcmF0KSBzdGF0ZS5iZWhhdmlvclxuICAgICAgaW5cbiAgICAgIHNldF9zY2FsZSBzY2FsZSlcbiAgOztcblxuICBsZXQgd2l0aF9zaXplIGJveF9hcnJheSB+ZiA9XG4gICAgSnMuT3B0ZGVmLmNhc2VcbiAgICAgIChKcy5hcnJheV9nZXQgYm94X2FycmF5IDApXG4gICAgICAoZnVuICgpIC0+ICgpKVxuICAgICAgKGZ1biBib3ggLT4gZiB7IERpbXMud2lkdGggPSBib3gjIy5pbmxpbmVTaXplOyBoZWlnaHQgPSBib3gjIy5ibG9ja1NpemUgfSlcbiAgOztcblxuICBsZXQgb2JzZXJ2ZSB+cGFyZW50IH4oc3RhdGUgOiBTdGF0ZS50KSA9XG4gICAgbGV0IG9uX3Jlc2l6ZV9vYnNlcnZlZCBlbnRyaWVzIF9vYnNlcnZlciA9XG4gICAgICBmb3IgaSA9IDAgdG8gZW50cmllcyMjLmxlbmd0aCAtIDEgZG9cbiAgICAgICAgbGV0IGVudHJ5ID0gSnMuT3B0ZGVmLmdldCAoSnMuYXJyYXlfZ2V0IGVudHJpZXMgaSkgKGZ1biAoKSAtPiBhc3NlcnQgZmFsc2UpIGluXG4gICAgICAgIGlmIHBoeXNfZXF1YWwgKHN0YXRlLm1lIDo+IERvbS5ub2RlIEpzLnQpIGVudHJ5IyMudGFyZ2V0XG4gICAgICAgIHRoZW5cbiAgICAgICAgICAoKiB1c2UgYm9yZGVyLWJveCBmb3IgbWUgKilcbiAgICAgICAgICB3aXRoX3NpemUgZW50cnkjIy5ib3JkZXJCb3hTaXplIH5mOihmdW4gZGltcyAtPiBzdGF0ZS5teV9kaW1zIDwtIGRpbXMpXG4gICAgICAgIGVsc2UgaWYgcGh5c19lcXVhbCBwYXJlbnQgZW50cnkjIy50YXJnZXRcbiAgICAgICAgdGhlblxuICAgICAgICAgICgqIHVzZSBjb250ZW50LWJveCBmb3IgcGFyZW50ICopXG4gICAgICAgICAgd2l0aF9zaXplIGVudHJ5IyMuY29udGVudEJveFNpemUgfmY6KGZ1biBkaW1zIC0+IHN0YXRlLnBhcmVudF9kaW1zIDwtIGRpbXMpXG4gICAgICBkb25lO1xuICAgICAgKCogQWZ0ZXIgcHJvY2Vzc2luZyBhbGwgZW50cmllcywgYXR0ZW1wdCB0byByZXNpemUgKilcbiAgICAgIGFkanVzdCB+c3RhdGVcbiAgICBpblxuICAgIGxldCBvYnMgPVxuICAgICAgbmV3JWpzIFJlc2l6ZU9ic2VydmVyLnJlc2l6ZU9ic2VydmVyIChKcy53cmFwX2NhbGxiYWNrIG9uX3Jlc2l6ZV9vYnNlcnZlZClcbiAgICBpblxuICAgIG9icyMjb2JzZXJ2ZSBzdGF0ZS5tZTtcbiAgICBvYnMjI29ic2VydmUgcGFyZW50O1xuICAgIG9ic1xuICA7O1xuXG4gIG9wZW4gU3RhdGVcblxuICBsZXQgaW5pdCBpbnB1dCBlbGVtZW50ID1cbiAgICBsZXQgc3RhdGUgPVxuICAgICAgeyBTdGF0ZS5vYnNlcnZlciA9IE5vbmVcbiAgICAgIDsgbXlfZGltcyA9IHsgd2lkdGggPSAwLjA7IGhlaWdodCA9IDAuMCB9XG4gICAgICA7IHBhcmVudF9kaW1zID0geyB3aWR0aCA9IDAuMDsgaGVpZ2h0ID0gMC4wIH1cbiAgICAgIDsgbWUgPSBlbGVtZW50XG4gICAgICA7IGJlaGF2aW9yID0gaW5wdXRcbiAgICAgIH1cbiAgICBpblxuICAgICgqIHNldHRpbmcgdGhlIFt3aWR0aF0gcHJvcGVydHkgb24gaW5pdCAoYmVmb3JlIGl0IGhhcyBiZWVuIGFkZGVkIHRvIHRoZVxuICAgICAgIGRvbSkgaXMgaW1wb3J0YW50IHRvIGdldCBhbiBhY2N1cmF0ZSBmaXJzdCByZWFkLiAqKVxuICAgIHNldF93aWR0aF9wcm9wZXJ0eSB+c3RhdGU7XG4gICAgc3RhdGVcbiAgOztcblxuICBsZXQgb25fbW91bnQgX2lucHV0IHN0YXRlIF9lbGVtZW50ID1cbiAgICBKcy5PcHQuY2FzZVxuICAgICAgc3RhdGUubWUjIy5wYXJlbnROb2RlXG4gICAgICAoZnVuICgpIC0+XG4gICAgICAgIGVwcmludF9zIFslbWVzc2FnZSBcIkJVR1wiIFslaGVyZV0gXCJwYXJlbnQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgaW4gW29uX21vdW50XVwiXSlcbiAgICAgIChmdW4gcGFyZW50IC0+IHN0YXRlLm9ic2VydmVyIDwtIFNvbWUgKG9ic2VydmUgfnBhcmVudCB+c3RhdGUpKVxuICA7O1xuXG4gIGxldCBvbl9tb3VudCA9IGBTY2hlZHVsZV9hbmltYXRpb25fZnJhbWUgb25fbW91bnRcblxuICBsZXQgdXBkYXRlIH5vbGRfaW5wdXQgfm5ld19pbnB1dCBzdGF0ZSBfZWxlbWVudCA9XG4gICAgaWYgWyVlcXVhbDogSW5wdXQudF0gb2xkX2lucHV0IG5ld19pbnB1dCB0aGVuICgpO1xuICAgIHN0YXRlLmJlaGF2aW9yIDwtIG5ld19pbnB1dDtcbiAgICBzZXRfd2lkdGhfcHJvcGVydHkgfnN0YXRlO1xuICAgIGFkanVzdCB+c3RhdGVcbiAgOztcblxuICBsZXQgZGVzdHJveSBfb2xkX2lucHV0IHN0YXRlID1cbiAgICBsZXQgeyBTdGF0ZS5vYnNlcnZlcjsgXyB9ID0gc3RhdGUgaW5cbiAgICBmdW4gX2VsZW1lbnQgLT4gT3B0aW9uLml0ZXIgb2JzZXJ2ZXIgfmY6KGZ1biBvYnNlcnZlciAtPiBvYnNlcnZlciMjZGlzY29ubmVjdClcbiAgOztcbmVuZFxuXG5tb2R1bGUgSG9vayA9IFZkb20uQXR0ci5Ib29rcy5NYWtlIChUKVxuXG5sZXQgYXR0ciA/KGJlaGF2aW9yID0gQmVoYXZpb3IuU2hyaW5rX3RvX2F2b2lkX292ZXJmbG93KSAoKSA9XG4gIFZkb20uQXR0ci5tYW55XG4gICAgWyBWZG9tLkF0dHIuY3JlYXRlX2hvb2sgXCJncm93X3RvX2ZpbGxcIiAoSG9vay5jcmVhdGUgYmVoYXZpb3IpXG4gICAgOyBWZG9tLkF0dHIuc3R5bGVcbiAgICAgICAgQ3NzX2dlbi4oXG4gICAgICAgICAgKCogc2NhbGUgZnJvbSB0aGUgdG9wIGxlZnQgaW5zdGVhZCBvZiB0aGUgY2VudGVyICopXG4gICAgICAgICAgY3JlYXRlIH5maWVsZDpcInRyYW5zZm9ybS1vcmlnaW5cIiB+dmFsdWU6XCJsZWZ0IHRvcFwiXG4gICAgICAgICAgKCogW2Rpc3BsYXk6aW5saW5lXSBhbmQgW3Bvc2l0aW9uOnJlbGF0aXZlXSBpcyBmdW5reSwgYXZvaWQgaXQgYnlcbiAgICAgICAgICAgICB1c2luZyBpbmxpbmUtYmxvY2ssIHdoaWNoIHNob3VsZCBhbHNvIG5vdCBuZWdhdGl2ZWx5IGltcGFjdCBibG9ja1xuICAgICAgICAgICAgIGxheW91dC4gKilcbiAgICAgICAgICBAPiBkaXNwbGF5IGBJbmxpbmVfYmxvY2tcbiAgICAgICAgICBAPiBtYXJnaW4gfnRvcDooYFB4IDApIH5ib3R0b206KGBQeCAwKSB+bGVmdDooYFB4IDApIH5yaWdodDooYFB4IDApICgpXG4gICAgICAgICAgKCogdXNlIFtwb3NpdGlvbjogcmVsYXRpdmVdIHRvIGtlZXAgaXQgZnJvbSBpbXBhY3RpbmcgZmxvdy4gKilcbiAgICAgICAgICBAPiBwb3NpdGlvbiBgUmVsYXRpdmUpXG4gICAgXVxuOztcblxubGV0IGF0dHJfZm9yX3BhcmVudF9fcmVjb21tZW5kZWQgPSBWZG9tLkF0dHIuc3R5bGUgKENzc19nZW4ub3ZlcmZsb3cgYEhpZGRlbilcbiIsIm9wZW4hIENvcmVcbm9wZW4gQm9uc2FpX3dlYlxub3BlbiBCb25zYWkuTGV0X3N5bnRheFxub3BlbiBKc19vZl9vY2FtbFxuXG5tb2R1bGUgUG9zaXRpb24gPSBzdHJ1Y3RcbiAgdHlwZSB0ID1cbiAgICB7IHRvcCA6IGludFxuICAgIDsgbGVmdCA6IGludFxuICAgIDsgaGVpZ2h0IDogaW50XG4gICAgOyB3aWR0aCA6IGludFxuICAgIH1cbiAgW0BAZGVyaXZpbmcgc2V4cCwgZXF1YWxdXG5lbmRcblxubW9kdWxlIFBvc2l0aW9uX3RyYWNrZXIgPSBzdHJ1Y3RcbiAgdHlwZSAoJ2tleSwgJ2NtcCkgdCA9XG4gICAgeyBwb3NpdGlvbnMgOiAoJ2tleSwgUG9zaXRpb24udCwgJ2NtcCkgQmFzZS5NYXAudFxuICAgIDsgZ2V0X2F0dHIgOiAna2V5IC0+IFZkb20uQXR0ci50XG4gICAgOyB1cGRhdGUgOiB1bml0IEVmZmVjdC50XG4gICAgfVxuZW5kXG5cbm1vZHVsZSBBY3Rpb24gPSBzdHJ1Y3RcbiAgdHlwZSAnYSBpdGVtID1cbiAgICB8IFNldCBvZiAnYSAqIFBvc2l0aW9uLnRcbiAgICB8IFJlbW92ZSBvZiAnYVxuICAgIHwgT2JzZXJ2ZSBvZiAoKCdhICogRG9tX2h0bWwuZWxlbWVudCBKcy50KVtAc2V4cC5vcGFxdWVdKVxuICAgIHwgVW5vYnNlcnZlIG9mICgnYVtAc2V4cC5vcGFxdWVdKVxuICBbQEBkZXJpdmluZyBzZXhwX29mXVxuXG4gIHR5cGUgJ2EgdCA9ICdhIGl0ZW0gbGlzdCBbQEBkZXJpdmluZyBzZXhwX29mXVxuZW5kXG5cbm1vZHVsZSBHcm91cF9rZXkgPSBVbml2X21hcC5UeXBlX2lkX2tleVxubW9kdWxlIElucHV0ID0gVW5pdl9tYXAuTWFrZSAoR3JvdXBfa2V5KSAoTGlzdClcblxubW9kdWxlIFRyYWNrZXIgPSBzdHJ1Y3RcbiAgdHlwZSAnYSB0ID0gJ2EgQWN0aW9uLnQgLT4gdW5pdCBFZmZlY3QudCBbQEBkZXJpdmluZyBzZXhwX29mXVxuZW5kXG5cbm1vZHVsZSBUcmFja2VycyA9IHN0cnVjdFxuICBpbmNsdWRlIFVuaXZfbWFwLk1ha2UgKEdyb3VwX2tleSkgKFRyYWNrZXIpXG5cbiAgbGV0IHRoZV9vbmVfYW5kX29ubHkgOiB0IHJlZiA9IHJlZiBlbXB0eVxuXG4gIGxldCBzZXQgKGluamVjdCwgZ3JvdXBfa2V5KSA9XG4gICAgdGhlX29uZV9hbmRfb25seSA6PSBzZXQgIXRoZV9vbmVfYW5kX29ubHkgfmtleTpncm91cF9rZXkgfmRhdGE6aW5qZWN0XG4gIDs7XG5cbiAgbGV0IHNldCB+aW5qZWN0IH5ncm91cF9rZXkgPSAoRWZmZWN0Lm9mX3N5bmNfZnVuIHNldCkgKGluamVjdCwgZ3JvdXBfa2V5KVxuICBsZXQgcmVtb3ZlIGdyb3VwX2tleSA9IHRoZV9vbmVfYW5kX29ubHkgOj0gcmVtb3ZlICF0aGVfb25lX2FuZF9vbmx5IGdyb3VwX2tleVxuICBsZXQgcmVtb3ZlIH5ncm91cF9rZXkgPSAoRWZmZWN0Lm9mX3N5bmNfZnVuIHJlbW92ZSkgZ3JvdXBfa2V5XG5lbmRcblxubW9kdWxlIEV2ZW50X2dyb3VwcyA9IFVuaXZfbWFwLk1ha2UgKEdyb3VwX2tleSkgKEFjdGlvbilcblxubW9kdWxlIEhvb2sgPSBzdHJ1Y3RcbiAgbW9kdWxlIFQgPSBzdHJ1Y3RcbiAgICBtb2R1bGUgSW5wdXQgPSBzdHJ1Y3RcbiAgICAgIGluY2x1ZGUgSW5wdXRcbiAgICAgIG1vZHVsZSBNZXJnZSA9IFVuaXZfbWFwLk1lcmdlIChHcm91cF9rZXkpIChMaXN0KSAoTGlzdCkgKExpc3QpXG5cbiAgICAgIGxldCBjb21iaW5lIGxlZnQgcmlnaHQgPVxuICAgICAgICBsZXQgZiB+a2V5Ol8gPSBmdW5jdGlvblxuICAgICAgICAgIHwgYEJvdGggKGxlZnQsIHJpZ2h0KSAtPiBTb21lIChsZWZ0IEAgcmlnaHQpXG4gICAgICAgICAgfCBgTGVmdCB4IHwgYFJpZ2h0IHggLT4gU29tZSB4XG4gICAgICAgIGluXG4gICAgICAgIE1lcmdlLm1lcmdlIGxlZnQgcmlnaHQgfmY6eyBmIH1cbiAgICAgIDs7XG4gICAgZW5kXG5cbiAgICBtb2R1bGUgU3RhdGUgPSBVbml0XG5cbiAgICBtb2R1bGUgUG9seV91bml0X2VmZmVjdCA9IHN0cnVjdFxuICAgICAgdHlwZSAnYSB0ID0gdW5pdCBFZmZlY3QudFxuXG4gICAgICBsZXQgc2V4cF9vZl90IF8gPSBzZXhwX29mX29wYXF1ZVxuICAgIGVuZFxuXG4gICAgbW9kdWxlIEFwcGx5X3RyYWNrZXJzID1cbiAgICAgIFVuaXZfbWFwLk1lcmdlIChHcm91cF9rZXkpIChUcmFja2VyKSAoQWN0aW9uKSAoUG9seV91bml0X2VmZmVjdClcblxuICAgIG1vZHVsZSBDb2xsZWN0ZWRfZWZmZWN0cyA9IFVuaXZfbWFwLk1ha2UgKEdyb3VwX2tleSkgKFBvbHlfdW5pdF9lZmZlY3QpXG5cbiAgICBsZXQgY2hhbmdlX3Bvc2l0aW9ucyBjaGFuZ2VzID1cbiAgICAgIGxldCBkaW1lbnNpb25fZ3JvdXBzID0gcmVmIEV2ZW50X2dyb3Vwcy5lbXB0eSBpblxuICAgICAgTGlzdC5pdGVyIGNoYW5nZXMgfmY6KGZ1biAoaW5wdXQsIGRpbWVuc2lvbnMpIC0+XG4gICAgICAgIElucHV0LnRvX2FsaXN0IGlucHV0XG4gICAgICAgIHw+IExpc3QuaXRlciB+ZjooZnVuIChUIChncm91cF9rZXksIGtleXMpKSAtPlxuICAgICAgICAgICAgIExpc3QuaXRlciBrZXlzIH5mOihmdW4ga2V5IC0+XG4gICAgICAgICAgICAgICBkaW1lbnNpb25fZ3JvdXBzXG4gICAgICAgICAgICAgICAgIDo9IEV2ZW50X2dyb3Vwcy5jaGFuZ2UgIWRpbWVuc2lvbl9ncm91cHMgZ3JvdXBfa2V5IH5mOihmdW4gaXRlbXMgLT5cbiAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBPcHRpb24udmFsdWUgfmRlZmF1bHQ6W10gaXRlbXMgaW5cbiAgICAgICAgICAgICAgICAgICAgICBTb21lIChBY3Rpb24uU2V0IChrZXksIGRpbWVuc2lvbnMpIDo6IGl0ZW1zKSkpKSk7XG4gICAgICBsZXQgZXZlbnRzID1cbiAgICAgICAgbGV0IGYgfmtleTpfID0gZnVuY3Rpb25cbiAgICAgICAgICB8IGBCb3RoICh0cmFja2VyLCBkaW1lbnNpb25fZ3JvdXApIC0+IFNvbWUgKHRyYWNrZXIgZGltZW5zaW9uX2dyb3VwKVxuICAgICAgICAgIHwgYExlZnQgXyAtPlxuICAgICAgICAgICAgKCogU29tZSB0cmFja2VycyBtaWdodCBub3QgaGF2ZSBjaGFuZ2VzLCBzbyB0aGV5IGRvbid0IG5lZWQgdG9cbiAgICAgICAgICAgICAgIGdlbmVyYXRlIGFuIGV2ZW50ICopXG4gICAgICAgICAgICBOb25lXG4gICAgICAgICAgfCBgUmlnaHQgXyAtPiBhc3NlcnQgZmFsc2VcbiAgICAgICAgaW5cbiAgICAgICAgQXBwbHlfdHJhY2tlcnMubWVyZ2UgIVRyYWNrZXJzLnRoZV9vbmVfYW5kX29ubHkgIWRpbWVuc2lvbl9ncm91cHMgfmY6eyBmIH1cbiAgICAgICAgfD4gQ29sbGVjdGVkX2VmZmVjdHMudG9fYWxpc3RcbiAgICAgICAgfD4gTGlzdC5tYXAgfmY6KGZ1biAoVCAoXywgZWZmZWN0KSkgLT4gZWZmZWN0KVxuICAgICAgaW5cbiAgICAgIFVpX2VmZmVjdC5FeHBlcnQuaGFuZGxlIChVaV9lZmZlY3QuTWFueSBldmVudHMpXG4gICAgOztcblxuICAgIGxldCBpbml0IF8gXyA9ICgpXG5cbiAgICBsZXQgb25fbW91bnQgaW5wdXQgKCkgZWxlbWVudCA9XG4gICAgICBsZXQgKFQgKGdyb3VwX2tleSwga2V5KSkgPSBMaXN0LmhkX2V4biAoSW5wdXQudG9fYWxpc3QgaW5wdXQpIGluXG4gICAgICBsZXQga2V5ID0gTGlzdC5oZF9leG4ga2V5IGluXG4gICAgICBPcHRpb24uaXRlciAoVHJhY2tlcnMuZmluZCAhVHJhY2tlcnMudGhlX29uZV9hbmRfb25seSBncm91cF9rZXkpIH5mOihmdW4gdHJhY2tlciAtPlxuICAgICAgICBWZG9tLkVmZmVjdC5FeHBlcnQuaGFuZGxlX25vbl9kb21fZXZlbnRfZXhuICh0cmFja2VyIFsgT2JzZXJ2ZSAoa2V5LCBlbGVtZW50KSBdKSlcbiAgICA7O1xuXG4gICAgbGV0IG9uX21vdW50ID0gYFNjaGVkdWxlX2FuaW1hdGlvbl9mcmFtZSBvbl9tb3VudFxuICAgIGxldCB1cGRhdGUgfm9sZF9pbnB1dDpfIH5uZXdfaW5wdXQ6XyAoKSBfID0gKClcblxuICAgIGxldCBkZXN0cm95IG9sZF9pbnB1dCBfIF8gPVxuICAgICAgTGlzdC5pdGVyIChJbnB1dC50b19hbGlzdCBvbGRfaW5wdXQpIH5mOihmdW4gKElucHV0LlBhY2tlZC5UIChncm91cF9rZXksIGtleXMpKSAtPlxuICAgICAgICBsZXQgdHJhY2tlciA9IFRyYWNrZXJzLmZpbmRfZXhuICFUcmFja2Vycy50aGVfb25lX2FuZF9vbmx5IGdyb3VwX2tleSBpblxuICAgICAgICBMaXN0Lml0ZXIga2V5cyB+ZjooZnVuIGtleSAtPlxuICAgICAgICAgIFZkb20uRWZmZWN0LkV4cGVydC5oYW5kbGVfbm9uX2RvbV9ldmVudF9leG5cbiAgICAgICAgICAgICh0cmFja2VyIFsgUmVtb3ZlIGtleTsgVW5vYnNlcnZlIGtleSBdKSkpXG4gICAgOztcbiAgZW5kXG5cbiAgaW5jbHVkZSBUXG4gIGluY2x1ZGUgVmRvbS5BdHRyLkhvb2tzLk1ha2UgKFQpXG5lbmRcblxubGV0IGNvbXBvbmVudCAodHlwZSBrZXkgY21wKSAoa2V5IDogKGtleSwgY21wKSBCb25zYWkuY29tcGFyYXRvcikgPVxuICBsZXQgbW9kdWxlIEtleSA9ICh2YWwga2V5KSBpblxuICBsZXQgb25fY2hhbmdlIH5ncm91cF9rZXkgfmtleSA9XG4gICAgVmRvbS5BdHRyLm1hbnlcbiAgICAgIFsgVmRvbS5BdHRyLmNyZWF0ZV9ob29rXG4gICAgICAgICAgXCJidWxrX3Bvc2l0aW9uX3RyYWNrZXJcIlxuICAgICAgICAgIChIb29rLmNyZWF0ZSAoSW5wdXQuc2luZ2xldG9uIGdyb3VwX2tleSBbIGtleSBdKSlcbiAgICAgIDsgVmRvbS5BdHRyLnN0eWxlIChDc3NfZ2VuLmJveF9zaXppbmcgYEJvcmRlcl9ib3gpXG4gICAgICBdXG4gIGluXG4gIGxldCBtb2R1bGUgTW9kZWwgPSBzdHJ1Y3RcbiAgICBtb2R1bGUgRG9tX2VsZW1lbnQgPSBzdHJ1Y3RcbiAgICAgIHR5cGUgdCA9IERvbV9odG1sLmVsZW1lbnQgSnMudFxuXG4gICAgICBsZXQgZXF1YWwgPSBwaHlzX2VxdWFsXG4gICAgICBsZXQgc2V4cF9vZl90ID0gc2V4cF9vZl9vcGFxdWVcbiAgICBlbmRcblxuICAgIHR5cGUgdCA9XG4gICAgICB7IHBvc2l0aW9uX3RyYWNrZXIgOiBQb3NpdGlvbi50IE1hcC5NKEtleSkudFxuICAgICAgOyBkb21fbm9kZV90cmFja2VyIDogRG9tX2VsZW1lbnQudCBNYXAuTShLZXkpLnRcbiAgICAgIH1cbiAgICBbQEBkZXJpdmluZyBzZXhwX29mLCBlcXVhbF1cblxuICAgIGxldCBlbXB0eSA9XG4gICAgICB7IHBvc2l0aW9uX3RyYWNrZXIgPSBNYXAuZW1wdHkgKG1vZHVsZSBLZXkpXG4gICAgICA7IGRvbV9ub2RlX3RyYWNrZXIgPSBNYXAuZW1wdHkgKG1vZHVsZSBLZXkpXG4gICAgICB9XG4gICAgOztcblxuICAgIGxldCBkb21fZWxlbWVudF90b19wb3NpdGlvbiAoZWxlbWVudCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCkgOiBQb3NpdGlvbi50ID1cbiAgICAgIGxldCBsZWZ0ID0gZWxlbWVudCMjLm9mZnNldExlZnQgaW5cbiAgICAgIGxldCB0b3AgPSBlbGVtZW50IyMub2Zmc2V0VG9wIGluXG4gICAgICBsZXQgaGVpZ2h0ID0gZWxlbWVudCMjLm9mZnNldEhlaWdodCBpblxuICAgICAgbGV0IHdpZHRoID0gZWxlbWVudCMjLm9mZnNldFdpZHRoIGluXG4gICAgICB7IFBvc2l0aW9uLmxlZnQ7IHRvcDsgaGVpZ2h0OyB3aWR0aCB9XG4gICAgOztcblxuICAgIGxldCBzZXQgb2xkX21vZGVsIGtleSBwb3NpdGlvbiA9XG4gICAgICBsZXQgcG9zaXRpb25fdHJhY2tlciA9IE1hcC5zZXQgb2xkX21vZGVsLnBvc2l0aW9uX3RyYWNrZXIgfmtleSB+ZGF0YTpwb3NpdGlvbiBpblxuICAgICAgeyBvbGRfbW9kZWwgd2l0aCBwb3NpdGlvbl90cmFja2VyIH1cbiAgICA7O1xuXG4gICAgbGV0IHJlbW92ZSBvbGRfbW9kZWwga2V5ID1cbiAgICAgIGxldCBwb3NpdGlvbl90cmFja2VyID0gTWFwLnJlbW92ZSBvbGRfbW9kZWwucG9zaXRpb25fdHJhY2tlciBrZXkgaW5cbiAgICAgIHsgb2xkX21vZGVsIHdpdGggcG9zaXRpb25fdHJhY2tlciB9XG4gICAgOztcblxuICAgIGxldCB1bm9ic2VydmUgb2xkX21vZGVsIGtleSA9XG4gICAgICBsZXQgZG9tX25vZGVfdHJhY2tlciA9IE1hcC5yZW1vdmUgb2xkX21vZGVsLmRvbV9ub2RlX3RyYWNrZXIga2V5IGluXG4gICAgICB7IG9sZF9tb2RlbCB3aXRoIGRvbV9ub2RlX3RyYWNrZXIgfVxuICAgIDs7XG5cbiAgICBsZXQgb2JzZXJ2ZSBvbGRfbW9kZWwga2V5IGRvbV9ub2RlID1cbiAgICAgIGxldCBkb21fbm9kZV90cmFja2VyID0gTWFwLnNldCBvbGRfbW9kZWwuZG9tX25vZGVfdHJhY2tlciB+a2V5IH5kYXRhOmRvbV9ub2RlIGluXG4gICAgICB7IG9sZF9tb2RlbCB3aXRoIGRvbV9ub2RlX3RyYWNrZXIgfVxuICAgIDs7XG5cbiAgICBsZXQgYXBwbHlfYWN0aW9uIGNvbnRleHQgb2xkX21vZGVsIGFjdGlvbiA9XG4gICAgICBMaXN0LmZvbGQgYWN0aW9uIH5pbml0Om9sZF9tb2RlbCB+ZjooZnVuIGFjYyAtPiBmdW5jdGlvblxuICAgICAgICB8IEFjdGlvbi5TZXQgKGtleSwgcG9zaXRpb24pIC0+IHNldCBhY2Mga2V5IHBvc2l0aW9uXG4gICAgICAgIHwgUmVtb3ZlIGtleSAtPiByZW1vdmUgYWNjIGtleVxuICAgICAgICB8IE9ic2VydmUgKGtleSwgZG9tX25vZGUpIC0+XG4gICAgICAgICAgQm9uc2FpLkFwcGx5X2FjdGlvbl9jb250ZXh0LnNjaGVkdWxlX2V2ZW50XG4gICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICAoQm9uc2FpLkFwcGx5X2FjdGlvbl9jb250ZXh0LmluamVjdFxuICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgICAgWyBBY3Rpb24uU2V0IChrZXksIGRvbV9lbGVtZW50X3RvX3Bvc2l0aW9uIGRvbV9ub2RlKSBdKTtcbiAgICAgICAgICBvYnNlcnZlIGFjYyBrZXkgZG9tX25vZGVcbiAgICAgICAgfCBVbm9ic2VydmUga2V5IC0+IHVub2JzZXJ2ZSBhY2Mga2V5KVxuICAgIDs7XG4gIGVuZFxuICBpblxuICBsZXQlc3ViIG1hcHBpbmcsIGFwcGx5X2FjdGlvbiA9XG4gICAgQm9uc2FpLnN0YXRlX21hY2hpbmUwXG4gICAgICAoKVxuICAgICAgfnNleHBfb2ZfbW9kZWw6WyVzZXhwX29mOiBNb2RlbC50XVxuICAgICAgfmVxdWFsOlslZXF1YWw6IE1vZGVsLnRdXG4gICAgICB+c2V4cF9vZl9hY3Rpb246WyVzZXhwX29mOiBLZXkudCBBY3Rpb24udF1cbiAgICAgIH5kZWZhdWx0X21vZGVsOk1vZGVsLmVtcHR5XG4gICAgICB+YXBwbHlfYWN0aW9uOk1vZGVsLmFwcGx5X2FjdGlvblxuICBpblxuICBsZXQlc3ViIHsgcG9zaXRpb25fdHJhY2tlcjsgZG9tX25vZGVfdHJhY2tlciB9ID0gcmV0dXJuIG1hcHBpbmcgaW5cbiAgbGV0JXN1YiB1cGRhdGUgPVxuICAgIGxldCB1cGRhdGVfZiA9XG4gICAgICBFZmZlY3Qub2Zfc3luY19mdW4gKGZ1biBkb21fbm9kZV90cmFja2VyIC0+XG4gICAgICAgIE1hcC5mb2xkIH5pbml0OltdIGRvbV9ub2RlX3RyYWNrZXIgfmY6KGZ1biB+a2V5IH5kYXRhIGFjYyAtPlxuICAgICAgICAgIGxldCBuZXdfZWZmZWN0ID0gQWN0aW9uLlNldCAoa2V5LCBNb2RlbC5kb21fZWxlbWVudF90b19wb3NpdGlvbiBkYXRhKSBpblxuICAgICAgICAgIG5ld19lZmZlY3QgOjogYWNjKVxuICAgICAgICB8PiBMaXN0LnJldilcbiAgICBpblxuICAgIGxldCVhcnIgYXBwbHlfYWN0aW9uID0gYXBwbHlfYWN0aW9uXG4gICAgYW5kIGRvbV9ub2RlX3RyYWNrZXIgPSBkb21fbm9kZV90cmFja2VyIGluXG4gICAgbGV0JWJpbmQuRWZmZWN0IGVmZmVjdHMgPSB1cGRhdGVfZiBkb21fbm9kZV90cmFja2VyIGluXG4gICAgYXBwbHlfYWN0aW9uIGVmZmVjdHNcbiAgaW5cbiAgbGV0JXN1YiBncm91cF9rZXkgPVxuICAgIEJvbnNhaS5FeHBlcnQudGh1bmsgKGZ1biAoKSAtPlxuICAgICAgVHlwZV9lcXVhbC5JZC5jcmVhdGUgfm5hbWU6XCJidWxrX3Bvc2l0aW9uX3RyYWNrZXJfdHlwZV9pZFwiIFslc2V4cF9vZjogS2V5LnRdKVxuICBpblxuICBsZXQlc3ViICgpID1cbiAgICBCb25zYWkuRWRnZS5saWZlY3ljbGVcbiAgICAgIH5vbl9hY3RpdmF0ZTpcbiAgICAgICAgKGxldCVtYXAgaW5qZWN0ID0gYXBwbHlfYWN0aW9uXG4gICAgICAgICBhbmQgZ3JvdXBfa2V5ID0gZ3JvdXBfa2V5IGluXG4gICAgICAgICBUcmFja2Vycy5zZXQgfmluamVjdCB+Z3JvdXBfa2V5KVxuICAgICAgfm9uX2RlYWN0aXZhdGU6XG4gICAgICAgIChsZXQlbWFwIGdyb3VwX2tleSA9IGdyb3VwX2tleSBpblxuICAgICAgICAgVHJhY2tlcnMucmVtb3ZlIH5ncm91cF9rZXkpXG4gICAgICAoKVxuICBpblxuICBsZXQlc3ViIGF0dHIgPVxuICAgIGxldCVhcnIgZ3JvdXBfa2V5ID0gZ3JvdXBfa2V5IGluXG4gICAgZnVuIGtleSAtPiBvbl9jaGFuZ2Ugfmdyb3VwX2tleSB+a2V5XG4gIGluXG4gIGxldCVhcnIgcG9zaXRpb25fdHJhY2tlciA9IHBvc2l0aW9uX3RyYWNrZXJcbiAgYW5kIGF0dHIgPSBhdHRyXG4gIGFuZCB1cGRhdGUgPSB1cGRhdGUgaW5cbiAgeyBQb3NpdGlvbl90cmFja2VyLnBvc2l0aW9ucyA9IHBvc2l0aW9uX3RyYWNrZXI7IGdldF9hdHRyID0gYXR0cjsgdXBkYXRlIH1cbjs7XG5cbm1vZHVsZSBGb3JfdGVzdGluZyA9IHN0cnVjdFxuICB0eXBlIHQgPSBIb29rLklucHV0LnRcblxuICBsZXQgdHlwZV9pZCA9IEhvb2suRm9yX3Rlc3RpbmcudHlwZV9pZFxuICBsZXQgaG9va19uYW1lID0gXCJidWxrX3Bvc2l0aW9uX3RyYWNrZXJcIlxuICBsZXQgY2hhbmdlX3Bvc2l0aW9ucyA9IEhvb2suY2hhbmdlX3Bvc2l0aW9uc1xuZW5kXG4iLCJvcGVuISBDb3JlXG5vcGVuISBJbXBvcnRcbm9wZW4hIEJvbnNhaV93ZWJcbm9wZW4hIEpzX29mX29jYW1sXG5vcGVuIEpzb29fd2Vha19jb2xsZWN0aW9uc1xub3BlbiBCb25zYWkuTGV0X3N5bnRheFxuXG5tb2R1bGUgRGltZW5zaW9ucyA9IHN0cnVjdFxuICB0eXBlIHQgPVxuICAgIHsgd2lkdGggOiBmbG9hdFxuICAgIDsgaGVpZ2h0IDogZmxvYXRcbiAgICB9XG4gIFtAQGRlcml2aW5nIHNleHAsIGVxdWFsXVxuZW5kXG5cbm1vZHVsZSBBY3Rpb24gPSBzdHJ1Y3RcbiAgdHlwZSAnYSBpdGVtID1cbiAgICB8IFNldCBvZiAnYSAqIERpbWVuc2lvbnMudFxuICAgIHwgUmVtb3ZlIG9mICdhXG4gIFtAQGRlcml2aW5nIHNleHBfb2ZdXG5cbiAgdHlwZSAnYSB0ID0gJ2EgaXRlbSBsaXN0IFtAQGRlcml2aW5nIHNleHBfb2ZdXG5lbmRcblxubW9kdWxlIEdyb3VwX2tleSA9IFVuaXZfbWFwLlR5cGVfaWRfa2V5XG5tb2R1bGUgSW5wdXQgPSBVbml2X21hcC5NYWtlIChHcm91cF9rZXkpIChMaXN0KVxuXG5tb2R1bGUgVHJhY2tlciA9IHN0cnVjdFxuICB0eXBlICdhIHQgPSAnYSBBY3Rpb24udCAtPiB1bml0IEVmZmVjdC50IFtAQGRlcml2aW5nIHNleHBfb2ZdXG5lbmRcblxubW9kdWxlIFRyYWNrZXJzID0gc3RydWN0XG4gIGluY2x1ZGUgVW5pdl9tYXAuTWFrZSAoR3JvdXBfa2V5KSAoVHJhY2tlcilcblxuICBsZXQgdGhlX29uZV9hbmRfb25seSA6IHQgcmVmID0gcmVmIGVtcHR5XG5cbiAgbGV0IHNldCAoaW5qZWN0LCBncm91cF9rZXkpID1cbiAgICB0aGVfb25lX2FuZF9vbmx5IDo9IHNldCAhdGhlX29uZV9hbmRfb25seSB+a2V5Omdyb3VwX2tleSB+ZGF0YTppbmplY3RcbiAgOztcblxuICBsZXQgc2V0IH5pbmplY3Qgfmdyb3VwX2tleSA9IChFZmZlY3Qub2Zfc3luY19mdW4gc2V0KSAoaW5qZWN0LCBncm91cF9rZXkpXG4gIGxldCByZW1vdmUgZ3JvdXBfa2V5ID0gdGhlX29uZV9hbmRfb25seSA6PSByZW1vdmUgIXRoZV9vbmVfYW5kX29ubHkgZ3JvdXBfa2V5XG4gIGxldCByZW1vdmUgfmdyb3VwX2tleSA9IChFZmZlY3Qub2Zfc3luY19mdW4gcmVtb3ZlKSBncm91cF9rZXlcbmVuZFxuXG5tb2R1bGUgRXZlbnRfZ3JvdXBzID0gVW5pdl9tYXAuTWFrZSAoR3JvdXBfa2V5KSAoQWN0aW9uKVxuXG5sZXQgd2Vha21hcCA6IChEb20ubm9kZSBKcy50LCBJbnB1dC50KSBXZWFrX21hcC50ID0gV2Vha19tYXAuY3JlYXRlICgpXG5cbm1vZHVsZSBIb29rID0gc3RydWN0XG4gIG1vZHVsZSBUID0gc3RydWN0XG4gICAgbW9kdWxlIElucHV0ID0gc3RydWN0XG4gICAgICBpbmNsdWRlIElucHV0XG4gICAgICBtb2R1bGUgTWVyZ2UgPSBVbml2X21hcC5NZXJnZSAoR3JvdXBfa2V5KSAoTGlzdCkgKExpc3QpIChMaXN0KVxuXG4gICAgICBsZXQgY29tYmluZSBsZWZ0IHJpZ2h0ID1cbiAgICAgICAgbGV0IGYgfmtleTpfID0gZnVuY3Rpb25cbiAgICAgICAgICB8IGBCb3RoIChsZWZ0LCByaWdodCkgLT4gU29tZSAobGVmdCBAIHJpZ2h0KVxuICAgICAgICAgIHwgYExlZnQgeCB8IGBSaWdodCB4IC0+IFNvbWUgeFxuICAgICAgICBpblxuICAgICAgICBNZXJnZS5tZXJnZSBsZWZ0IHJpZ2h0IH5mOnsgZiB9XG4gICAgICA7O1xuICAgIGVuZFxuXG4gICAgbW9kdWxlIFN0YXRlID0gVW5pdFxuXG4gICAgKCogVGhpcyBtb2R1bGUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgbmVlZCB0byBtZXJnZSB0aGUgbWFwIG9mIGFjdGlvbnNcbiAgICAgICB3aXRoIHRoZSBtYXAgb2YgdHJhY2tlcnMgdG8gYXBwbHkgaW4gdGhlbS4gVGhlIHJlc3VsdCB3aWxsIG5vdCBiZVxuICAgICAgIHBvbHltb3JwaGljLCBidXQgb3V0cHV0IG1vZHVsZSBvZiBVbml2X21hcC5NZXJnZSBpcyBleHBlY3RlZCB0byBiZVxuICAgICAgIHBvbHltb3JwaGljLiAqKVxuICAgIG1vZHVsZSBQb2x5X3VuaXRfZWZmZWN0ID0gc3RydWN0XG4gICAgICB0eXBlICdhIHQgPSB1bml0IEVmZmVjdC50XG5cbiAgICAgIGxldCBzZXhwX29mX3QgXyA9IHNleHBfb2Zfb3BhcXVlXG4gICAgZW5kXG5cbiAgICBtb2R1bGUgQXBwbHlfdHJhY2tlcnMgPVxuICAgICAgVW5pdl9tYXAuTWVyZ2UgKEdyb3VwX2tleSkgKFRyYWNrZXIpIChBY3Rpb24pIChQb2x5X3VuaXRfZWZmZWN0KVxuXG4gICAgbW9kdWxlIENvbGxlY3RlZF9lZmZlY3RzID0gVW5pdl9tYXAuTWFrZSAoR3JvdXBfa2V5KSAoUG9seV91bml0X2VmZmVjdClcblxuICAgIGxldCBjaGFuZ2Vfc2l6ZXMgY2hhbmdlcyA9XG4gICAgICBsZXQgZGltZW5zaW9uX2dyb3VwcyA9IHJlZiBFdmVudF9ncm91cHMuZW1wdHkgaW5cbiAgICAgIExpc3QuaXRlciBjaGFuZ2VzIH5mOihmdW4gKGlucHV0LCBkaW1lbnNpb25zKSAtPlxuICAgICAgICBJbnB1dC50b19hbGlzdCBpbnB1dFxuICAgICAgICB8PiBMaXN0Lml0ZXIgfmY6KGZ1biAoVCAoZ3JvdXBfa2V5LCBrZXlzKSkgLT5cbiAgICAgICAgICAgICBMaXN0Lml0ZXIga2V5cyB+ZjooZnVuIGtleSAtPlxuICAgICAgICAgICAgICAgZGltZW5zaW9uX2dyb3Vwc1xuICAgICAgICAgICAgICAgICA6PSBFdmVudF9ncm91cHMuY2hhbmdlICFkaW1lbnNpb25fZ3JvdXBzIGdyb3VwX2tleSB+ZjooZnVuIGl0ZW1zIC0+XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gT3B0aW9uLnZhbHVlIH5kZWZhdWx0OltdIGl0ZW1zIGluXG4gICAgICAgICAgICAgICAgICAgICAgU29tZSAoQWN0aW9uLlNldCAoa2V5LCBkaW1lbnNpb25zKSA6OiBpdGVtcykpKSkpO1xuICAgICAgbGV0IGV2ZW50cyA9XG4gICAgICAgIGxldCBmIH5rZXk6XyA9IGZ1bmN0aW9uXG4gICAgICAgICAgfCBgQm90aCAodHJhY2tlciwgZGltZW5zaW9uX2dyb3VwKSAtPiBTb21lICh0cmFja2VyIGRpbWVuc2lvbl9ncm91cClcbiAgICAgICAgICB8IGBMZWZ0IF8gLT5cbiAgICAgICAgICAgICgqIFNvbWUgdHJhY2tlcnMgbWlnaHQgbm90IGhhdmUgY2hhbmdlcywgc28gdGhleSBkb24ndCBuZWVkIHRvXG4gICAgICAgICAgICAgICBnZW5lcmF0ZSBhbiBldmVudCAqKVxuICAgICAgICAgICAgTm9uZVxuICAgICAgICAgIHwgYFJpZ2h0IF8gLT4gYXNzZXJ0IGZhbHNlXG4gICAgICAgIGluXG4gICAgICAgIEFwcGx5X3RyYWNrZXJzLm1lcmdlICFUcmFja2Vycy50aGVfb25lX2FuZF9vbmx5ICFkaW1lbnNpb25fZ3JvdXBzIH5mOnsgZiB9XG4gICAgICAgIHw+IENvbGxlY3RlZF9lZmZlY3RzLnRvX2FsaXN0XG4gICAgICAgIHw+IExpc3QubWFwIH5mOihmdW4gKFQgKF8sIGVmZmVjdCkpIC0+IGVmZmVjdClcbiAgICAgIGluXG4gICAgICBVaV9lZmZlY3QuRXhwZXJ0LmhhbmRsZSAoVWlfZWZmZWN0Lk1hbnkgZXZlbnRzKVxuICAgIDs7XG5cbiAgICBsZXQgb2JzZXJ2ZXIgKCkgPVxuICAgICAgbGV0IG9uX3Jlc2l6ZV9vYnNlcnZlZCBlbnRyaWVzIF9vYnNlcnZlciA9XG4gICAgICAgIGxldCBjaGFuZ2VzID0gcmVmIFJldmVyc2VkX2xpc3QuW10gaW5cbiAgICAgICAgZm9yIGkgPSAwIHRvIGVudHJpZXMjIy5sZW5ndGggLSAxIGRvXG4gICAgICAgICAgbGV0IG9wZW4gT3B0aW9uLkxldF9zeW50YXggaW5cbiAgICAgICAgICAoaWdub3JlIDogdW5pdCBvcHRpb24gLT4gdW5pdClcbiAgICAgICAgICBAQFxuICAgICAgICAgIGxldCViaW5kIGVudHJ5ID0gSnMuYXJyYXlfZ2V0IGVudHJpZXMgaSB8PiBKcy5PcHRkZWYudG9fb3B0aW9uIGluXG4gICAgICAgICAgbGV0JWJpbmQgYm9yZGVyX2JveCA9XG4gICAgICAgICAgICBKcy5hcnJheV9nZXQgZW50cnkjIy5ib3JkZXJCb3hTaXplIDAgfD4gSnMuT3B0ZGVmLnRvX29wdGlvblxuICAgICAgICAgIGluXG4gICAgICAgICAgbGV0IHRhcmdldCA9IGVudHJ5IyMudGFyZ2V0IGluXG4gICAgICAgICAgbGV0JW1hcCBpbnB1dCA9IFdlYWtfbWFwLmdldCB3ZWFrbWFwIHRhcmdldCBpblxuICAgICAgICAgIGxldCB3aWR0aCA9IGJvcmRlcl9ib3gjIy5pbmxpbmVTaXplIGluXG4gICAgICAgICAgbGV0IGhlaWdodCA9IGJvcmRlcl9ib3gjIy5ibG9ja1NpemUgaW5cbiAgICAgICAgICBsZXQgZGltZW5zaW9ucyA9IHsgRGltZW5zaW9ucy53aWR0aDsgaGVpZ2h0IH0gaW5cbiAgICAgICAgICBjaGFuZ2VzIDo9IFJldmVyc2VkX2xpc3QuKChpbnB1dCwgZGltZW5zaW9ucykgOjogIWNoYW5nZXMpXG4gICAgICAgIGRvbmU7XG4gICAgICAgIGNoYW5nZV9zaXplcyAoUmV2ZXJzZWRfbGlzdC5yZXYgIWNoYW5nZXMpXG4gICAgICBpblxuICAgICAgbmV3JWpzIFJlc2l6ZU9ic2VydmVyLnJlc2l6ZU9ic2VydmVyIChKcy53cmFwX2NhbGxiYWNrIG9uX3Jlc2l6ZV9vYnNlcnZlZClcbiAgICA7O1xuXG4gICAgbGV0IG9ic2VydmVyID0gbGF6eSAob2JzZXJ2ZXIgKCkpXG5cbiAgICBsZXQgaW5pdCBpbnB1dCBlbGVtZW50ID1cbiAgICAgIFdlYWtfbWFwLnNldCB3ZWFrbWFwIChlbGVtZW50IDo+IERvbS5ub2RlIEpzLnQpIGlucHV0O1xuICAgICAgKExhenkuZm9yY2Ugb2JzZXJ2ZXIpIyNvYnNlcnZlIGVsZW1lbnRcbiAgICA7O1xuXG4gICAgbGV0IG9uX21vdW50ID0gYERvX25vdGhpbmdcblxuICAgICgqIFRoaXMgdXBkYXRlIGZ1bmN0aW9uIGlzIHVuc291bmQgaWYgdGhlIGluamVjdGlvbiBmdW5jdGlvbiBwYXNzZWRcbiAgICAgICB0byB0aGUgaG9vayBldmVyIGNoYW5nZXMuIEZvciB0aGUgdGltZSBiZWluZywgdGhpcyBpcyBmaW5lXG4gICAgICAgYmVjYXVzZSB0aGUgaW5qZWN0aW9uIGZ1bmN0aW9uIGlzIGJ1aWx0IGJ5IHRoZSBjb21wb25lbnQsIGFuZCB3ZSBrbm93XG4gICAgICAgdGhhdCBpdCBuZXZlciBjaGFuZ2VzLiAqKVxuICAgIGxldCB1cGRhdGUgfm9sZF9pbnB1dDpfIH5uZXdfaW5wdXQ6XyAoKSBfID0gKClcblxuICAgIGxldCBkZXN0cm95IG9sZF9pbnB1dCBfIGVsZW1lbnQgPVxuICAgICAgV2Vha19tYXAuZGVsZXRlIHdlYWttYXAgKGVsZW1lbnQgOj4gRG9tLm5vZGUgSnMudCk7XG4gICAgICAoTGF6eS5mb3JjZSBvYnNlcnZlcikjI3Vub2JzZXJ2ZSBlbGVtZW50O1xuICAgICAgTGlzdC5pdGVyIChJbnB1dC50b19hbGlzdCBvbGRfaW5wdXQpIH5mOihmdW4gKElucHV0LlBhY2tlZC5UIChncm91cF9rZXksIGtleXMpKSAtPlxuICAgICAgICBsZXQgdHJhY2tlciA9IFRyYWNrZXJzLmZpbmRfZXhuICFUcmFja2Vycy50aGVfb25lX2FuZF9vbmx5IGdyb3VwX2tleSBpblxuICAgICAgICBMaXN0Lml0ZXIga2V5cyB+ZjooZnVuIGtleSAtPlxuICAgICAgICAgIFZkb20uRWZmZWN0LkV4cGVydC5oYW5kbGVfbm9uX2RvbV9ldmVudF9leG4gKHRyYWNrZXIgWyBSZW1vdmUga2V5IF0pKSlcbiAgICA7O1xuICBlbmRcblxuICBpbmNsdWRlIFRcbiAgaW5jbHVkZSBWZG9tLkF0dHIuSG9va3MuTWFrZSAoVClcbmVuZFxuXG5tb2R1bGUgT3B0aW9ucyA9IHN0cnVjdFxuICB0eXBlICdhIG1heWJlX3N0YWxlID1cbiAgICB8IEZyZXNoIG9mICdhXG4gICAgfCBTdGFsZSBvZiAnYVxuICBbQEBkZXJpdmluZyBzZXhwLCBlcXVhbF1cblxuICB0eXBlICdhIHQgPVxuICAgIHwgUHJ1bmVfc3RhbGUgOiBEaW1lbnNpb25zLnQgdFxuICAgIHwgS2VlcF9zdGFsZSA6IERpbWVuc2lvbnMudCBtYXliZV9zdGFsZSB0XG4gICAgfCBJZ25vcmVfc3RhbGUgOiBEaW1lbnNpb25zLnQgdFxuZW5kXG5cbmxldCBjb21wb25lbnQnXG4gICh0eXBlIGNvbnRhaW5lZClcbiAgPyhzZXhwX29mX2tleSA9IHNleHBfb2Zfb3BhcXVlKVxuICAob3B0aW9ucyA6IGNvbnRhaW5lZCBPcHRpb25zLnQpXG4gIGZcbiAgPVxuICBsZXQgb25fY2hhbmdlIH5ncm91cF9rZXkgfmtleSA9XG4gICAgVmRvbS5BdHRyLm1hbnlcbiAgICAgIFsgVmRvbS5BdHRyLmNyZWF0ZV9ob29rXG4gICAgICAgICAgXCJidWxrX3NpemVfdHJhY2tlclwiXG4gICAgICAgICAgKEhvb2suY3JlYXRlIChJbnB1dC5zaW5nbGV0b24gZ3JvdXBfa2V5IFsga2V5IF0pKVxuICAgICAgOyBWZG9tLkF0dHIuc3R5bGUgKENzc19nZW4uYm94X3NpemluZyBgQm9yZGVyX2JveClcbiAgICAgIF1cbiAgaW5cbiAgbGV0JXN1YiBncm91cF9rZXkgPVxuICAgIEJvbnNhaS5FeHBlcnQudGh1bmsgKGZ1biAoKSAtPlxuICAgICAgVHlwZV9lcXVhbC5JZC5jcmVhdGUgfm5hbWU6XCJidWxrX3NpemVfdHJhY2tlcl90eXBlX2lkXCIgWyVzZXhwX29mOiBrZXldKVxuICBpblxuICBsZXQlc3ViICgpID1cbiAgICBsZXQlc3ViIG9uX2FjdGl2YXRlID1cbiAgICAgIGxldCVhcnIgZiA9IGZcbiAgICAgIGFuZCBncm91cF9rZXkgPSBncm91cF9rZXkgaW5cbiAgICAgIGxldCBpbmplY3QgPVxuICAgICAgICBtYXRjaCBvcHRpb25zIHdpdGhcbiAgICAgICAgfCBJZ25vcmVfc3RhbGUgLT5cbiAgICAgICAgICBmdW4gYWN0aW9ucyAtPlxuICAgICAgICAgICAgKG1hdGNoXG4gICAgICAgICAgICAgICBMaXN0LmZpbHRlciBhY3Rpb25zIH5mOihmdW5jdGlvblxuICAgICAgICAgICAgICAgICB8IEFjdGlvbi5SZW1vdmUgXyAtPiBmYWxzZVxuICAgICAgICAgICAgICAgICB8IF8gLT4gdHJ1ZSlcbiAgICAgICAgICAgICB3aXRoXG4gICAgICAgICAgICAgfCBbXSAtPiBFZmZlY3QuSWdub3JlXG4gICAgICAgICAgICAgfCBhY3Rpb25zIC0+IGYgYWN0aW9ucylcbiAgICAgICAgfCBfIC0+IGZcbiAgICAgIGluXG4gICAgICBUcmFja2Vycy5zZXQgfmluamVjdCB+Z3JvdXBfa2V5XG4gICAgaW5cbiAgICBCb25zYWkuRWRnZS5saWZlY3ljbGVcbiAgICAgIH5vbl9hY3RpdmF0ZVxuICAgICAgfm9uX2RlYWN0aXZhdGU6XG4gICAgICAgIChsZXQlbWFwIGdyb3VwX2tleSA9IGdyb3VwX2tleSBpblxuICAgICAgICAgVHJhY2tlcnMucmVtb3ZlIH5ncm91cF9rZXkpXG4gICAgICAoKVxuICBpblxuICBsZXQlYXJyIGdyb3VwX2tleSA9IGdyb3VwX2tleSBpblxuICBmdW4ga2V5IC0+IG9uX2NoYW5nZSB+Z3JvdXBfa2V5IH5rZXlcbjs7XG5cbmxldCBjb21wb25lbnRcbiAgKHR5cGUga2V5IGNtcCBjb250YWluZWQpXG4gIChrZXkgOiAoa2V5LCBjbXApIEJvbnNhaS5jb21wYXJhdG9yKVxuICAob3B0aW9ucyA6IGNvbnRhaW5lZCBPcHRpb25zLnQpXG4gID1cbiAgbGV0IG1vZHVsZSBLZXkgPSAodmFsIGtleSkgaW5cbiAgbGV0IG1vZHVsZSBNb2RlbCA9IHN0cnVjdFxuICAgIGxldCBzZXhwX29mX2NvbnRhaW5lZCA6IGNvbnRhaW5lZCAtPiBTZXhwLnQgPVxuICAgICAgbWF0Y2ggb3B0aW9ucyB3aXRoXG4gICAgICB8IFBydW5lX3N0YWxlIC0+IFslc2V4cF9vZjogRGltZW5zaW9ucy50XVxuICAgICAgfCBLZWVwX3N0YWxlIC0+IFslc2V4cF9vZjogRGltZW5zaW9ucy50IE9wdGlvbnMubWF5YmVfc3RhbGVdXG4gICAgICB8IElnbm9yZV9zdGFsZSAtPiBbJXNleHBfb2Y6IERpbWVuc2lvbnMudF1cbiAgICA7O1xuXG4gICAgbGV0IGVxdWFsX2NvbnRhaW5lZCA6IGNvbnRhaW5lZCAtPiBjb250YWluZWQgLT4gYm9vbCA9XG4gICAgICBtYXRjaCBvcHRpb25zIHdpdGhcbiAgICAgIHwgUHJ1bmVfc3RhbGUgLT4gWyVlcXVhbDogRGltZW5zaW9ucy50XVxuICAgICAgfCBLZWVwX3N0YWxlIC0+IFslZXF1YWw6IERpbWVuc2lvbnMudCBPcHRpb25zLm1heWJlX3N0YWxlXVxuICAgICAgfCBJZ25vcmVfc3RhbGUgLT4gWyVlcXVhbDogRGltZW5zaW9ucy50XVxuICAgIDs7XG5cbiAgICB0eXBlIHQgPSBjb250YWluZWQgTWFwLk0oS2V5KS50IFtAQGRlcml2aW5nIHNleHBfb2YsIGVxdWFsXVxuICBlbmRcbiAgaW5cbiAgbGV0JXN1YiBzaXplcywgaW5qZWN0ID1cbiAgICBCb25zYWkuc3RhdGVfbWFjaGluZTBcbiAgICAgICgpXG4gICAgICB+c2V4cF9vZl9tb2RlbDpbJXNleHBfb2Y6IE1vZGVsLnRdXG4gICAgICB+ZXF1YWw6WyVlcXVhbDogTW9kZWwudF1cbiAgICAgIH5zZXhwX29mX2FjdGlvbjpbJXNleHBfb2Y6IEtleS50IEFjdGlvbi50XVxuICAgICAgfmRlZmF1bHRfbW9kZWw6KE1hcC5lbXB0eSAobW9kdWxlIEtleSkpXG4gICAgICB+YXBwbHlfYWN0aW9uOihmdW4gKF8gOiBfIEJvbnNhaS5BcHBseV9hY3Rpb25fY29udGV4dC50KSBtb2RlbCBhY3Rpb25zIC0+XG4gICAgICAgIExpc3QuZm9sZCBhY3Rpb25zIH5pbml0Om1vZGVsIH5mOihmdW4gbW9kZWwgYWN0aW9uIC0+XG4gICAgICAgICAgbWF0Y2ggYWN0aW9uLCBvcHRpb25zIHdpdGhcbiAgICAgICAgICB8IFNldCAoaywgdiksIFBydW5lX3N0YWxlIC0+IE1hcC5zZXQgbW9kZWwgfmtleTprIH5kYXRhOnZcbiAgICAgICAgICB8IFNldCAoaywgdiksIElnbm9yZV9zdGFsZSAtPiBNYXAuc2V0IG1vZGVsIH5rZXk6ayB+ZGF0YTp2XG4gICAgICAgICAgfCBTZXQgKGssIHYpLCBLZWVwX3N0YWxlIC0+IE1hcC5zZXQgbW9kZWwgfmtleTprIH5kYXRhOihGcmVzaCB2KVxuICAgICAgICAgIHwgUmVtb3ZlIGssIFBydW5lX3N0YWxlIC0+IE1hcC5yZW1vdmUgbW9kZWwga1xuICAgICAgICAgIHwgUmVtb3ZlIGssIElnbm9yZV9zdGFsZSAtPlxuICAgICAgICAgICAgZXByaW50X3NcbiAgICAgICAgICAgICAgWyVtZXNzYWdlXG4gICAgICAgICAgICAgICAgXCJCVUc6IFdlIHNob3VsZCBuZXZlciBiZSByZW1vdmluZyBpdGVtcyBmcm9tIHRoaXMgbWFwIHdoaWxlIGluIFxcXG4gICAgICAgICAgICAgICAgIFtJZ25vcmVfc3RhbGVdIG1vZGUuIFJlbW92aW5nIGFueXdheS5cIl07XG4gICAgICAgICAgICBNYXAucmVtb3ZlIG1vZGVsIGtcbiAgICAgICAgICB8IFJlbW92ZSBrLCBLZWVwX3N0YWxlIC0+XG4gICAgICAgICAgICBNYXAuY2hhbmdlIG1vZGVsIGsgfmY6KGZ1bmN0aW9uXG4gICAgICAgICAgICAgIHwgTm9uZSAtPiBOb25lXG4gICAgICAgICAgICAgIHwgU29tZSAoU3RhbGUgdiB8IEZyZXNoIHYpIC0+IFNvbWUgKFN0YWxlIHYpKSkpXG4gIGluXG4gIGxldCVzdWIgc2l6ZXMgPSByZXR1cm4gKFZhbHVlLmN1dG9mZiB+ZXF1YWw6WyVlcXVhbDogTW9kZWwudF0gc2l6ZXMpIGluXG4gIGxldCVzdWIgYXR0ciA9IGNvbXBvbmVudCcgfnNleHBfb2Zfa2V5Olslc2V4cF9vZjogS2V5LnRdIG9wdGlvbnMgaW5qZWN0IGluXG4gIGxldCVhcnIgc2l6ZXMgPSBzaXplc1xuICBhbmQgYXR0ciA9IGF0dHIgaW5cbiAgc2l6ZXMsIGF0dHJcbjs7XG5cbm1vZHVsZSBGb3JfdGVzdGluZyA9IHN0cnVjdFxuICB0eXBlIHQgPSBIb29rLklucHV0LnRcblxuICBsZXQgdHlwZV9pZCA9IEhvb2suRm9yX3Rlc3RpbmcudHlwZV9pZFxuICBsZXQgaG9va19uYW1lID0gXCJidWxrX3NpemVfdHJhY2tlclwiXG4gIGxldCBjaGFuZ2Vfc2l6ZXMgPSBIb29rLmNoYW5nZV9zaXplc1xuZW5kXG4iLCJvcGVuISBDb3JlXG5tb2R1bGUgVmlzaWJpbGl0eV90cmFja2VyID0gVmlzaWJpbGl0eV90cmFja2VyXG5tb2R1bGUgU2l6ZV90cmFja2VyID0gU2l6ZV90cmFja2VyXG5tb2R1bGUgQnVsa19zaXplX3RyYWNrZXIgPSBCdWxrX3NpemVfdHJhY2tlclxubW9kdWxlIEZyZWV6ZSA9IEZyZWV6ZVxubW9kdWxlIFJlc2l6ZV90b19maXQgPSBSZXNpemVfdG9fZml0XG5tb2R1bGUgUG9zaXRpb25fdHJhY2tlciA9IFBvc2l0aW9uX3RyYWNrZXJcbm1vZHVsZSBTY3JvbGxfdHJhY2tlciA9IFNjcm9sbF90cmFja2VyXG5cbm1vZHVsZSBFeHBlcnQgPSBzdHJ1Y3RcbiAgbW9kdWxlIFJlc2l6ZXIgPSBSZXNpemVyXG5lbmRcbiJdfQ==
