// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Vdom_layout
//# unitInfo: Requires: CamlinternalLazy, Core, Core__List, Core__Option, Core__Percent, Core__String, Css_gen, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Virtual_dom__Node, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Vdom_layout$0 = "Vdom_layout",
    cst_flex_shrink$1 = "flex-shrink",
    cst_layout_vdom_layout_ml = "layout/vdom_layout.ml",
    cst_vdom_layout$0 = "vdom_layout",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   function caml_call9(f, a0, a1, a2, a3, a4, a5, a6, a7, a8){
    return (f.l >= 0 ? f.l : f.l = f.length) == 9
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7, a8]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Virtual_dom_Node = global_data.Virtual_dom__Node,
    Assert_failure = global_data.Assert_failure,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Css_gen = global_data.Css_gen,
    Core_Percent = global_data.Core__Percent,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Core = global_data.Core,
    Core_String = global_data.Core__String,
    Core_List = global_data.Core__List,
    Core_Option = global_data.Core__Option,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Vdom_layout$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_vdom_layout$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_layout_vdom_layout_ml);
   caml_call2(Ppx_inline_test_lib[6], cst_vdom_layout$0, "vdom_layout.ml");
   var
    _a_ = [0, cst_layout_vdom_layout_ml, 10, 11],
    _j_ = [0, [0, 869834347, "black"]],
    _k_ = [0, [0, 17960, 2]],
    _l_ = [0, 17960, 20],
    _m_ = [0, 869834347, "#fefefe"],
    _h_ = [0, [0, 17960, 0]],
    _i_ = [0, [0, 17960, 0]],
    _f_ = [0, 17960, 0],
    _g_ = [0, 17960, 0],
    cst_flex_shrink = cst_flex_shrink$1,
    cst_flex = "flex",
    cst_0 = "0",
    cst_flex_shrink$0 = cst_flex_shrink$1,
    _c_ = [0, 1.],
    _b_ = [0, 1.],
    cst_vdom_layout = cst_vdom_layout$0,
    cst_Vdom_layout = cst_Vdom_layout$0;
   function wrap_in_element_if_necessary(node){
    var node$0 = node;
    for(;;){
     var
      wrap_with_div =
        function(children){
         var div = caml_call3(Virtual_dom_Node[17], 0, 0, children);
         if(typeof div !== "number" && 2 === div[0]){var e = div[1]; return e;}
         throw caml_maybe_attach_backtrace([0, Assert_failure, _a_], 1);
        };
     if(typeof node$0 !== "number")
      switch(node$0[0]){
        case 0:
         var children = node$0[1]; return wrap_with_div(children);
        case 2:
         var e = node$0[1]; return e;
        case 4:
         var t = node$0[2], _aw_ = runtime.caml_obj_tag(t);
         a:
         if(250 === _aw_)
          var node$1 = t[1];
         else{
          if(246 !== _aw_ && 244 !== _aw_){var node$1 = t; break a;}
          var node$1 = caml_call1(CamlinternalLazy[2], t);
         }
         var node$0 = node$1;
         continue;
      }
     return wrap_with_div([0, node$0, 0]);
    }
   }
   function add_style(node, style){
    var element = wrap_in_element_if_necessary(node);
    return [2, caml_call2(Virtual_dom_Node[1][6], element, style)];
   }
   function grow(n){
    return add_style(n, caml_call5(Css_gen[92], 0, 0, 0, 1., 0));
   }
   function grow_and_shrink(n){
    return add_style(n, caml_call5(Css_gen[92], 0, 0, _b_, 1., 0));
   }
   function scrollable(n){
    var
     _as_ = caml_call1(Css_gen[39], 726666127),
     _at_ = caml_call1(Css_gen[40], 726666127),
     _au_ = caml_call2(Css_gen[30], _at_, _as_),
     _av_ = caml_call5(Css_gen[92], 0, 0, _c_, 1., 0);
    return add_style(n, caml_call2(Css_gen[30], _av_, _au_));
   }
   function spacer(opt, min_width, min_height, param){
    if(opt) var sth = opt[1], attrs = sth; else var attrs = 0;
    var
     mw = caml_call3(Core_Option[41], min_width, Css_gen[22], Css_gen[62]),
     mh = caml_call3(Core_Option[41], min_height, Css_gen[22], Css_gen[65]),
     style = caml_call1(Css_gen[31], [0, mw, [0, mh, 0]]),
     _aq_ = [0, caml_call1(Virtual_dom_Vdom[1][32], style), attrs],
     _ar_ = [0, [0, caml_call1(Virtual_dom_Vdom[1][10], _aq_), 0]];
    return caml_call3(Virtual_dom_Node[42], 0, _ar_, 0);
   }
   function as_box
   (direction, gap, align_items, node_creator, key, attrs, nodes){
    if(gap)
     var
      gap_len = gap[1],
      gap$0 =
        4102650 <= direction
         ? spacer(0, [0, gap_len], 0, 0)
         : spacer(0, 0, [0, gap_len], 0),
      nodes$0 = caml_call2(Core_List[153], nodes, gap$0);
    else
     var nodes$0 = nodes;
    function f(style){
     function _am_(param){
      var
       f = param[1],
       _ap_ = caml_call2(Core_String[141], f, cst_flex_shrink);
      return _ap_ ? _ap_ : caml_call2(Core_String[141], f, cst_flex);
     }
     var
      _an_ = caml_call1(Css_gen[32], style),
      has_flex_shrink_set = caml_call2(Core_List[23], _an_, _am_);
     if(has_flex_shrink_set) return style;
     var _ao_ = caml_call2(Css_gen[21], cst_flex_shrink$0, cst_0);
     return caml_call2(Css_gen[30], style, _ao_);
    }
    function _aj_(node){
     var element = wrap_in_element_if_necessary(node);
     function _ak_(attrs){
      var _al_ = caml_call2(Virtual_dom_Vdom[1][97][2], [0, attrs, 0], f);
      return caml_call1(Virtual_dom_Vdom[1][10], _al_);
     }
     return [2, caml_call2(Virtual_dom_Node[1][5], element, _ak_)];
    }
    var
     nodes$1 = caml_call2(Core_List[51], nodes$0, _aj_),
     node = caml_call3(node_creator, key, attrs, nodes$1);
    return add_style
            (node,
             caml_call9
              (Css_gen[91], 0, [0, direction], 0, align_items, 0, 0, 0, 0, 0));
   }
   var _d_ = 4102650;
   function as_hbox(_ad_, _ae_, _af_, _ag_, _ah_, _ai_){
    return as_box(_d_, _ad_, _ae_, _af_, _ag_, _ah_, _ai_);
   }
   var _e_ = -81804554;
   function as_vbox(_Z_, ___, _$_, _aa_, _ab_, _ac_){
    return as_box(_e_, _Z_, ___, _$_, _aa_, _ab_, _ac_);
   }
   function hbox(gap, align_items, key, attrs, children){
    return as_hbox
            (gap, align_items, Virtual_dom_Node[17], key, attrs, children);
   }
   function vbox(gap, align_items, key, attrs, children){
    return as_vbox
            (gap, align_items, Virtual_dom_Node[17], key, attrs, children);
   }
   function body(opt, gap, align_items, key, attrs, nodes){
    if(opt) var sth = opt[1], direction = sth; else var direction = -81804554;
    var
     p100 = caml_call1(Core_Percent[78], 100.),
     _S_ = caml_call1(Css_gen[71], _f_),
     _T_ = caml_call1(Css_gen[79], _g_),
     _U_ = caml_call2(Css_gen[30], _T_, _S_),
     _V_ = caml_call1(Css_gen[64], [0, 19282, p100]),
     _W_ = caml_call2(Css_gen[30], _V_, _U_),
     _X_ = caml_call1(Css_gen[61], [0, 19297, p100]),
     _Y_ = caml_call2(Css_gen[30], _X_, _W_);
    return add_style
            (as_box
              (direction,
               gap,
               align_items,
               Virtual_dom_Node[11],
               key,
               attrs,
               nodes),
             _Y_);
   }
   function modal(opt, gap, align_items, key, _z_, nodes){
    if(opt) var sth = opt[1], direction = sth; else var direction = 4102650;
    if(_z_) var sth$0 = _z_[1], attrs = sth$0; else var attrs = 0;
    var
     _A_ = caml_call4(Css_gen[85], _k_, _j_, 334701579, 0),
     _B_ = caml_call1(Css_gen[71], _l_),
     _C_ = caml_call2(Css_gen[30], _B_, _A_),
     _D_ = caml_call1(Css_gen[52], _m_),
     _E_ = caml_call2(Css_gen[30], _D_, _C_),
     _F_ = [0, -970206555, caml_call1(Core_Percent[78], 80.)],
     _G_ = caml_call1(Css_gen[61], _F_),
     _H_ = caml_call2(Css_gen[30], _G_, _E_),
     _I_ = caml_call1(Css_gen[78], 726666127),
     _J_ = caml_call2(Css_gen[30], _I_, _H_),
     _K_ = caml_call1(Css_gen[77], 726666127),
     _L_ = caml_call2(Css_gen[30], _K_, _J_),
     _M_ = [0, -970206555, caml_call1(Core_Percent[78], 15.)],
     _N_ = caml_call1(Css_gen[75], _M_),
     _O_ = caml_call2(Css_gen[30], _N_, _L_),
     _P_ = [0, caml_call1(Virtual_dom_Vdom[1][32], _O_), 0],
     _Q_ = caml_call2(Core[156], _P_, attrs),
     _R_ = [0, [0, caml_call1(Virtual_dom_Vdom[1][10], _Q_), 0]],
     nodes$0 =
       [0,
        as_box
         (direction, gap, align_items, Virtual_dom_Node[17], key, _R_, nodes),
        0],
     _n_ = [0, caml_call1(Core_Percent[78], 40.)],
     _o_ = [0, 912890036, caml_call5(Css_gen[6][1][14], 0, 0, 0, _n_, 0)],
     _p_ = caml_call1(Css_gen[52], _o_),
     _q_ = caml_call1(Css_gen[38], 726666127),
     _r_ = caml_call2(Css_gen[30], _q_, _p_),
     _s_ = caml_call1(Css_gen[64], Css_gen[7][5]),
     _t_ = caml_call2(Css_gen[30], _s_, _r_),
     _u_ = caml_call1(Css_gen[61], Css_gen[7][5]),
     _v_ = caml_call2(Css_gen[30], _u_, _t_),
     _w_ = caml_call5(Css_gen[24], _i_, 0, _h_, 0, 332360020),
     _x_ = caml_call2(Css_gen[30], _w_, _v_),
     _y_ = [0, [0, caml_call1(Virtual_dom_Vdom[1][32], _x_), 0]];
    return caml_call3(Virtual_dom_Node[17], 0, _y_, nodes$0);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_vdom_layout);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Vdom_layout);
   var
    Vdom_layout =
      [0,
       wrap_in_element_if_necessary,
       add_style,
       as_box,
       as_hbox,
       as_vbox,
       grow,
       grow_and_shrink,
       scrollable,
       hbox,
       vbox,
       spacer,
       body,
       modal];
   runtime.caml_register_global(43, Vdom_layout, cst_Vdom_layout$0);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJ2ZG9tX2xheW91dC5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsid3JhcF9pbl9lbGVtZW50X2lmX25lY2Vzc2FyeSIsIm5vZGUiLCJub2RlJDAiLCJ3cmFwX3dpdGhfZGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJlIiwidCIsIm5vZGUkMSIsImFkZF9zdHlsZSIsInN0eWxlIiwiZWxlbWVudCIsImdyb3ciLCJuIiwiZ3Jvd19hbmRfc2hyaW5rIiwic2Nyb2xsYWJsZSIsInNwYWNlciIsIm9wdCIsIm1pbl93aWR0aCIsIm1pbl9oZWlnaHQiLCJzdGgiLCJhdHRycyIsIm13IiwibWgiLCJhc19ib3giLCJkaXJlY3Rpb24iLCJnYXAiLCJhbGlnbl9pdGVtcyIsIm5vZGVfY3JlYXRvciIsImtleSIsIm5vZGVzIiwiZ2FwX2xlbiIsImdhcCQwIiwibm9kZXMkMCIsImYiLCJoYXNfZmxleF9zaHJpbmtfc2V0Iiwibm9kZXMkMSIsImFzX2hib3giLCJhc192Ym94IiwiaGJveCIsInZib3giLCJib2R5IiwicDEwMCIsIm1vZGFsIiwic3RoJDAiXSwic291cmNlcyI6WyIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi92aXJ0dWFsX2RvbS9sYXlvdXQvdmRvbV9sYXlvdXQubWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7OztHOzs7OztHOzs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQUlRQSw2QkFBNkJDO0lBQ25DLElBRG1DQyxTQUFBRDtJQUNuQztLQUFBO01BQUlFO2lCQUFjQztTQUNOLElBQU5DLE1BQU0sdUNBRE1EO1NBRWhCLFVBRElDLDBCQUFBQSxZQUVXQyxJQUZYRCxRQUVnQixPQUFMQztTQUNSLE1BQUE7UUFBWTtLQUVyQixVQVBtQ0o7TUFPbkMsT0FQbUNBOzthQVN4QkUsV0FUd0JGLFdBU1osT0FSbkJDLGNBUU9DOzthQUVJRSxJ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S0FBQSxNQUFBO0tBREEsTUFBQTtLQUFBLE1BQUE7S0FEQSxNQUFBO0tBQUEsTUFBQTtLQURRLHNCQUFVO0tBQXJCLE1BQUE7S0FBQSxNQUFBO0tBRk4sVUFBRTtLQUFILE1BQUEsMkJBVnlDQTtLQVM3QyxjQUFFO0tBekJpQlk7O1FBaEV6QlQ7VUFnRlFDLFdBQW1CQyxLQUFLQyxtQ0FBYUUsVUFBa0JDOztLQUxYLFVBQUE7S0FEdkMscUJBQ0U7S0FGSixNQUFBO0tBREEsTUFBQTtLQUFBLE1BQUE7S0FEQSxNQUFBO0tBQUEsTUFBQTtLQURBLE1BQUE7S0FBQSxNQUFBO0tBREgsTUFBQTtLQUFBLE1BQUE7S0FGTixjQUFFO0lBRk4sT0FBQSx5Q0FEMkJHO0dBdUN4Qjs7Ozs7Ozs7T0FwSkdqQztPQWNKUztPQStCQWU7T0F5Q0FhO09BQ0FDO09BN0RBMUI7T0FDQUU7T0FFQUM7T0E0REF3QjtPQUlBQztPQXpEQXhCO09BNkRBeUI7T0E0QkFFOzs7RSIsInNvdXJjZXNDb250ZW50IjpbIm9wZW4hIENvcmVcbm1vZHVsZSBBdHRyID0gVmlydHVhbF9kb20uVmRvbS5BdHRyXG5tb2R1bGUgTm9kZSA9IFZpcnR1YWxfZG9tLlZkb20uTm9kZVxuXG5sZXQgcmVjIHdyYXBfaW5fZWxlbWVudF9pZl9uZWNlc3Nhcnkgbm9kZSA9XG4gIGxldCB3cmFwX3dpdGhfZGl2IGNoaWxkcmVuID1cbiAgICBsZXQgZGl2ID0gTm9kZS5kaXYgY2hpbGRyZW4gaW5cbiAgICBtYXRjaCBkaXYgd2l0aFxuICAgIHwgTm9kZS5FbGVtZW50IGUgLT4gZVxuICAgIHwgXyAtPiBhc3NlcnQgZmFsc2VcbiAgaW5cbiAgbWF0Y2ggbm9kZSB3aXRoXG4gIHwgTm9kZS5UZXh0IF8gfCBOb2RlLldpZGdldCBfIHwgTm9kZS5Ob25lIC0+IHdyYXBfd2l0aF9kaXYgWyBub2RlIF1cbiAgfCBGcmFnbWVudCBjaGlsZHJlbiAtPiB3cmFwX3dpdGhfZGl2IGNoaWxkcmVuXG4gIHwgTm9kZS5MYXp5IHsgdDsgXyB9IC0+IHdyYXBfaW5fZWxlbWVudF9pZl9uZWNlc3NhcnkgKExhenkuZm9yY2UgdClcbiAgfCBOb2RlLkVsZW1lbnQgZSAtPiBlXG47O1xuXG5sZXQgYWRkX3N0eWxlIG5vZGUgfnN0eWxlID1cbiAgbGV0IGVsZW1lbnQgPSB3cmFwX2luX2VsZW1lbnRfaWZfbmVjZXNzYXJ5IG5vZGUgaW5cbiAgTm9kZS5FbGVtZW50IChOb2RlLkVsZW1lbnQuYWRkX3N0eWxlIGVsZW1lbnQgc3R5bGUpXG47O1xuXG5sZXQgbWFwX3N0eWxlIG5vZGUgfmYgPVxuICBsZXQgZWxlbWVudCA9IHdyYXBfaW5fZWxlbWVudF9pZl9uZWNlc3Nhcnkgbm9kZSBpblxuICBOb2RlLkVsZW1lbnRcbiAgICAoTm9kZS5FbGVtZW50Lm1hcF9hdHRycyBlbGVtZW50IH5mOihmdW4gYXR0cnMgLT5cbiAgICAgICBBdHRyLm1hbnlfd2l0aG91dF9tZXJnZSAoQXR0ci5NdWx0aS5tYXBfc3R5bGUgWyBhdHRycyBdIH5mKSkpXG47O1xuXG5sZXQgZ3JvdyBuID0gYWRkX3N0eWxlIG4gfnN0eWxlOkNzc19nZW4uKGZsZXhfaXRlbSB+Z3JvdzoxLiAoKSlcbmxldCBncm93X2FuZF9zaHJpbmsgbiA9IGFkZF9zdHlsZSBuIH5zdHlsZTpDc3NfZ2VuLihmbGV4X2l0ZW0gfmdyb3c6MS4gfnNocmluazoxLiAoKSlcblxubGV0IHNjcm9sbGFibGUgbiA9XG4gIGFkZF9zdHlsZVxuICAgIG5cbiAgICB+c3R5bGU6XG4gICAgICBDc3NfZ2VuLihmbGV4X2l0ZW0gfmdyb3c6MS4gfnNocmluazoxLiAoKSBAPiBvdmVyZmxvd195IGBBdXRvIEA+IG92ZXJmbG93X3ggYEF1dG8pXG47O1xuXG5sZXQgc3BhY2VyID8oYXR0cnMgPSBbXSkgP21pbl93aWR0aCA/bWluX2hlaWdodCAoKSA9XG4gIGxldCBzdHlsZSA9XG4gICAgbGV0IG13ID0gT3B0aW9uLnZhbHVlX21hcCBtaW5fd2lkdGggfmRlZmF1bHQ6Q3NzX2dlbi5lbXB0eSB+ZjpDc3NfZ2VuLm1pbl93aWR0aCBpblxuICAgIGxldCBtaCA9IE9wdGlvbi52YWx1ZV9tYXAgbWluX2hlaWdodCB+ZGVmYXVsdDpDc3NfZ2VuLmVtcHR5IH5mOkNzc19nZW4ubWluX2hlaWdodCBpblxuICAgIENzc19nZW4uY29uY2F0IFsgbXc7IG1oIF1cbiAgaW5cbiAgTm9kZS5zcGFuIH5hdHRyczpbIEF0dHIubWFueV93aXRob3V0X21lcmdlIChBdHRyLnN0eWxlIHN0eWxlIDo6IGF0dHJzKSBdIFtdXG47O1xuXG5sZXQgYXNfYm94XG4gIChkaXJlY3Rpb24gOiBbIGBSb3cgfCBgQ29sdW1uIF0pXG4gID9nYXBcbiAgP2FsaWduX2l0ZW1zXG4gIChub2RlX2NyZWF0b3IgOiBOb2RlLkFsaWFzZXMubm9kZV9jcmVhdG9yKVxuICA/a2V5XG4gID9hdHRyc1xuICBub2Rlc1xuICA9XG4gIGxldCBub2RlcyA9XG4gICAgbWF0Y2ggZ2FwIHdpdGhcbiAgICB8IE5vbmUgLT4gbm9kZXNcbiAgICB8IFNvbWUgZ2FwX2xlbiAtPlxuICAgICAgbGV0IGdhcCA9XG4gICAgICAgIG1hdGNoIGRpcmVjdGlvbiB3aXRoXG4gICAgICAgIHwgYENvbHVtbiAtPiBzcGFjZXIgfm1pbl9oZWlnaHQ6Z2FwX2xlbiAoKVxuICAgICAgICB8IGBSb3cgLT4gc3BhY2VyIH5taW5fd2lkdGg6Z2FwX2xlbiAoKVxuICAgICAgaW5cbiAgICAgIExpc3QuaW50ZXJzcGVyc2Ugbm9kZXMgfnNlcDpnYXBcbiAgaW5cbiAgbGV0IG5vZGVzID1cbiAgICBMaXN0Lm1hcFxuICAgICAgbm9kZXNcbiAgICAgIH5mOlxuICAgICAgICAobWFwX3N0eWxlIH5mOihmdW4gc3R5bGUgLT5cbiAgICAgICAgICAgbGV0IGhhc19mbGV4X3Nocmlua19zZXQgPVxuICAgICAgICAgICAgIENzc19nZW4udG9fc3RyaW5nX2xpc3Qgc3R5bGVcbiAgICAgICAgICAgICB8PiBMaXN0LmV4aXN0cyB+ZjooZnVuIChmLCBfKSAtPlxuICAgICAgICAgICAgICAgICAgU3RyaW5nLiggPSApIGYgXCJmbGV4LXNocmlua1wiIHx8IFN0cmluZy4oID0gKSBmIFwiZmxleFwiKVxuICAgICAgICAgICBpblxuICAgICAgICAgICBpZiBoYXNfZmxleF9zaHJpbmtfc2V0XG4gICAgICAgICAgIHRoZW4gc3R5bGVcbiAgICAgICAgICAgZWxzZSBDc3NfZ2VuLihzdHlsZSBAPiBjcmVhdGUgfmZpZWxkOlwiZmxleC1zaHJpbmtcIiB+dmFsdWU6XCIwXCIpKSlcbiAgaW5cbiAgbGV0IG5vZGUgPSBub2RlX2NyZWF0b3IgP2tleSA/YXR0cnMgbm9kZXMgaW5cbiAgbGV0IGRpcmVjdGlvbiA9XG4gICAgKGRpcmVjdGlvbiA6PiBbIGBSb3cgfCBgQ29sdW1uIHwgYFJvd19yZXZlcnNlIHwgYENvbHVtbl9yZXZlcnNlIHwgYERlZmF1bHQgXSlcbiAgaW5cbiAgYWRkX3N0eWxlIG5vZGUgfnN0eWxlOkNzc19nZW4uKGZsZXhfY29udGFpbmVyIH5kaXJlY3Rpb24gP2FsaWduX2l0ZW1zICgpKVxuOztcblxubGV0IGFzX2hib3ggPSBhc19ib3ggYFJvd1xubGV0IGFzX3Zib3ggPSBhc19ib3ggYENvbHVtblxuXG5sZXQgaGJveCA/Z2FwID9hbGlnbl9pdGVtcyA/a2V5ID9hdHRycyBjaGlsZHJlbiA9XG4gIGFzX2hib3ggP2dhcCA/YWxpZ25faXRlbXMgTm9kZS5kaXYgP2tleSA/YXR0cnMgY2hpbGRyZW5cbjs7XG5cbmxldCB2Ym94ID9nYXAgP2FsaWduX2l0ZW1zID9rZXkgP2F0dHJzIGNoaWxkcmVuID1cbiAgYXNfdmJveCA/Z2FwID9hbGlnbl9pdGVtcyBOb2RlLmRpdiA/a2V5ID9hdHRycyBjaGlsZHJlblxuOztcblxubGV0IGJvZHkgPyhkaXJlY3Rpb24gPSBgQ29sdW1uKSA/Z2FwID9hbGlnbl9pdGVtcyA/a2V5ID9hdHRycyBub2RlcyA9XG4gIGxldCBwMTAwID0gUGVyY2VudC5vZl9wZXJjZW50YWdlIDEwMC4wIGluXG4gIGFzX2JveCBkaXJlY3Rpb24gP2dhcCA/YWxpZ25faXRlbXMgTm9kZS5ib2R5ID9rZXkgP2F0dHJzIG5vZGVzXG4gIHw+IGFkZF9zdHlsZVxuICAgICAgIH5zdHlsZTpcbiAgICAgICAgIENzc19nZW4uKFxuICAgICAgICAgICB3aWR0aCAoYFZ3IHAxMDApXG4gICAgICAgICAgIEA+IGhlaWdodCAoYFZoIHAxMDApXG4gICAgICAgICAgIEA+IHVuaWZvcm1fbWFyZ2luIChgUHggMClcbiAgICAgICAgICAgQD4gdW5pZm9ybV9wYWRkaW5nIChgUHggMCkpXG47O1xuXG5sZXQgb25fZ3JheWVkX291dF9iYWNrZ3JvdW5kIG5vZGVzID1cbiAgTm9kZS5kaXZcbiAgICB+YXR0cnM6XG4gICAgICBbIEF0dHIuc3R5bGVcbiAgICAgICAgICBDc3NfZ2VuLihcbiAgICAgICAgICAgIHBvc2l0aW9uIH5sZWZ0OihgUHggMCkgfnRvcDooYFB4IDApIGBGaXhlZFxuICAgICAgICAgICAgQD4gd2lkdGggTGVuZ3RoLnBlcmNlbnQxMDBcbiAgICAgICAgICAgIEA+IGhlaWdodCBMZW5ndGgucGVyY2VudDEwMFxuICAgICAgICAgICAgQD4gb3ZlcmZsb3cgYEF1dG9cbiAgICAgICAgICAgIEA+IGJhY2tncm91bmRfY29sb3JcbiAgICAgICAgICAgICAgICAgKGBSR0JBXG4gICAgICAgICAgICAgICAgICAgKENvbG9yLlJHQkEuY3JlYXRlIH5yOjAgfmc6MCB+YjowIH5hOihQZXJjZW50Lm9mX3BlcmNlbnRhZ2UgNDAuKSAoKSkpKVxuICAgICAgXVxuICAgIG5vZGVzXG47O1xuXG5sZXQgbW9kYWwgPyhkaXJlY3Rpb24gPSBgUm93KSA/Z2FwID9hbGlnbl9pdGVtcyA/a2V5ID8oYXR0cnMgPSBbXSkgbm9kZXMgPVxuICBvbl9ncmF5ZWRfb3V0X2JhY2tncm91bmRcbiAgICBbIGFzX2JveFxuICAgICAgICBkaXJlY3Rpb25cbiAgICAgICAgTm9kZS5kaXZcbiAgICAgICAgP2dhcFxuICAgICAgICA/YWxpZ25faXRlbXNcbiAgICAgICAgP2tleVxuICAgICAgICB+YXR0cnM6XG4gICAgICAgICAgWyBBdHRyLm1hbnlfd2l0aG91dF9tZXJnZVxuICAgICAgICAgICAgICAoWyBBdHRyLnN0eWxlXG4gICAgICAgICAgICAgICAgICAgQ3NzX2dlbi4oXG4gICAgICAgICAgICAgICAgICAgICBtYXJnaW5fdG9wIChgUGVyY2VudCAoUGVyY2VudC5vZl9wZXJjZW50YWdlIDE1LjApKVxuICAgICAgICAgICAgICAgICAgICAgQD4gbWFyZ2luX2xlZnQgYEF1dG9cbiAgICAgICAgICAgICAgICAgICAgIEA+IG1hcmdpbl9yaWdodCBgQXV0b1xuICAgICAgICAgICAgICAgICAgICAgQD4gd2lkdGggKGBQZXJjZW50IChQZXJjZW50Lm9mX3BlcmNlbnRhZ2UgODAuMCkpXG4gICAgICAgICAgICAgICAgICAgICBAPiBiYWNrZ3JvdW5kX2NvbG9yIChgTmFtZSBcIiNmZWZlZmVcIilcbiAgICAgICAgICAgICAgICAgICAgIEA+IHVuaWZvcm1fcGFkZGluZyAoYFB4IDIwKVxuICAgICAgICAgICAgICAgICAgICAgQD4gYm9yZGVyIH53aWR0aDooYFB4IDIpIH5zdHlsZTpgU29saWQgfmNvbG9yOihgTmFtZSBcImJsYWNrXCIpICgpKVxuICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgQCBhdHRycylcbiAgICAgICAgICBdXG4gICAgICAgIG5vZGVzXG4gICAgXVxuOztcbiJdfQ==
