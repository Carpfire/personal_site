// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Incr_dom__
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Incr_dom = [0],
    Incr_dom$0 = [0, Incr_dom];
   runtime.caml_register_global(0, Incr_dom$0, "Incr_dom__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Component
//# unitInfo: Requires: Core__Option, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom_Component$0 = "Incr_dom__Component",
    cst_incr_dom$0 = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Core_Option = global_data.Core__Option,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Component$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/component.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom$0, "component.ml");
   var
    cst_incr_dom = cst_incr_dom$0,
    cst_Incr_dom_Component = cst_Incr_dom_Component$0;
   function extra(r){return r[5];}
   function on_display(r){return r[4];}
   function view(r){return r[3];}
   function update_visibility(r){return r[2];}
   function apply_action(r){return r[1];}
   function create_with_extra
   (apply_action, update_visibility, on_display, extra, model, view){
    function _g_(param, _l_, _k_){return model;}
    var apply_action$0 = caml_call2(Core_Option[39], apply_action, _g_);
    function _h_(param){return model;}
    var
     update_visibility$0 = caml_call2(Core_Option[39], update_visibility, _h_);
    function _i_(param, _j_){return 0;}
    var on_display$0 = caml_call2(Core_Option[39], on_display, _i_);
    return [0, apply_action$0, update_visibility$0, view, on_display$0, extra];
   }
   function create(_c_, _b_, _a_){
    var _d_ = 0;
    return function(_e_, _f_){
     return create_with_extra(_c_, _b_, _a_, _d_, _e_, _f_);};
   }
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Component);
   var
    Incr_dom_Component =
      [0,
       apply_action,
       update_visibility,
       view,
       extra,
       on_display,
       create,
       create_with_extra];
   runtime.caml_register_global
    (12, Incr_dom_Component, cst_Incr_dom_Component$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Incr
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ui_incr
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom_Incr = "Incr_dom__Incr",
    cst_incr_dom = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Ui_incr = global_data.Ui_incr;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Incr);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][1], "src/incr.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom, "incr.ml");
   var
    Incr = Ui_incr[1],
    clock = Ui_incr[2],
    sexp_of_state_witness = Ui_incr[3],
    State = Ui_incr[4],
    sexp_of_t = Ui_incr[5],
    invariant = Ui_incr[6],
    is_const = Ui_incr[7],
    is_valid = Ui_incr[8],
    is_necessary = Ui_incr[9],
    const$0 = Ui_incr[10],
    return$0 = Ui_incr[11],
    map = Ui_incr[12],
    symbol_map = Ui_incr[13],
    map2 = Ui_incr[14],
    map3 = Ui_incr[15],
    map4 = Ui_incr[16],
    map5 = Ui_incr[17],
    map6 = Ui_incr[18],
    map7 = Ui_incr[19],
    map8 = Ui_incr[20],
    map9 = Ui_incr[21],
    map10 = Ui_incr[22],
    map11 = Ui_incr[23],
    map12 = Ui_incr[24],
    map13 = Ui_incr[25],
    map14 = Ui_incr[26],
    map15 = Ui_incr[27],
    bind = Ui_incr[28],
    symbol_bind = Ui_incr[29],
    bind2 = Ui_incr[30],
    bind3 = Ui_incr[31],
    bind4 = Ui_incr[32],
    Infix = Ui_incr[33],
    join = Ui_incr[34],
    if$0 = Ui_incr[35],
    freeze = Ui_incr[36],
    depend_on = Ui_incr[37],
    necessary_if_alive = Ui_incr[38],
    for_all = Ui_incr[39],
    exists = Ui_incr[40],
    all = Ui_incr[41],
    both = Ui_incr[42],
    array_fold = Ui_incr[43],
    reduce_balanced = Ui_incr[44],
    Unordered_array_fold_update = Ui_incr[45],
    unordered_array_fold = Ui_incr[46],
    opt_unordered_array_fold = Ui_incr[47],
    sum = Ui_incr[48],
    opt_sum = Ui_incr[49],
    sum_int = Ui_incr[50],
    sum_float = Ui_incr[51],
    Scope = Ui_incr[52],
    Var = Ui_incr[53],
    Observer = Ui_incr[54],
    observe = Ui_incr[55],
    Update = Ui_incr[56],
    on_update = Ui_incr[57],
    stabilize = Ui_incr[58],
    am_stabilizing = Ui_incr[59],
    Cutoff = Ui_incr[60],
    set_cutoff = Ui_incr[61],
    get_cutoff = Ui_incr[62],
    lazy_from_fun = Ui_incr[63],
    default_hash_table_initial_siz = Ui_incr[64],
    memoize_fun = Ui_incr[65],
    memoize_fun_by_key = Ui_incr[66],
    weak_memoize_fun = Ui_incr[67],
    weak_memoize_fun_by_key = Ui_incr[68],
    user_info = Ui_incr[69],
    set_user_info = Ui_incr[70],
    append_user_info_graphviz = Ui_incr[71],
    Node_value = Ui_incr[72],
    node_value = Ui_incr[73],
    Packed = Ui_incr[74],
    pack = Ui_incr[75],
    save_dot = Ui_incr[76],
    save_dot_to_file = Ui_incr[77],
    Let_syntax = Ui_incr[78],
    Before_or_after = Ui_incr[79],
    Clock = Ui_incr[80],
    Expert = Ui_incr[81],
    Map = Ui_incr[82],
    Select = Ui_incr[83];
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Incr);
   var
    Incr_dom_Incr =
      [0,
       Incr,
       clock,
       sexp_of_state_witness,
       State,
       sexp_of_t,
       invariant,
       is_const,
       is_valid,
       is_necessary,
       const$0,
       return$0,
       map,
       symbol_map,
       map2,
       map3,
       map4,
       map5,
       map6,
       map7,
       map8,
       map9,
       map10,
       map11,
       map12,
       map13,
       map14,
       map15,
       bind,
       symbol_bind,
       bind2,
       bind3,
       bind4,
       Infix,
       join,
       if$0,
       freeze,
       depend_on,
       necessary_if_alive,
       for_all,
       exists,
       all,
       both,
       array_fold,
       reduce_balanced,
       Unordered_array_fold_update,
       unordered_array_fold,
       opt_unordered_array_fold,
       sum,
       opt_sum,
       sum_int,
       sum_float,
       Scope,
       Var,
       Observer,
       observe,
       Update,
       on_update,
       stabilize,
       am_stabilizing,
       Cutoff,
       set_cutoff,
       get_cutoff,
       lazy_from_fun,
       default_hash_table_initial_siz,
       memoize_fun,
       memoize_fun_by_key,
       weak_memoize_fun,
       weak_memoize_fun_by_key,
       user_info,
       set_user_info,
       append_user_info_graphviz,
       Node_value,
       node_value,
       Packed,
       pack,
       save_dot,
       save_dot_to_file,
       Let_syntax,
       Before_or_after,
       Clock,
       Expert,
       Map,
       Select];
   runtime.caml_register_global(12, Incr_dom_Incr, cst_Incr_dom_Incr);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__App_intf
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom_App_intf = "Incr_dom__App_intf",
    cst_incr_dom = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_App_intf);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][1], "src/app_intf.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom, "app_intf.ml");
   var Private = [0];
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_App_intf);
   var Incr_dom_App_intf = [0, Private];
   runtime.caml_register_global(11, Incr_dom_App_intf, cst_Incr_dom_App_intf);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Js_misc
//# unitInfo: Requires: Base__Binary_searchable, Bin_prot__Common, Bin_prot__Read, Bin_prot__Shape, Bin_prot__Write, Bin_shape, Core, Core__Float, Core__Option, Js_of_ocaml__Dom_html, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv_error, Sexplib0__Sexp_conv_record
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Columns$1 = "Columns",
    cst_Incr_dom_Js_misc$0 = "Incr_dom__Js_misc",
    cst_Rows$1 = "Rows",
    cst_a$4 = "a",
    cst_bottom$1 = "bottom",
    cst_columns = "columns",
    cst_incr_dom$0 = "incr_dom",
    cst_left$1 = "left",
    cst_right$1 = "right",
    cst_rows = "rows",
    cst_rows_or_columns$1 = "rows_or_columns",
    cst_src_js_misc_ml_Rect_t$0 = "src/js_misc.ml.Rect.t",
    cst_src_js_misc_ml_rows_or_col$0 = "src/js_misc.ml.rows_or_columns",
    cst_t$1 = "t",
    cst_top$1 = "top",
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    error_source_003 = cst_src_js_misc_ml_Rect_t$0,
    error_source_019 = cst_src_js_misc_ml_rows_or_col$0,
    descriptions = [0, [0, cst_Rows$1, 0], [0, [0, cst_Columns$1, 0], 0]],
    Core = global_data.Core,
    Core_Float = global_data.Core__Float,
    Core_Option = global_data.Core__Option,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Base_Binary_searchable = global_data.Base__Binary_searchable,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Bin_prot_Read = global_data.Bin_prot__Read,
    Bin_prot_Common = global_data.Bin_prot__Common,
    Bin_prot_Write = global_data.Bin_prot__Write,
    Sexplib0_Sexp_conv_error = global_data.Sexplib0__Sexp_conv_error,
    Bin_shape = global_data.Bin_shape,
    Bin_prot_Shape = global_data.Bin_prot__Shape,
    Sexplib0_Sexp_conv_record = global_data.Sexplib0__Sexp_conv_record,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Js_misc$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/js_misc.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom$0, "js_misc.ml");
   var
    _E_ =
      [0,
       [11, "Element ", [2, 0, [11, " not found", 0]]],
       "Element %s not found"],
    cst_keep_in_view = "keep-in-view",
    cst_Columns$0 = cst_Columns$1,
    cst_Rows$0 = cst_Rows$1,
    _D_ = [0, 0],
    _C_ = [0, 0],
    _B_ = [1, cst_src_js_misc_ml_rows_or_col$0],
    cst_src_js_misc_ml_rows_or_col = cst_src_js_misc_ml_rows_or_col$0,
    _u_ = [0, cst_Columns$1],
    _v_ = [0, cst_Rows$1],
    cst_src_js_misc_ml_Rect_t = cst_src_js_misc_ml_Rect_t$0,
    cst_t$0 = cst_t$1,
    _a_ = [0, cst_right$1],
    _b_ = [0, cst_bottom$1],
    _c_ = [0, cst_left$1],
    _d_ = [0, cst_top$1],
    cst_right = cst_right$1,
    cst_bottom = cst_bottom$1,
    cst_left = cst_left$1,
    cst_top = cst_top$1,
    cst_a = cst_a$4,
    cst_src_js_misc_ml_9_14 = "src/js_misc.ml:9:14",
    cst_right$0 = cst_right$1,
    cst_a$0 = cst_a$4,
    cst_src_js_misc_ml_8_15 = "src/js_misc.ml:8:15",
    cst_bottom$0 = cst_bottom$1,
    cst_a$1 = cst_a$4,
    cst_src_js_misc_ml_7_13 = "src/js_misc.ml:7:13",
    cst_left$0 = cst_left$1,
    cst_a$2 = cst_a$4,
    cst_src_js_misc_ml_6_12 = "src/js_misc.ml:6:12",
    cst_top$0 = cst_top$1,
    cst_a$3 = cst_a$4,
    cst_t = cst_t$1,
    cst_src_js_misc_ml_5_2 = "src/js_misc.ml:5:2",
    _w_ = [0, [0, cst_Rows$1, 0], [0, [0, cst_Columns$1, 0], 0]],
    cst_rows_or_columns = cst_rows_or_columns$1,
    cst_src_js_misc_ml_25_0 = "src/js_misc.ml:25:0",
    cst_rows_or_columns$0 = cst_rows_or_columns$1,
    cst_Rows = cst_Rows$1,
    cst_Columns = cst_Columns$1,
    cst_incr_dom = cst_incr_dom$0,
    cst_Incr_dom_Js_misc = cst_Incr_dom_Js_misc$0;
   function t_of_sexp(of_a_001, x_004){
    function _an_(param){
     var
      _aq_ = param[2],
      _ar_ = _aq_[2],
      right = _ar_[2][1],
      bottom = _ar_[1],
      left = _aq_[1],
      top = param[1];
     return [0, top, left, bottom, right];
    }
    var _ao_ = 0;
    function _ap_(param){
     return caml_string_notequal(param, cst_bottom$1)
             ? caml_string_notequal
                (param, cst_left$1)
               ? caml_string_notequal
                  (param, cst_right$1)
                 ? caml_string_notequal(param, cst_top$1) ? -1 : 0
                 : 3
               : 1
             : 2;
    }
    return caml_call6
            (Sexplib0_Sexp_conv_record[3],
             error_source_003,
             [0,
              cst_top,
              1,
              of_a_001,
              [0,
               cst_left,
               1,
               of_a_001,
               [0, cst_bottom, 1, of_a_001, [0, cst_right, 1, of_a_001, 0]]]],
             _ap_,
             _ao_,
             _an_,
             x_004);
   }
   function sexp_of_t(of_a_005, param){
    var
     right_013 = param[4],
     bottom_011 = param[3],
     left_009 = param[2],
     top_007 = param[1],
     arg_014 = caml_call1(of_a_005, right_013),
     bnds_006 = [0, [1, [0, _a_, [0, arg_014, 0]]], 0],
     arg_012 = caml_call1(of_a_005, bottom_011),
     bnds_006$0 = [0, [1, [0, _b_, [0, arg_012, 0]]], bnds_006],
     arg_010 = caml_call1(of_a_005, left_009),
     bnds_006$1 = [0, [1, [0, _c_, [0, arg_010, 0]]], bnds_006$0],
     arg_008 = caml_call1(of_a_005, top_007),
     bnds_006$2 = [0, [1, [0, _d_, [0, arg_008, 0]]], bnds_006$1];
    return [1, bnds_006$2];
   }
   var
    _e_ = caml_call1(Bin_shape[3][1], cst_a),
    _f_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_9_14),
    _g_ = [0, [0, cst_right$0, caml_call2(Bin_prot_Shape[11], _f_, _e_)], 0],
    _h_ = caml_call1(Bin_shape[3][1], cst_a$0),
    _i_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_8_15),
    _j_ =
      [0, [0, cst_bottom$0, caml_call2(Bin_prot_Shape[11], _i_, _h_)], _g_],
    _k_ = caml_call1(Bin_shape[3][1], cst_a$1),
    _l_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_7_13),
    _m_ = [0, [0, cst_left$0, caml_call2(Bin_prot_Shape[11], _l_, _k_)], _j_],
    _n_ = caml_call1(Bin_shape[3][1], cst_a$2),
    _o_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_6_12),
    _p_ = [0, [0, cst_top$0, caml_call2(Bin_prot_Shape[11], _o_, _n_)], _m_],
    _q_ = caml_call1(Bin_prot_Shape[4], _p_),
    _r_ = [0, caml_call1(Bin_shape[3][1], cst_a$3), 0],
    _s_ = [0, [0, caml_call1(Bin_shape[2][1], cst_t), _r_, _q_], 0],
    _t_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_5_2),
    group = caml_call2(Bin_prot_Shape[2], _t_, _s_);
   function bin_shape_t(a){
    var _am_ = caml_call1(Bin_shape[2][1], cst_t$0);
    return caml_call1(caml_call2(Bin_prot_Shape[10], group, _am_), [0, a, 0]);
   }
   function bin_size_t(size_of_a, param){
    var
     v4 = param[4],
     v3 = param[3],
     v2 = param[2],
     v1 = param[1],
     _ai_ = caml_call1(size_of_a, v1),
     size = caml_call2(Bin_prot_Common[23], 0, _ai_),
     _aj_ = caml_call1(size_of_a, v2),
     size$0 = caml_call2(Bin_prot_Common[23], size, _aj_),
     _ak_ = caml_call1(size_of_a, v3),
     size$1 = caml_call2(Bin_prot_Common[23], size$0, _ak_),
     _al_ = caml_call1(size_of_a, v4);
    return caml_call2(Bin_prot_Common[23], size$1, _al_);
   }
   function bin_write_t(write_a, buf, pos, param){
    var
     v4 = param[4],
     v3 = param[3],
     v2 = param[2],
     v1 = param[1],
     pos$0 = caml_call3(write_a, buf, pos, v1),
     pos$1 = caml_call3(write_a, buf, pos$0, v2),
     pos$2 = caml_call3(write_a, buf, pos$1, v3);
    return caml_call3(write_a, buf, pos$2, v4);
   }
   function bin_writer_t(bin_writer_a){
    function _ae_(v){
     var _af_ = bin_writer_a[2];
     return function(_ag_, _ah_){return bin_write_t(_af_, v, _ag_, _ah_);};
    }
    return [0, function(v){return bin_size_t(bin_writer_a[1], v);}, _ae_];
   }
   function bin_read_t(of_a, buf, pos_ref, vint){
    return caml_call2
            (Bin_prot_Common[19], cst_src_js_misc_ml_Rect_t, pos_ref[1]);
   }
   function bin_read_t$0(of_a, buf, pos_ref){
    var
     v_top = caml_call2(of_a, buf, pos_ref),
     v_left = caml_call2(of_a, buf, pos_ref),
     v_bottom = caml_call2(of_a, buf, pos_ref),
     v_right = caml_call2(of_a, buf, pos_ref);
    return [0, v_top, v_left, v_bottom, v_right];
   }
   function bin_reader_t(bin_reader_a){
    function _ad_(buf, pos_ref, vtag){
     return bin_read_t(bin_reader_a[1], buf, pos_ref, vtag);
    }
    return [0,
            function(buf, pos_ref){
             return bin_read_t$0(bin_reader_a[1], buf, pos_ref);
            },
            _ad_];
   }
   function bin_t(bin_a){
    var _ab_ = bin_reader_t(bin_a[3]), _ac_ = bin_writer_t(bin_a[2]);
    return [0, bin_shape_t(bin_a[1]), _ac_, _ab_];
   }
   function compare(cmp_a, a_015, b_016){
    if(a_015 === b_016) return 0;
    var n = caml_call2(cmp_a, a_015[1], b_016[1]);
    if(0 !== n) return n;
    var n$0 = caml_call2(cmp_a, a_015[2], b_016[2]);
    if(0 !== n$0) return n$0;
    var n$1 = caml_call2(cmp_a, a_015[3], b_016[3]);
    return 0 === n$1 ? caml_call2(cmp_a, a_015[4], b_016[4]) : n$1;
   }
   function right(r){return r[4];}
   function bottom(r){return r[3];}
   function left(r){return r[2];}
   function top(r){return r[1];}
   function map(t, f){
    var
     ___ = caml_call1(f, t[4]),
     _$_ = caml_call1(f, t[3]),
     _aa_ = caml_call1(f, t[2]);
    return [0, caml_call1(f, t[1]), _aa_, _$_, ___];
   }
   function int_height(t){return t[3] - t[1] | 0;}
   function int_width(t){return t[4] - t[2] | 0;}
   function float_height(t){return t[3] - t[1];}
   function float_width(t){return t[4] - t[2];}
   function round_float_rect(opt){
    if(opt) var sth = opt[1], round = sth; else var round = Core_Float[53];
    return function(_Z_){return map(_Z_, round);};
   }
   function rows_or_columns_of_sexp(sexp_020){
    a:
    {
     if(0 === sexp_020[0]){
      var _V_ = sexp_020[1];
      b:
      if(caml_string_notequal(_V_, cst_Columns$1)){
       if(caml_string_notequal(_V_, cst_Rows$1)){
        if(! caml_string_notequal(_V_, cst_columns)) break b;
        if(caml_string_notequal(_V_, cst_rows)) break a;
       }
       return 0;
      }
      return 1;
     }
     var _W_ = sexp_020[1];
     if(! _W_)
      return caml_call2
              (Sexplib0_Sexp_conv_error[11], error_source_019, sexp_020);
     var _X_ = _W_[1];
     if(0 !== _X_[0])
      return caml_call2
              (Sexplib0_Sexp_conv_error[10], error_source_019, sexp_020);
     var _Y_ = _X_[1];
     b:
     if(caml_string_notequal(_Y_, cst_Columns$1)){
      if(caml_string_notequal(_Y_, cst_Rows$1)){
       if(! caml_string_notequal(_Y_, cst_columns)) break b;
       if(caml_string_notequal(_Y_, cst_rows)) break a;
      }
      return caml_call2
              (Sexplib0_Sexp_conv_error[7], error_source_019, sexp_020);
     }
     return caml_call2
             (Sexplib0_Sexp_conv_error[7], error_source_019, sexp_020);
    }
    return caml_call2
            (Sexplib0_Sexp_conv_error[12], error_source_019, sexp_020);
   }
   function sexp_of_rows_or_columns(param){return param ? _u_ : _v_;}
   var
    _x_ = caml_call1(Bin_prot_Shape[5], _w_),
    _y_ =
      [0, [0, caml_call1(Bin_shape[2][1], cst_rows_or_columns), 0, _x_], 0],
    _z_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_25_0),
    group$0 = caml_call2(Bin_prot_Shape[2], _z_, _y_),
    _A_ = caml_call1(Bin_shape[2][1], cst_rows_or_columns$0),
    bin_shape_rows_or_columns =
      caml_call1(caml_call2(Bin_prot_Shape[10], group$0, _A_), 0);
   function bin_size_rows_or_columns(param){return 1;}
   function bin_write_rows_or_columns(buf, pos, param){
    return param
            ? caml_call3(Bin_prot_Write[30], buf, pos, 1)
            : caml_call3(Bin_prot_Write[30], buf, pos, 0);
   }
   var
    bin_writer_rows_or_columns =
      [0, bin_size_rows_or_columns, bin_write_rows_or_columns];
   function bin_read_rows_or_columns(buf, pos_ref, vint){
    return caml_call2
            (Bin_prot_Common[19], cst_src_js_misc_ml_rows_or_col, pos_ref[1]);
   }
   function bin_read_rows_or_columns$0(buf, pos_ref){
    var match = caml_call2(Bin_prot_Read[29], buf, pos_ref);
    return 0 === match
            ? 0
            : 1
              === match
              ? 1
              : caml_call2(Bin_prot_Common[18], _B_, pos_ref[1]);
   }
   var
    bin_reader_rows_or_columns =
      [0, bin_read_rows_or_columns$0, bin_read_rows_or_columns],
    bin_rows_or_columns =
      [0,
       bin_shape_rows_or_columns,
       bin_writer_rows_or_columns,
       bin_reader_rows_or_columns],
    rows = 0,
    columns = 1;
   function is_rows(param){return param ? 0 : 1;}
   function is_columns(param){return param ? 1 : 0;}
   function rows_val(param){return param ? 0 : _C_;}
   function columns_val(param){return param ? _D_ : 0;}
   var
    rows$0 = [0, cst_Rows, 0, rows],
    columns$0 = [0, cst_Columns, 1, columns];
   function fold(init, rows_fun, columns_fun){
    return caml_call2
            (columns_fun, caml_call2(rows_fun, init, rows$0), columns$0);
   }
   function iter(rows_fun, columns_fun){
    caml_call1(rows_fun, rows$0);
    return caml_call1(columns_fun, columns$0);
   }
   function map$0(t, rows_fun, columns_fun){
    return t
            ? caml_call1(columns_fun, columns$0)
            : caml_call1(rows_fun, rows$0);
   }
   function make_matcher(rows_fun, columns_fun, compile_acc){
    var
     match = caml_call2(rows_fun, rows$0, compile_acc),
     compile_acc$0 = match[2],
     rows_gen = match[1],
     match$0 = caml_call2(columns_fun, columns$0, compile_acc$0),
     compile_acc$1 = match$0[2],
     columns_gen = match$0[1];
    function _S_(param){return caml_call1(rows_gen, 0);}
    function _T_(param){return caml_call1(columns_gen, 0);}
    return [0, function(_U_){return map$0(_U_, _S_, _T_);}, compile_acc$1];
   }
   function to_rank(param){return param ? 1 : 0;}
   function to_name(param){return param ? cst_Columns$0 : cst_Rows$0;}
   var
    Variants_of_rows_or_columns =
      [0,
       rows$0,
       columns$0,
       fold,
       iter,
       map$0,
       make_matcher,
       to_rank,
       to_name,
       descriptions],
    compare_rows_or_columns = runtime.caml_int_compare;
   function innerHeight(param){
    var t0 = Js_of_ocaml_Dom_html[8];
    return t0.innerHeight;
   }
   function innerWidth(param){
    var t1 = Js_of_ocaml_Dom_html[8];
    return t1.innerWidth;
   }
   function element_is_in_viewport(elt){
    var
     rect = elt.getBoundingClientRect(),
     _K_ = caml_call2(Core_Float[126], rect.top, 0.);
    if(_K_){
     var _L_ = caml_call2(Core_Float[126], rect.left, 0.);
     if(_L_){
      var
       _M_ = innerHeight(0),
       _N_ = caml_call1(Core_Float[33], _M_),
       _O_ = caml_call2(Core_Float[127], rect.bottom, _N_);
      if(_O_){
       var _P_ = innerWidth(0), _Q_ = caml_call1(Core_Float[33], _P_);
       return caml_call2(Core_Float[127], rect.right, _Q_);
      }
      var _R_ = _O_;
     }
     else
      var _R_ = _L_;
    }
    else
     var _R_ = _K_;
    return _R_;
   }
   function scroll(opt, param){
    if(opt) var sth = opt[1], id = sth; else var id = cst_keep_in_view;
    var match = caml_call1(Js_of_ocaml_Dom_html[3], id);
    if(! match) return 0;
    var elt = match[1], _J_ = 1 - element_is_in_viewport(elt);
    return _J_ ? elt.scrollIntoView(Js_of_ocaml_Js[7]) : _J_;
   }
   function viewport_rect_of_element(elt){
    var rect = elt.getBoundingClientRect();
    return [0, rect.top, rect.left, rect.bottom, rect.right];
   }
   function viewport_rect(param){
    var _I_ = innerWidth(0);
    return [0, 0, 0, innerHeight(0), _I_];
   }
   function client_rect_of_element(elt){
    var
     bounding_rect = viewport_rect_of_element(elt),
     _F_ = caml_call1(Core_Float[33], elt.clientWidth),
     _G_ = bounding_rect[2] + _F_,
     _H_ = caml_call1(Core_Float[33], elt.clientHeight);
    return [0,
            bounding_rect[1],
            bounding_rect[2],
            bounding_rect[1] + _H_,
            _G_];
   }
   function client_rect(param){
    var
     t18 = Js_of_ocaml_Dom_html[2],
     t19 = t18.documentElement,
     t16 = Js_of_ocaml_Dom_html[2],
     t17 = t16.documentElement;
    return [0, 0, 0, t17.clientHeight, t19.clientWidth];
   }
   function find_visible_range(length, nth_element_id, layout){
    if(caml_call2(Core[90], length, 0)) return 0;
    function element_search(search_by, mode, layout, x){
     function nth_element(n){
      var
       id = caml_call1(nth_element_id, n),
       match = caml_call1(Js_of_ocaml_Dom_html[3], id);
      if(! match) return caml_call3(Core[246], _E_, id, 0);
      var elt = match[1];
      return elt;
     }
     var
      first = viewport_rect_of_element(nth_element(0)),
      last = viewport_rect_of_element(nth_element(length - 1 | 0)),
      compare = Core_Float[133];
     function get(param, n){
      var
       is_ascending =
         layout
          ? caml_call2(Core_Float[127], first[2], last[2])
          : caml_call2(Core_Float[127], first[1], last[1]),
       n$0 = is_ascending ? n : (length - n | 0) - 1 | 0;
      return caml_call1(search_by, viewport_rect_of_element(nth_element(n$0)));
     }
     function length$0(param){return length;}
     return caml_call6
             (caml_call1(Base_Binary_searchable[1], [0, get, length$0])[1],
              0,
              0,
              0,
              compare,
              mode,
              x);
    }
    var viewport_rect$0 = viewport_rect(0);
    if(layout)
     var target = viewport_rect$0[2], search_by = right;
    else
     var target = viewport_rect$0[1], search_by = bottom;
    var
     first =
       element_search
        (search_by, -839473056, layout, caml_call1(Core_Float[33], target));
    if(layout)
     var target$0 = viewport_rect$0[4], search_by$0 = left;
    else
     var target$0 = viewport_rect$0[3], search_by$0 = top;
    var
     last =
       element_search
        (search_by$0, 200870407, layout, caml_call1(Core_Float[33], target$0));
    return caml_call2(Core_Option[23], first, last);
   }
   function get_scroll_container_js_expr(element){
    var
     doc = element.ownerDocument || document,
     win = doc.defaultView || window,
     re = /(auto|scroll)/;
    if(element === doc) return doc;
    var cur = element.parentNode;
    while(cur.parentNode){
     var style = win.getComputedStyle(cur);
     if(re.test(style.overflow + style.overflowY + style.overflowX))
      return cur;
     cur = cur.parentNode;
    }
    return doc;
   }
   function get_scroll_container(el){return get_scroll_container_js_expr(el);}
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Js_misc);
   var
    Incr_dom_Js_misc =
      [0,
       [0,
        t_of_sexp,
        sexp_of_t,
        bin_shape_t,
        bin_size_t,
        bin_write_t,
        bin_read_t$0,
        bin_read_t,
        bin_writer_t,
        bin_reader_t,
        bin_t,
        compare,
        right,
        bottom,
        left,
        top,
        map,
        int_height,
        int_width,
        float_height,
        float_width],
       round_float_rect,
       viewport_rect,
       viewport_rect_of_element,
       client_rect,
       client_rect_of_element,
       element_is_in_viewport,
       scroll,
       sexp_of_rows_or_columns,
       rows_or_columns_of_sexp,
       bin_shape_rows_or_columns,
       bin_size_rows_or_columns,
       bin_write_rows_or_columns,
       bin_writer_rows_or_columns,
       bin_read_rows_or_columns$0,
       bin_read_rows_or_columns,
       bin_reader_rows_or_columns,
       bin_rows_or_columns,
       rows,
       columns,
       is_rows,
       is_columns,
       rows_val,
       columns_val,
       Variants_of_rows_or_columns,
       compare_rows_or_columns,
       find_visible_range,
       get_scroll_container];
   runtime.caml_register_global(102, Incr_dom_Js_misc, cst_Incr_dom_Js_misc$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Start_app
//# unitInfo: Requires: Async_js, Async_kernel, Async_kernel__Async_kernel_scheduler, Async_kernel__Deferred, Async_kernel__Ivar, CamlinternalLazy, CamlinternalOO, Core, Core__Blang, Core__Comparable, Core__Error, Core__Fn, Core__Hashtbl, Core__List, Core__Memo, Core__Option, Core__Or_error, Core__Queue, Core__Set, Core__Sexp, Core__String, Core__Time_ns, Css_gen, Incr_dom__Component, Incr_dom__Incr, Incr_dom__Js_misc, Javascript_profiling, Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ppx_sexp_conv_lib, Sexplib0__Sexp_conv, Stdio__In_channel, Ui_effect, Ui_incr, Ui_time_source, Vdom_file_download, Virtual_dom__Effect, Virtual_dom__Node, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$3 = '"',
    cst_Incr_dom_Start_app$0 = "Incr_dom__Start_app",
    cst_apply_actions$1 = "apply actions",
    cst_before$1 = "before",
    cst_diff$1 = "diff",
    cst_incr_dom$0 = "incr_dom",
    cst_on_display$1 = "on_display",
    cst_patch$1 = "patch",
    cst_src_start_app_ml = "src/start_app.ml",
    cst_stabilize$5 = "stabilize",
    cst_stabilize_for_action$1 = "stabilize-for-action",
    cst_total$1 = "total",
    cst_update_visibility$1 = "update visibility",
    caml_js_wrap_callback = runtime.caml_js_wrap_callback,
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    cst$2 = ": ",
    filename = "current_incr_dom_dot_graph.dot",
    cst$1 = "  ",
    cst = cst$3,
    cst$0 = cst$3,
    Virtual_dom_Node = global_data.Virtual_dom__Node,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Incr_dom_Component = global_data.Incr_dom__Component,
    Incr_dom_Incr = global_data.Incr_dom__Incr,
    Ui_time_source = global_data.Ui_time_source,
    Async_kernel_Deferred = global_data.Async_kernel__Deferred,
    Ui_effect = global_data.Ui_effect,
    Core_Queue = global_data.Core__Queue,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Core_Time_ns = global_data.Core__Time_ns,
    Core_String = global_data.Core__String,
    Core_Option = global_data.Core__Option,
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Async_js = global_data.Async_js,
    Core = global_data.Core,
    Core_Blang = global_data.Core__Blang,
    Ppx_sexp_conv_lib = global_data.Ppx_sexp_conv_lib,
    Core_Hashtbl = global_data.Core__Hashtbl,
    Core_Error = global_data.Core__Error,
    Core_Or_error = global_data.Core__Or_error;
   global_data.CamlinternalOO;
   var
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Core_Memo = global_data.Core__Memo,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Core_Fn = global_data.Core__Fn,
    Incr_dom_Js_misc = global_data.Incr_dom__Js_misc,
    Async_kernel = global_data.Async_kernel,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Css_gen = global_data.Css_gen,
    Core_Set = global_data.Core__Set,
    Ui_incr = global_data.Ui_incr,
    Stdio_In_channel = global_data.Stdio__In_channel,
    Vdom_file_download = global_data.Vdom_file_download,
    Core_Sexp = global_data.Core__Sexp,
    Core_List = global_data.Core__List,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Async_kernel_Async_kernel_sche =
      global_data.Async_kernel__Async_kernel_scheduler,
    Javascript_profiling = global_data.Javascript_profiling,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Core_Comparable = global_data.Core__Comparable;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Start_app$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_src_start_app_ml);
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom$0, "start_app.ml");
   var
    cst_stabilize$1 = cst_stabilize$5,
    cst_stabilize$2 = cst_stabilize$5,
    cst_total = cst_total$1,
    cst_update_visibility = cst_update_visibility$1,
    cst_update_visibility$0 = cst_update_visibility$1,
    cst_apply_actions = cst_apply_actions$1,
    cst_apply_actions$0 = cst_apply_actions$1,
    cst_stabilize$3 = cst_stabilize$5,
    cst_stabilize$4 = cst_stabilize$5,
    cst_diff = cst_diff$1,
    cst_diff$0 = cst_diff$1,
    cst_patch = cst_patch$1,
    cst_patch$0 = cst_patch$1,
    cst_on_display = cst_on_display$1,
    cst_on_display$0 = cst_on_display$1,
    cst_total$0 = cst_total$1,
    cst_stabilize_for_action = cst_stabilize_for_action$1,
    cst_stabilize_for_action$0 = cst_stabilize_for_action$1,
    _k_ = [0, "action"],
    cst_Action = "Action",
    cst_custom_filter = "custom filter",
    cst_named_filter_blang_sexp_st =
      'named filter blang "%{sexp:string Blang.t}"',
    _i_ = [12, 34, 0],
    _j_ = [0, 0],
    cst_named_filter_blang = 'named filter blang "',
    cst_Exception_raised_by_s_Erro = "Exception raised by %s: %{Error#hum}",
    _h_ = [0, 0],
    cst_Exception_raised_by = "Exception raised by ",
    cst_stabilize = cst_stabilize$5,
    cst_stabilize$0 = cst_stabilize$5,
    cst_none = "none",
    cst_all = "all",
    _g_ = [0, [0, cst_src_start_app_ml, 461, 17163, 17204]],
    cst_scroll = "scroll",
    cst_resize = "resize",
    cst_disable_tab_index = "disable_tab_index",
    _e_ =
      [0,
       [11,
        'Available logging filters for "',
        [2, 0, [11, '":\n', [2, 0, 0]]]],
       'Available logging filters for "%s":\n%s'],
    cst_Debugging_prints_timing_in =
      "Debugging prints timing info to the console. It is disabled by default unless otherwise specified by the app.\nTo start debugging, type: startDebugging([app_id])\nTo stop debugging, type: stopDebugging([app_id])\n\n[app_id] is equal to the id of the element that the incr-dom app is bound to. If the page only has one app or you want to apply the action to all apps, you can pass in [null] (or for single-argument functions, omit it altogether).",
    cst_Profiling_is_disabled_by_d =
      "Profiling is disabled by default.\nTo start profiling, type: startProfiling([app_id])\nTo stop profiling, type: stopProfiling([app_id])",
    cst_Logging_prints_action_info =
      "Logging prints action info to the console. It is disabled by default. To start logging, type one of the following:\nstartLoggingAll([app_id]) - log all actions\nstartLogging(filter_name [, app_id]) - filter actions using a pre-defined named filter [filter_name]\nstartLogging(filter_name_blang [, app_id]) - filter actions using a blang of named filters [filter_name_blang]\nstartLoggingCustom(filter [, app_id]) - filter actions using a custom function [filter] from a string (the action sexp) to a bool\nTo stop logging, type: stopLogging([app_id])",
    cst_Action_Logging = "Action Logging",
    cst_Action_Profiling = "Action Profiling",
    cst_Debugging = "Debugging",
    cst_plain_text = "plain/text",
    _d_ =
      [0,
       [11,
        "Unable to find named filter(s): ",
        [2, 0, [11, ". Valid names are:\n", [2, 0, 0]]]],
       "Unable to find named filter(s): %s. Valid names are:\n%s"],
    _c_ =
      [0,
       [11,
        'Unable to find app with id "',
        [2, 0, [11, '". Valid app ids are: ', [2, 0, 0]]]],
       'Unable to find app with id "%s". Valid app ids are: %s'],
    cst_Incr_dom_Bonsai_Console = "Incr_dom / Bonsai Console",
    _b_ = [0, "\n"],
    _a_ = [0, ", "],
    cst_request_ids_already_set = "request_ids already set",
    cst_before$0 = cst_before$1,
    cst_after = "after",
    cst_before = cst_before$1,
    cst_incr_dom = cst_incr_dom$0,
    cst_Incr_dom_Start_app = cst_Incr_dom_Start_app$0;
   function print_errorf(fmt){
    function _a3_(s){
     return Js_of_ocaml_Firebug[1].error(caml_jsstring_of_string(s));
    }
    return caml_call2(Core[254], _a3_, fmt);
   }
   function request_animation_frame(callback){
    var
     current_context = caml_call1(Async_kernel_Async_kernel_sche[1], 0),
     request_ids = [0, 0];
    function callback$0(param){
     var _a1_ = request_ids[1];
     a:
     {
      if(typeof _a1_ === "number" && _a1_){var _a2_ = 1; break a;}
      var _a2_ = 0;
     }
     if(_a2_) return 0;
     var match = request_ids[1];
     if(typeof match === "number"){
      if(! match) request_ids[1] = 1;
     }
     else{
      var set_timeout_id = match[2], animation_frame_id = match[1];
      Js_of_ocaml_Dom_html[8].cancelAnimationFrame(animation_frame_id);
      Js_of_ocaml_Dom_html[8].clearTimeout(set_timeout_id);
      request_ids[1] = 1;
     }
     caml_call2(Async_kernel_Async_kernel_sche[2], current_context, callback);
     return 0;
    }
    var
     animation_callback =
       caml_js_wrap_callback(function(param){return callback$0(0);}),
     animation_frame_id =
       Js_of_ocaml_Dom_html[8].requestAnimationFrame(animation_callback),
     timeout_callback =
       caml_js_wrap_callback(function(param){return callback$0(0);}),
     set_timeout_id =
       Js_of_ocaml_Dom_html[8].setTimeout(timeout_callback, 1000.),
     _a0_ = request_ids[1];
    return typeof _a0_ === "number"
            ? _a0_
              ? (Js_of_ocaml_Dom_html
                  [8].cancelAnimationFrame
                 (animation_frame_id),
                Js_of_ocaml_Dom_html[8].clearTimeout(set_timeout_id))
              : (request_ids[1] = [0, animation_frame_id, set_timeout_id], 0)
            : caml_call1(Core[5], cst_request_ids_already_set);
   }
   function as_focusable(_aZ_){return _aZ_;}
   function mark_dirty(t){return caml_call2(Async_kernel_Ivar[16], t[1], 0);}
   function is_dirty(t){return caml_call1(Async_kernel_Ivar[18], t[1]);}
   function t_of_sexp(x_002){
    return caml_call2(Core_Blang[14], Core[559], x_002);
   }
   function sexp_of_t(x_003){
    return caml_call2(Core_Blang[15], Core[558], x_003);
   }
   function compare(a_004, b_005){
    function _aY_(a_006, b_007){return caml_call2(Core[551], a_006, b_007);}
    return caml_call3(Core_Blang[11], _aY_, a_004, b_005);
   }
   var
    include =
      caml_call1(Core_Comparable[12], [0, compare, t_of_sexp, sexp_of_t]),
    symbol = include[1],
    symbol$0 = include[2],
    symbol$1 = include[3],
    symbol$2 = include[4],
    symbol$3 = include[5],
    symbol$4 = include[6],
    equal = include[7],
    compare$0 = include[8],
    min = include[9],
    max = include[10],
    ascending = include[11],
    descending = include[12],
    between = include[13],
    clamp_exn = include[14],
    clamp = include[15],
    comparator = include[16],
    validate_lbound = include[17],
    validate_ubound = include[18],
    validate_bound = include[19],
    Replace_polymorphic_compare = include[20],
    Map = include[21],
    Set = include[22];
   function set_logging_filter(t, logging_filter){t[2][1] = logging_filter; return 0;
   }
   var
    global = Js_of_ocaml_Js[52][1],
    global_is_initialized = [0, 0],
    app_states = caml_call3(Core_String[164][5], 0, 0, 0);
   function single_line_string_list(strings){
    function _aV_(str){
     var _aX_ = caml_call2(Core[18], str, cst);
     return caml_call2(Core[18], cst$0, _aX_);
    }
    var _aW_ = caml_call2(Core_List[51], strings, _aV_);
    return caml_call2(Core_String[46], _a_, _aW_);
   }
   function multi_line_string_list(strings){
    function _aT_(str){return caml_call2(Core[18], cst$1, str);}
    var _aU_ = caml_call2(Core_List[51], strings, _aT_);
    return caml_call2(Core_String[46], _b_, _aU_);
   }
   function get_tag_name(node){
    var node$0 = node;
    for(;;){
     if(typeof node$0 !== "number")
      switch(node$0[0]){
        case 2:
         var e = node$0[1]; return [0, caml_call1(Virtual_dom_Node[1][1], e)];
        case 4:
         var t = node$0[2], _aS_ = runtime.caml_obj_tag(t);
         a:
         if(250 === _aS_)
          var node$1 = t[1];
         else{
          if(246 !== _aS_ && 244 !== _aS_){var node$1 = t; break a;}
          var node$1 = caml_call1(CamlinternalLazy[2], t);
         }
         var node$0 = node$1;
         continue;
      }
     return 0;
    }
   }
   var
    _f_ = caml_call1(Core_Time_ns[66], 0),
    time_source = caml_call1(Ui_time_source[1], _f_);
   function start_bonsai
   (opt, _s_, _r_, _q_, bind_to_element_with_id, initial_model, App){
    if(opt) var sth = opt[1], debug = sth; else var debug = 0;
    if(_s_)
     var sth$0 = _s_[1], stop = sth$0;
    else
     var stop = caml_call1(Async_kernel_Deferred[19], 0);
    if(_r_)
     var sth$1 = _r_[1], named_logging_filters = sth$1;
    else
     var named_logging_filters = 0;
    if(_q_)
     var sth$2 = _q_[1], simulate_body_focus_on_root_el = sth$2;
    else
     var simulate_body_focus_on_root_el = 1;
    caml_call1(Async_js[3], 0);
    function _t_(param){
     var
      model_v = caml_call2(Incr_dom_Incr[53][2], 0, initial_model),
      model = caml_call1(Incr_dom_Incr[53][4], model_v),
      model_from_last_display_v =
        caml_call2(Incr_dom_Incr[53][2], 0, initial_model),
      model_from_last_display =
        caml_call1(Incr_dom_Incr[53][4], model_from_last_display_v);
     function _y_(old_value, new_value){
      return caml_call2(App[1][1], old_value, new_value);
     }
     var cutoff = caml_call1(Incr_dom_Incr[60][3], _y_);
     caml_call2(Incr_dom_Incr[61], model, cutoff);
     caml_call2(Incr_dom_Incr[61], model_from_last_display, cutoff);
     var action_queue = caml_call2(Core_Queue[66], 0, 0);
     function handle(action){
      return caml_call2(Core_Queue[43], action_queue, action);
     }
     var
      Event = caml_call1(Ui_effect[19], [0, [0], handle]),
      visibility = [0, caml_call1(Async_kernel_Ivar[13], 0)];
     function viewport_changed(param){return mark_dirty(visibility);}
     caml_call1(Virtual_dom_Effect[22], [0, viewport_changed]);
     var
      _z_ = caml_call3(App[9], model, model_from_last_display, Event[1]),
      obs = caml_call2(Incr_dom_Incr[55], 0, _z_);
     function fetch(f, param){
      return caml_call1(f, caml_call1(Incr_dom_Incr[54][6], obs));
     }
     function _A_(param){var on_display = param[4]; return on_display;}
     function _B_(param){
      var update_visibility = param[3];
      return update_visibility;
     }
     function _C_(param){var apply_action = param[2]; return apply_action;}
     function _D_(param){var view = param[1]; return view;}
     function get_view(_aR_){return fetch(_D_, _aR_);}
     caml_call1(Incr_dom_Incr[58], 0);
     caml_call1(App[6], 0);
     var
      _E_ =
        [0, [0, cst_none, caml_call1(Core_Fn[1], 0)], named_logging_filters],
      _F_ = [0, [0, cst_all, caml_call1(Core_Fn[1], 1)], _E_],
      named_logging_filters$0 = caml_call3(Core_String[164][9], 0, 0, _F_),
      _G_ = caml_call1(Core_Hashtbl[67], named_logging_filters$0),
      filter_names = caml_call1(Core_String[160][8], _G_),
      _w_ = multi_line_string_list(caml_call1(Core_Set[39], filter_names)),
      app_init_message =
        caml_call3(Core[265], _e_, bind_to_element_with_id, _w_);
     if(global_is_initialized[1])
      Js_of_ocaml_Firebug[1].log(caml_jsstring_of_string(app_init_message));
     else{
      var
       with_app_id_opt =
         function(update_state, app_id_opt){
          var
           _aP_ = caml_call1(Js_of_ocaml_Js[5][10], app_id_opt),
           app_id_opt$0 =
             caml_call2(Core_Option[34], _aP_, caml_string_of_jsstring);
          if(! app_id_opt$0)
           return caml_call2(Core_Hashtbl[20], app_states, update_state);
          var
           app_id = app_id_opt$0[1],
           match = caml_call2(Core_Hashtbl[56], app_states, app_id);
          if(match){
           var state = match[1];
           return caml_call1(update_state, state);
          }
          var
           _aQ_ =
             single_line_string_list(caml_call1(Core_Hashtbl[67], app_states));
          return caml_call2(print_errorf(_c_), app_id, _aQ_);
         },
       update_logging_filter =
         function(logging_filter){
          function _aM_(_aO_){
           return set_logging_filter(_aO_, logging_filter);
          }
          return function(_aN_){return with_app_id_opt(_aM_, _aN_);};
         },
       update_should_profile =
         function(should_profile){
          function _aK_(t){t[3][1] = should_profile; return 0;}
          return function(_aL_){return with_app_id_opt(_aK_, _aL_);};
         },
       update_should_debug =
         function(should_debug){
          function _aI_(t){t[4][1] = should_debug; return 0;}
          return function(_aJ_){return with_app_id_opt(_aI_, _aJ_);};
         },
       t19 = caml_js_wrap_callback(update_logging_filter(0));
      global.startLoggingAll = t19;
      var
       t21 =
         caml_js_wrap_callback
          (function(blang_str){
            var blang_str$0 = caml_string_of_jsstring(blang_str);
            function _aC_(app_state){
             var
              _aE_ = caml_call1(Core_Sexp[76], blang_str$0),
              blang = caml_call2(Core_Blang[14], Core_String[134], _aE_);
             function _aF_(invalid_names, name){
              return caml_call2(Core_Set[11], app_state[1], name)
                      ? invalid_names
                      : caml_call2(Core_Set[12], invalid_names, name);
             }
             var
              invalid_names =
                caml_call3(Core_Blang[36], blang, Core_String[160][5], _aF_);
             if(caml_call1(Core_Set[10], invalid_names))
              return set_logging_filter(app_state, [0, blang]);
             var
              _aG_ =
                multi_line_string_list(caml_call1(Core_Set[39], app_state[1])),
              _aH_ =
                single_line_string_list
                 (caml_call1(Core_Set[39], invalid_names));
             return caml_call2(print_errorf(_d_), _aH_, _aG_);
            }
            return function(_aD_){return with_app_id_opt(_aC_, _aD_);};
           });
      global.startLogging = t21;
      var
       t23 =
         caml_js_wrap_callback
          (function(filter){
            function filter$0(action_sexp){
             return caml_call1
                     (filter,
                      caml_jsstring_of_string
                       (caml_call1(Core_Sexp[86], action_sexp)))
                    | 0;
            }
            return update_logging_filter([1, filter$0]);
           });
      global.startLoggingCustom = t23;
      var t25 = caml_js_wrap_callback(update_logging_filter(1));
      global.stopLogging = t25;
      var t27 = caml_js_wrap_callback(update_should_profile(1));
      global.startProfiling = t27;
      var t29 = caml_js_wrap_callback(update_should_profile(0));
      global.stopProfiling = t29;
      var t31 = caml_js_wrap_callback(update_should_debug(1));
      global.startDebugging = t31;
      var t33 = caml_js_wrap_callback(update_should_debug(0));
      global.stopDebugging = t33;
      var
       t35 =
         caml_js_wrap_callback
          (function(param){
            caml_call2(Ui_incr[77], 0, filename);
            var
             contents = caml_call1(Stdio_In_channel[25], filename),
             _aB_ =
               caml_call3
                (Vdom_file_download[2], filename, cst_plain_text, contents);
            return caml_call1(Vdom_file_download[3], _aB_);
           });
      global.saveIncrementalGraph = t35;
      var
       group =
         function(s, f){
          Js_of_ocaml_Firebug[1].groupCollapsed(caml_jsstring_of_string(s));
          caml_call1(f, 0);
          Js_of_ocaml_Firebug[1].groupEnd();
          return;
         },
       log =
         function(s){
          return Js_of_ocaml_Firebug[1].log(caml_jsstring_of_string(s));
         };
      group
       (cst_Incr_dom_Bonsai_Console,
        function(param){
         group
          (cst_Action_Logging,
           function(param){return log(cst_Logging_prints_action_info);});
         group
          (cst_Action_Profiling,
           function(param){return log(cst_Profiling_is_disabled_by_d);});
         group
          (cst_Debugging,
           function(param){return log(cst_Debugging_prints_timing_in);});
         return log(app_init_message);
        });
      global_is_initialized[1] = 1;
     }
     var
      logging_filter = [0, 1],
      should_profile = [0, 0],
      should_debug = [0, debug];
     caml_call3
      (Core_Hashtbl[37],
       app_states,
       bind_to_element_with_id,
       [0, filter_names, logging_filter, should_profile, should_debug]);
     function _x_(param){
      return caml_call2(Core_Hashtbl[32], app_states, bind_to_element_with_id);
     }
     caml_call2(Async_kernel[12], stop, _x_);
     function should_debug$0(param){return should_debug[1];}
     function should_profile$0(param){return should_profile[1];}
     var
      html = get_view(0),
      html_dom = caml_call1(Virtual_dom_Node[70], html),
      elem = caml_call1(Js_of_ocaml_Dom_html[4], bind_to_element_with_id),
      _H_ = caml_call1(Js_of_ocaml_Js[5][10], elem.parentNode),
      parent = caml_call4(Core_Option[40], _g_, 0, 0, _H_);
     caml_call3(Js_of_ocaml_Dom[3], parent, html_dom, elem);
     function call_viewport_changed_on_event(event_name, where){
      var _ax_ = Js_of_ocaml_Js[8];
      function _ay_(param){viewport_changed(0); return Js_of_ocaml_Js[7];}
      var
       _az_ = caml_call1(Js_of_ocaml_Dom[10], _ay_),
       _aA_ = caml_call1(Js_of_ocaml_Dom[14][1], event_name);
      caml_call4(Js_of_ocaml_Dom[16], where, _aA_, _az_, _ax_);
      return;
     }
     call_viewport_changed_on_event
      (cst_scroll, caml_call1(Incr_dom_Js_misc[28], html_dom));
     call_viewport_changed_on_event(cst_resize, Js_of_ocaml_Dom_html[8]);
     function _I_(state){
      var prev_html = [0, html], prev_elt = [0, html_dom];
      function refocus_root_element(param){
       var element = prev_elt[1];
       function _at_(element){
        return element.focus({preventScroll: Js_of_ocaml_Js[7]});
       }
       var
        _au_ = caml_call1(Js_of_ocaml_Dom_html[117][1], element),
        _av_ = caml_call1(Js_of_ocaml_Js[5][10], _au_),
        _aw_ = caml_call2(Core_Option[34], _av_, as_focusable);
       return caml_call2(Core_Option[46], _aw_, _at_);
      }
      function timer_start(s){
       var profile = should_profile$0(0), debug = should_debug$0(0);
       if(profile){
        var _as_ = caml_call2(Core[18], s, cst_before);
        caml_call1(Javascript_profiling[4][1], _as_);
       }
       if(! debug) return debug;
       Js_of_ocaml_Firebug[1].time(caml_jsstring_of_string(s));
       return;
      }
      function timer_stop(s){
       var profile = should_profile$0(0), debug = should_debug$0(0);
       if(profile){
        var
         before = caml_call2(Core[18], s, cst_before$0),
         after = caml_call2(Core[18], s, cst_after);
        caml_call1(Javascript_profiling[4][1], after);
        caml_call3(Javascript_profiling[4][2], s, before, after);
       }
       if(! debug) return debug;
       Js_of_ocaml_Firebug[1].timeEnd(caml_jsstring_of_string(s));
       return;
      }
      if(simulate_body_focus_on_root_el){
       var
        _N_ = Js_of_ocaml_Js[7],
        _O_ =
          function(t48){
           var related_target = t48.relatedTarget;
           if(1 - caml_call1(Js_of_ocaml_Js[5][5], related_target))
            refocus_root_element(0);
           return Js_of_ocaml_Js[7];
          },
        _P_ = caml_call1(Js_of_ocaml_Dom_html[10], _O_);
       caml_call4
        (Js_of_ocaml_Dom[16],
         Js_of_ocaml_Dom_html[8],
         Js_of_ocaml_Dom_html[15][35],
         _P_,
         _N_);
      }
      function safe_filter(name, filter, action){
       function _aq_(param){return caml_call1(filter, action);}
       var match = caml_call2(Core_Or_error[37], 0, _aq_);
       if(0 === match[0]){var should_log = match[1]; return should_log;}
       var err = match[1], _ar_ = 0;
       caml_call2
        (print_errorf
          ([0,
            [11,
             cst_Exception_raised_by,
             [2,
              0,
              [11,
               cst$2,
               [24,
                _h_,
                function(param, custom_printf_010){
                 return caml_call1(Core_Error[12], custom_printf_010);
                },
                _ar_]]]],
            cst_Exception_raised_by_s_Erro]),
         name,
         err);
       return 0;
      }
      function _Q_(blang){
       var filter = caml_call1(Core_Hashtbl[57], named_logging_filters$0);
       a:
       {
        if(typeof blang !== "number" && 4 === blang[0]){
         var name = blang[1], _ak_ = caml_call1(filter, name);
         break a;
        }
        var
         _ak_ =
           function(action){
            function _ap_(name){return caml_call2(filter, name, action);}
            return caml_call2(Core_Blang[64], blang, _ap_);
           };
       }
       var
        _al_ =
          [0,
           [11,
            cst_named_filter_blang,
            [24,
             _j_,
             function(param, custom_printf_012){
              var
               _ao_ = caml_call2(Core_Blang[15], Core[558], custom_printf_012);
              return caml_call2(Ppx_sexp_conv_lib[1][13], 0, _ao_);
             },
             _i_]],
           cst_named_filter_blang_sexp_st],
        _am_ = caml_call2(Core[265], _al_, blang);
       return function(_an_){return safe_filter(_am_, _ak_, _an_);};
      }
      var
       _R_ = Set[2],
       _S_ = Set[1],
       _T_ = Map[2],
       _U_ = Map[1],
       named_filter_blang_cache =
         caml_call2
          (Core_Memo[4],
           [0,
            symbol,
            symbol$0,
            symbol$1,
            symbol$2,
            symbol$3,
            symbol$4,
            equal,
            compare$0,
            min,
            max,
            ascending,
            descending,
            between,
            clamp_exn,
            clamp,
            comparator,
            validate_lbound,
            validate_ubound,
            validate_bound,
            Replace_polymorphic_compare,
            [0,
             [0, _U_[2], _U_[3]],
             Map[3],
             Map[4],
             Map[45],
             Map[5],
             Map[6],
             Map[7],
             Map[8],
             Map[9],
             Map[10],
             Map[11],
             Map[12],
             Map[13],
             Map[14],
             Map[15],
             Map[16],
             Map[17],
             Map[18],
             Map[19],
             Map[20],
             Map[21],
             Map[22],
             Map[23],
             Map[24],
             Map[25],
             Map[26],
             Map[27],
             Map[28],
             Map[29],
             Map[30],
             Map[31],
             Map[32],
             Map[33],
             Map[34],
             Map[35],
             Map[36],
             Map[37],
             [0, _T_[2], _T_[3], _T_[4], _T_[5]],
             Map[38],
             Map[39],
             Map[40],
             Map[41],
             Map[42],
             Map[43]],
            [0,
             [0, _S_[2], _S_[3]],
             Set[3],
             Set[4],
             Set[28],
             [0, _R_[2], _R_[3], _R_[4], _R_[5]],
             Set[5],
             Set[6],
             Set[7],
             Set[8],
             Set[9],
             Set[10],
             Set[11],
             Set[12],
             Set[13],
             Set[14],
             Set[15],
             Set[16],
             Set[17],
             Set[18],
             Set[19],
             Set[20],
             Set[21],
             Set[22],
             Set[23],
             Set[24],
             Set[25],
             Set[26]]],
           _Q_);
      function perform_update(param){
       timer_start(cst_stabilize$1);
       var
        date = new Js_of_ocaml_Js[26],
        _aa_ = date.getTime(),
        _ab_ = caml_call1(Core_Time_ns[1][81], _aa_),
        now = caml_call1(Core_Time_ns[76], _ab_);
       caml_call2(Incr_dom_Incr[80][8], Incr_dom_Incr[2], now);
       caml_call1(App[8], now);
       caml_call1(Incr_dom_Incr[58], 0);
       timer_stop(cst_stabilize$2);
       caml_call1(App[6], 0);
       timer_start(cst_total);
       timer_start(cst_update_visibility);
       if(is_dirty(visibility)){
        if(is_dirty(visibility))
         visibility[1] = caml_call1(Async_kernel_Ivar[12], 0);
        var
         _X_ = Ui_effect[21][2],
         _Y_ = caml_call1(Incr_dom_Incr[53][6], model_v),
         new_model = caml_call2(fetch(_B_, 0), _Y_, _X_);
        caml_call2(Incr_dom_Incr[53][3], model_v, new_model);
        timer_start(cst_stabilize);
        caml_call1(Incr_dom_Incr[58], 0);
        timer_stop(cst_stabilize$0);
        caml_call1(App[6], 0);
       }
       timer_stop(cst_update_visibility$0);
       timer_start(cst_apply_actions);
       var
        model$0 = caml_call1(Incr_dom_Incr[53][5], model_v),
        model = model$0;
       for(;;){
        var match$0 = caml_call1(Core_Queue[45], action_queue);
        if(! match$0) break;
        var action = match$0[1], match = logging_filter[1];
        if(typeof match === "number")
         var should_log_action = 0 === match ? 1 : 0;
        else if(0 === match[0])
         var
          blang = match[1],
          should_log_action =
            caml_call2(named_filter_blang_cache, blang, action);
        else
         var
          filter = match[1],
          should_log_action =
            safe_filter
             (cst_custom_filter,
              function(filter){
                return function(action){
                 return caml_call1(filter, caml_call1(App[2][1], action));};
               }
               (filter),
              action);
        if(should_log_action){
         var
          _Z_ = [0, [1, [0, _k_, [0, caml_call1(App[2][1], action), 0]]], 0],
          ___ = [1, [0, caml_call1(Sexplib0_Sexp_conv[7], cst_Action), _Z_]];
         caml_call1(Async_js[7], ___);
        }
        if(caml_call1(App[4], action)){
         caml_call2(Incr_dom_Incr[53][3], model_v, model);
         timer_start(cst_stabilize_for_action);
         caml_call1(Incr_dom_Incr[58], 0);
         timer_stop(cst_stabilize_for_action$0);
         caml_call1(App[6], 0);
        }
        else if(should_debug$0(0))
         Js_of_ocaml_Firebug[1].debug("action applied without stabilizing");
        var
         _$_ = Ui_effect[21][2],
         new_model$0 = caml_call4(fetch(_C_, 0), state, _$_, model, action);
        caml_call1(App[5], action);
        var model = new_model$0;
       }
       caml_call2(Incr_dom_Incr[53][3], model_v, model);
       timer_stop(cst_apply_actions$0);
       timer_start(cst_stabilize$3);
       caml_call1(Incr_dom_Incr[58], 0);
       timer_stop(cst_stabilize$4);
       caml_call1(App[6], 0);
       var html = get_view(0);
       if(simulate_body_focus_on_root_el){
        a:
        {
         if(typeof html !== "number" && 2 === html[0]){
          var
           element = html[1],
           _W_ = caml_call1(Virtual_dom_Node[1][2], element);
          if
           (1
            -
             caml_call2
              (Virtual_dom_Vdom[1][101][1], cst_disable_tab_index, _W_)){
           var
            add_new_attrs =
              function(attrs){
               var
                _ag_ = caml_call1(Virtual_dom_Vdom[1][42], 0),
                _ah_ = caml_call2(Virtual_dom_Vdom[1][12], _ag_, attrs),
                _ai_ = caml_call4(Css_gen[89], 0, 0, 870530776, 0),
                _aj_ = caml_call1(Virtual_dom_Vdom[1][32], _ai_);
               return caml_call2(Virtual_dom_Vdom[1][12], _aj_, _ah_);
              },
            _ac_ =
              [2, caml_call2(Virtual_dom_Node[1][5], element, add_new_attrs)];
           break a;
          }
         }
         var _ac_ = html;
        }
        var html$0 = _ac_;
       }
       else
        var html$0 = html;
       timer_start(cst_diff);
       var patch = caml_call2(Virtual_dom_Node[74][1], prev_html[1], html$0);
       timer_stop(cst_diff$0);
       if(1 - caml_call1(Virtual_dom_Node[74][3], patch))
        mark_dirty(visibility);
       timer_start(cst_patch);
       var elt = caml_call2(Virtual_dom_Node[74][2], patch, prev_elt[1]);
       timer_stop(cst_patch$0);
       timer_start(cst_on_display);
       var _ad_ = Ui_effect[21][2];
       caml_call2(fetch(_A_, 0), state, _ad_);
       timer_stop(cst_on_display$0);
       var _ae_ = caml_call1(Incr_dom_Incr[53][5], model_v);
       caml_call2(Incr_dom_Incr[53][3], model_from_last_display_v, _ae_);
       var
        old_tag_name = get_tag_name(prev_html[1]),
        new_tag_name = get_tag_name(html$0),
        tags_the_same =
          caml_call3
           (Core_Option[18], Core_String[145], old_tag_name, new_tag_name);
       prev_html[1] = html$0;
       prev_elt[1] = elt;
       timer_stop(cst_total$0);
       if(should_debug$0(0)) Js_of_ocaml_Firebug[1].debug("-------");
       var _af_ = 1 - tags_the_same;
       return _af_ ? refocus_root_element(0) : _af_;
      }
      function callback(param){
       return caml_call1(Async_kernel_Deferred[7], stop)
               ? 0
               : (perform_update(0), request_animation_frame(callback));
      }
      perform_update(0);
      var
       t55 = Js_of_ocaml_Dom_html[2],
       match = caml_call1(Js_of_ocaml_Js[5][10], t55.activeElement);
      if(match){
       var el = match[1], _V_ = caml_call1(Js_of_ocaml_Dom_html[117][7], el);
       if(caml_call1(Js_of_ocaml_Js[5][5], _V_)) refocus_root_element(0);
      }
      else
       refocus_root_element(0);
      request_animation_frame(callback);
      return caml_call1(Async_kernel_Deferred[19], 0);
     }
     var _J_ = caml_call1(Incr_dom_Incr[53][5], model_v);
     function _K_(a){
      var _M_ = caml_call1(Event[1], a);
      return caml_call1(Ui_effect[21][2], _M_);
     }
     var _L_ = caml_call2(App[7], _K_, _J_);
     return caml_call2(Async_kernel[23][2], _L_, _I_);
    }
    var
     _u_ = caml_call1(Async_js[5], 0),
     _v_ = caml_call2(Async_kernel[23][2], _u_, _t_);
    return caml_call1(Async_kernel[6], _v_);
   }
   var Private = [0, start_bonsai, time_source];
   function start(opt, _m_, _l_, bind_to_element_with_id, initial_model, App){
    if(opt) var sth = opt[1], debug = sth; else var debug = 0;
    if(_m_)
     var sth$0 = _m_[1], stop = sth$0;
    else
     var stop = caml_call1(Async_kernel_Deferred[19], 0);
    if(_l_)
     var sth$1 = _l_[1], named_logging_filters = sth$1;
    else
     var named_logging_filters = 0;
    var
     Model = App[1],
     Action = App[2],
     State = App[3],
     on_startup = App[4],
     _n_ = App[5];
    function action_requires_stabilization(param){return 1;}
    function on_action_application(param){return 0;}
    function on_stabilize(param){return 0;}
    function advance_clock_to(to){
     caml_call2(Ui_time_source[4], time_source, to);
     return caml_call1(Ui_time_source[12][1], time_source);
    }
    function create(model, old_model, inject){
     function _o_(component){
      var view = caml_call1(Incr_dom_Component[3], component);
      function apply_action(state, schedule_event, model, action){
       function schedule_action(a){
        return caml_call1(schedule_event, caml_call1(inject, a));
       }
       return caml_call4
               (Incr_dom_Component[1],
                component,
                action,
                state,
                schedule_action);
      }
      function update_visibility(model, schedule_event){
       function schedule_action(a){
        return caml_call1(schedule_event, caml_call1(inject, a));
       }
       return caml_call2(Incr_dom_Component[2], component, schedule_action);
      }
      function on_display(state, schedule_event){
       function schedule_action(a){
        return caml_call1(schedule_event, caml_call1(inject, a));
       }
       return caml_call3
               (Incr_dom_Component[5], component, state, schedule_action);
      }
      return [0, view, apply_action, update_visibility, on_display];
     }
     var _p_ = caml_call3(_n_, model, old_model, inject);
     return caml_call2(Incr_dom_Incr[78][4][6], _p_, _o_);
    }
    return start_bonsai
            ([0, debug],
             [0, stop],
             [0, named_logging_filters],
             0,
             bind_to_element_with_id,
             initial_model,
             [0,
              Model,
              Action,
              State,
              action_requires_stabilization,
              on_action_application,
              on_stabilize,
              on_startup,
              advance_clock_to,
              create]);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Start_app);
   var Incr_dom_Start_app = [0, start, Private];
   runtime.caml_register_global
    (146, Incr_dom_Start_app, cst_Incr_dom_Start_app$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Virtual_dom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom = "Incr_dom",
    cst_incr_dom = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom = global_data.Virtual_dom;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][1], "src/incr_dom.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom, "incr_dom.ml");
   var Top_level_effects = Virtual_dom[1];
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom);
   var Incr_dom = [0, Top_level_effects];
   runtime.caml_register_global(12, Incr_dom, cst_Incr_dom);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJpbmNyX2RvbS5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsiZXh0cmEiLCJyIiwib25fZGlzcGxheSIsInZpZXciLCJ1cGRhdGVfdmlzaWJpbGl0eSIsImFwcGx5X2FjdGlvbiIsImNyZWF0ZV93aXRoX2V4dHJhIiwibW9kZWwiLCJhcHBseV9hY3Rpb24kMCIsInVwZGF0ZV92aXNpYmlsaXR5JDAiLCJvbl9kaXNwbGF5JDAiLCJjcmVhdGUiLCJlcnJvcl9zb3VyY2VfMDAzIiwiZXJyb3Jfc291cmNlXzAxOSIsImRlc2NyaXB0aW9ucyIsInRfb2Zfc2V4cCIsIm9mX2FfMDAxIiwieF8wMDQiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ0b3AiLCJzZXhwX29mX3QiLCJvZl9hXzAwNSIsInJpZ2h0XzAxMyIsImJvdHRvbV8wMTEiLCJsZWZ0XzAwOSIsInRvcF8wMDciLCJhcmdfMDE0IiwiYm5kc18wMDYiLCJhcmdfMDEyIiwiYm5kc18wMDYkMCIsImFyZ18wMTAiLCJibmRzXzAwNiQxIiwiYXJnXzAwOCIsImJuZHNfMDA2JDIiLCJncm91cCIsImJpbl9zaGFwZV90IiwiYSIsImJpbl9zaXplX3QiLCJzaXplX29mX2EiLCJ2NCIsInYzIiwidjIiLCJ2MSIsInNpemUiLCJzaXplJDAiLCJzaXplJDEiLCJiaW5fd3JpdGVfdCIsIndyaXRlX2EiLCJidWYiLCJwb3MiLCJwb3MkMCIsInBvcyQxIiwicG9zJDIiLCJiaW5fd3JpdGVyX3QiLCJiaW5fd3JpdGVyX2EiLCJ2IiwiYmluX3JlYWRfdCIsIm9mX2EiLCJwb3NfcmVmIiwidmludCIsImJpbl9yZWFkX3QkMCIsInZfdG9wIiwidl9sZWZ0Iiwidl9ib3R0b20iLCJ2X3JpZ2h0IiwiYmluX3JlYWRlcl90IiwiYmluX3JlYWRlcl9hIiwidnRhZyIsImJpbl90IiwiYmluX2EiLCJjb21wYXJlIiwiY21wX2EiLCJhXzAxNSIsImJfMDE2IiwibiIsIm4kMCIsIm4kMSIsIm1hcCIsInQiLCJmIiwiaW50X2hlaWdodCIsImludF93aWR0aCIsImZsb2F0X2hlaWdodCIsImZsb2F0X3dpZHRoIiwicm91bmRfZmxvYXRfcmVjdCIsIm9wdCIsInN0aCIsInJvdW5kIiwicm93c19vcl9jb2x1bW5zX29mX3NleHAiLCJzZXhwXzAyMCIsInNleHBfb2Zfcm93c19vcl9jb2x1bW5zIiwiZ3JvdXAkMCIsImJpbl9zaGFwZV9yb3dzX29yX2NvbHVtbnMiLCJiaW5fc2l6ZV9yb3dzX29yX2NvbHVtbnMiLCJiaW5fd3JpdGVfcm93c19vcl9jb2x1bW5zIiwiYmluX3dyaXRlcl9yb3dzX29yX2NvbHVtbnMiLCJiaW5fcmVhZF9yb3dzX29yX2NvbHVtbnMiLCJiaW5fcmVhZF9yb3dzX29yX2NvbHVtbnMkMCIsImJpbl9yZWFkZXJfcm93c19vcl9jb2x1bW5zIiwiYmluX3Jvd3Nfb3JfY29sdW1ucyIsInJvd3MiLCJjb2x1bW5zIiwiaXNfcm93cyIsImlzX2NvbHVtbnMiLCJyb3dzX3ZhbCIsImNvbHVtbnNfdmFsIiwicm93cyQwIiwiY29sdW1ucyQwIiwiZm9sZCIsImluaXQiLCJyb3dzX2Z1biIsImNvbHVtbnNfZnVuIiwiaXRlciIsIm1hcCQwIiwibWFrZV9tYXRjaGVyIiwiY29tcGlsZV9hY2MiLCJjb21waWxlX2FjYyQwIiwicm93c19nZW4iLCJjb21waWxlX2FjYyQxIiwiY29sdW1uc19nZW4iLCJ0b19yYW5rIiwidG9fbmFtZSIsImNvbXBhcmVfcm93c19vcl9jb2x1bW5zIiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiZWxlbWVudF9pc19pbl92aWV3cG9ydCIsImVsdCIsInNjcm9sbCIsImlkIiwidmlld3BvcnRfcmVjdF9vZl9lbGVtZW50Iiwidmlld3BvcnRfcmVjdCIsImNsaWVudF9yZWN0X29mX2VsZW1lbnQiLCJib3VuZGluZ19yZWN0IiwiY2xpZW50X3JlY3QiLCJmaW5kX3Zpc2libGVfcmFuZ2UiLCJsZW5ndGgiLCJudGhfZWxlbWVudF9pZCIsImxheW91dCIsImVsZW1lbnRfc2VhcmNoIiwic2VhcmNoX2J5IiwibW9kZSIsIngiLCJudGhfZWxlbWVudCIsImZpcnN0IiwibGFzdCIsImdldCIsImlzX2FzY2VuZGluZyIsImxlbmd0aCQwIiwidmlld3BvcnRfcmVjdCQwIiwidGFyZ2V0IiwidGFyZ2V0JDAiLCJzZWFyY2hfYnkkMCIsImdldF9zY3JvbGxfY29udGFpbmVyX2pzX2V4cHIiLCJnZXRfc2Nyb2xsX2NvbnRhaW5lciIsImVsIiwiZmlsZW5hbWUiLCJwcmludF9lcnJvcmYiLCJmbXQiLCJzIiwicmVxdWVzdF9hbmltYXRpb25fZnJhbWUiLCJjYWxsYmFjayIsImN1cnJlbnRfY29udGV4dCIsInJlcXVlc3RfaWRzIiwiY2FsbGJhY2skMCIsInNldF90aW1lb3V0X2lkIiwiYW5pbWF0aW9uX2ZyYW1lX2lkIiwiYW5pbWF0aW9uX2NhbGxiYWNrIiwidGltZW91dF9jYWxsYmFjayIsImFzX2ZvY3VzYWJsZSIsIm1hcmtfZGlydHkiLCJpc19kaXJ0eSIsInhfMDAyIiwieF8wMDMiLCJhXzAwNCIsImJfMDA1IiwiYV8wMDYiLCJiXzAwNyIsInNldF9sb2dnaW5nX2ZpbHRlciIsImxvZ2dpbmdfZmlsdGVyIiwiZ2xvYmFsX2lzX2luaXRpYWxpemVkIiwiYXBwX3N0YXRlcyIsInNpbmdsZV9saW5lX3N0cmluZ19saXN0Iiwic3RyaW5ncyIsInN0ciIsIm11bHRpX2xpbmVfc3RyaW5nX2xpc3QiLCJnZXRfdGFnX25hbWUiLCJub2RlIiwibm9kZSQwIiwiZSIsIm5vZGUkMSIsInRpbWVfc291cmNlIiwic3RhcnRfYm9uc2FpIiwiYmluZF90b19lbGVtZW50X3dpdGhfaWQiLCJpbml0aWFsX21vZGVsIiwiQXBwIiwiZGVidWciLCJzdGgkMCIsInN0b3AiLCJzdGgkMSIsIm5hbWVkX2xvZ2dpbmdfZmlsdGVycyIsInN0aCQyIiwic2ltdWxhdGVfYm9keV9mb2N1c19vbl9yb290X2VsIiwibW9kZWxfdiIsIm1vZGVsX2Zyb21fbGFzdF9kaXNwbGF5X3YiLCJtb2RlbF9mcm9tX2xhc3RfZGlzcGxheSIsIm9sZF92YWx1ZSIsIm5ld192YWx1ZSIsImN1dG9mZiIsImFjdGlvbl9xdWV1ZSIsImhhbmRsZSIsImFjdGlvbiIsInZpc2liaWxpdHkiLCJ2aWV3cG9ydF9jaGFuZ2VkIiwib2JzIiwiZmV0Y2giLCJnZXRfdmlldyIsIm5hbWVkX2xvZ2dpbmdfZmlsdGVycyQwIiwiZmlsdGVyX25hbWVzIiwiYXBwX2luaXRfbWVzc2FnZSIsIndpdGhfYXBwX2lkX29wdCIsInVwZGF0ZV9zdGF0ZSIsImFwcF9pZF9vcHQiLCJhcHBfaWRfb3B0JDAiLCJhcHBfaWQiLCJzdGF0ZSIsInVwZGF0ZV9sb2dnaW5nX2ZpbHRlciIsInVwZGF0ZV9zaG91bGRfcHJvZmlsZSIsInNob3VsZF9wcm9maWxlIiwidXBkYXRlX3Nob3VsZF9kZWJ1ZyIsInNob3VsZF9kZWJ1ZyIsImJsYW5nX3N0ciIsImJsYW5nX3N0ciQwIiwiYXBwX3N0YXRlIiwiYmxhbmciLCJpbnZhbGlkX25hbWVzIiwibmFtZSIsImZpbHRlciIsImZpbHRlciQwIiwiYWN0aW9uX3NleHAiLCJjb250ZW50cyIsImxvZyIsInNob3VsZF9kZWJ1ZyQwIiwic2hvdWxkX3Byb2ZpbGUkMCIsImh0bWwiLCJodG1sX2RvbSIsInBhcmVudCIsImNhbGxfdmlld3BvcnRfY2hhbmdlZF9vbl9ldmVudCIsImV2ZW50X25hbWUiLCJ3aGVyZSIsInByZXZfaHRtbCIsInByZXZfZWx0IiwicmVmb2N1c19yb290X2VsZW1lbnQiLCJlbGVtZW50IiwidGltZXJfc3RhcnQiLCJwcm9maWxlIiwidGltZXJfc3RvcCIsImJlZm9yZSIsImFmdGVyIiwicmVsYXRlZF90YXJnZXQiLCJzYWZlX2ZpbHRlciIsInNob3VsZF9sb2ciLCJlcnIiLCJjdXN0b21fcHJpbnRmXzAxMCIsImN1c3RvbV9wcmludGZfMDEyIiwibmFtZWRfZmlsdGVyX2JsYW5nX2NhY2hlIiwicGVyZm9ybV91cGRhdGUiLCJkYXRlIiwibm93IiwibmV3X21vZGVsIiwibW9kZWwkMCIsInNob3VsZF9sb2dfYWN0aW9uIiwibmV3X21vZGVsJDAiLCJhZGRfbmV3X2F0dHJzIiwiYXR0cnMiLCJodG1sJDAiLCJwYXRjaCIsIm9sZF90YWdfbmFtZSIsIm5ld190YWdfbmFtZSIsInRhZ3NfdGhlX3NhbWUiLCJzdGFydCIsImFjdGlvbl9yZXF1aXJlc19zdGFiaWxpemF0aW9uIiwib25fYWN0aW9uX2FwcGxpY2F0aW9uIiwib25fc3RhYmlsaXplIiwiYWR2YW5jZV9jbG9ja190byIsInRvIiwib2xkX21vZGVsIiwiaW5qZWN0IiwiY29tcG9uZW50Iiwic2NoZWR1bGVfZXZlbnQiLCJzY2hlZHVsZV9hY3Rpb24iXSwic291cmNlcyI6WyIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9pbmNyX2RvbS9pbmNyX2RvbV9fLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvaW5jcl9kb20vY29tcG9uZW50Lm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvaW5jcl9kb20vYXBwX2ludGYubWwiLCIvaG9tZS9saWFtLWNhcnBlbnRlci8ub3BhbS9wZXJzb25hbC1zaXRlL2xpYi9pbmNyX2RvbS9qc19taXNjLm1sIiwiL2hvbWUvbGlhbS1jYXJwZW50ZXIvLm9wYW0vcGVyc29uYWwtc2l0ZS9saWIvaW5jcl9kb20vc3RhcnRfYXBwLm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0dBaUJvQjs7SUFBQTs7OztFOzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0NkcEIsU0FLSUEsTUFBQUMsR0FBQSxPQUFBQSxLQUFLO1lBRExDLFdBQUFELEdBQUEsT0FBQUEsS0FBVTtZQURWRSxLQUFBRixHQUFBLE9BQUFBLEtBQUk7WUFESkcsa0JBQUFILEdBQUEsT0FBQUEsS0FBaUI7WUFEakJJLGFBQUFKLEdBQUEsT0FBQUEsS0FBWTtZQVVaSztJQUFtQkQsY0FBY0QsbUJBQW1CRixZQUFZRixPQUFNTyxPQUFNSjtrQ0FFVixPQUZJ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QUksT0FBZSxXQURuQjRQLGdCQUNtQixXQWJkRixRQWFMMVA7T0FBNkI7T0FDakQsT0FBQTt1Q0FaTTJQLFdBVU8vRCxPQUNUaUU7TUFDaUQ7TUFFdkQsV0FiSWhTLE1BQ0FFLGNBSUFELG1CQUlBRjtLQUlrRTtLQWRsRCxVQUFBLGdCQUZYSyxPQUFPd1IsV0FBV0M7O0lBZ0IyQztJQTVCbEUsT0FqVFIvRjtpQkFvU0FJO2lCQUNBRTtpQkFDQUU7O2FBQ0RQO2FBQ0FDOzs7OztjQVlPdUY7Y0FDQUM7Y0FDQUM7O2NBRUFDO2NBS0FsUjs7Ozs7O2dDQTNCTjhROzs7O0U7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyIoKiBnZW5lcmF0ZWQgYnkgZHVuZSAqKVxuXG4oKiogQGNhbm9uaWNhbCBJbmNyX2RvbS5BcHBfaW50ZiAqKVxubW9kdWxlIEFwcF9pbnRmID0gSW5jcl9kb21fX0FwcF9pbnRmXG5cbigqKiBAY2Fub25pY2FsIEluY3JfZG9tLkNvbXBvbmVudCAqKVxubW9kdWxlIENvbXBvbmVudCA9IEluY3JfZG9tX19Db21wb25lbnRcblxuKCoqIEBjYW5vbmljYWwgSW5jcl9kb20uSW5jciAqKVxubW9kdWxlIEluY3IgPSBJbmNyX2RvbV9fSW5jclxuXG4oKiogQGNhbm9uaWNhbCBJbmNyX2RvbS5Kc19taXNjICopXG5tb2R1bGUgSnNfbWlzYyA9IEluY3JfZG9tX19Kc19taXNjXG5cbigqKiBAY2Fub25pY2FsIEluY3JfZG9tLlN0YXJ0X2FwcCAqKVxubW9kdWxlIFN0YXJ0X2FwcCA9IEluY3JfZG9tX19TdGFydF9hcHBcblxubW9kdWxlIEluY3JfZG9tX18gPSBzdHJ1Y3QgZW5kXG5bQEBkZXByZWNhdGVkIFwidGhpcyBtb2R1bGUgaXMgc2hhZG93ZWRcIl1cbiIsIm9wZW4gVmlydHVhbF9kb21cbm9wZW4gQ29yZVxuXG50eXBlICgnYWN0aW9uLCAnbW9kZWwsICdzdGF0ZSwgJ2V4dHJhKSB3aXRoX2V4dHJhID1cbiAgeyBhcHBseV9hY3Rpb24gOiAnYWN0aW9uIC0+ICdzdGF0ZSAtPiBzY2hlZHVsZV9hY3Rpb246KCdhY3Rpb24gLT4gdW5pdCkgLT4gJ21vZGVsXG4gIDsgdXBkYXRlX3Zpc2liaWxpdHkgOiBzY2hlZHVsZV9hY3Rpb246KCdhY3Rpb24gLT4gdW5pdCkgLT4gJ21vZGVsXG4gIDsgdmlldyA6IFZkb20uTm9kZS50XG4gIDsgb25fZGlzcGxheSA6ICdzdGF0ZSAtPiBzY2hlZHVsZV9hY3Rpb246KCdhY3Rpb24gLT4gdW5pdCkgLT4gdW5pdFxuICA7IGV4dHJhIDogJ2V4dHJhXG4gIH1cbltAQGRlcml2aW5nIGZpZWxkcyB+Z2V0dGVyc11cblxudHlwZSAoJ2FjdGlvbiwgJ3N0YXRlLCAnbW9kZWwpIHQgPSAoJ2FjdGlvbiwgJ3N0YXRlLCAnbW9kZWwsIHVuaXQpIHdpdGhfZXh0cmFcblxubGV0IGNyZWF0ZV93aXRoX2V4dHJhID9hcHBseV9hY3Rpb24gP3VwZGF0ZV92aXNpYmlsaXR5ID9vbl9kaXNwbGF5IH5leHRyYSBtb2RlbCB2aWV3ID1cbiAgbGV0IGFwcGx5X2FjdGlvbiA9XG4gICAgT3B0aW9uLnZhbHVlIGFwcGx5X2FjdGlvbiB+ZGVmYXVsdDooZnVuIF8gXyB+c2NoZWR1bGVfYWN0aW9uOl8gLT4gbW9kZWwpXG4gIGluXG4gIGxldCB1cGRhdGVfdmlzaWJpbGl0eSA9XG4gICAgT3B0aW9uLnZhbHVlIHVwZGF0ZV92aXNpYmlsaXR5IH5kZWZhdWx0OihmdW4gfnNjaGVkdWxlX2FjdGlvbjpfIC0+IG1vZGVsKVxuICBpblxuICBsZXQgb25fZGlzcGxheSA9IE9wdGlvbi52YWx1ZSBvbl9kaXNwbGF5IH5kZWZhdWx0OihmdW4gXyB+c2NoZWR1bGVfYWN0aW9uOl8gLT4gKCkpIGluXG4gIHsgYXBwbHlfYWN0aW9uOyB1cGRhdGVfdmlzaWJpbGl0eTsgb25fZGlzcGxheTsgZXh0cmE7IHZpZXcgfVxuOztcblxubGV0IGNyZWF0ZSA9IGNyZWF0ZV93aXRoX2V4dHJhIH5leHRyYTooKVxuIiwib3BlbiEgQ29yZVxub3BlbiBWaXJ0dWFsX2RvbVxub3BlbiBBc3luY19rZXJuZWxcblxuKCoqIENvbW1vbiBtb2R1bGUgdHlwZXMgKilcbm1vZHVsZSB0eXBlIE1vZGVsID0gc2lnXG4gIHR5cGUgdFxuXG4gICgqKiBBIGZ1bmN0aW9uIGZvciB0ZXN0aW5nIHdoZXRoZXIgdGhlIG1vZGVsIGhhcyBjaGFuZ2VkIGVub3VnaCB0byByZXF1aXJlIHJlZmlyaW5nXG4gICAgICB0aGUgaW5jcmVtZW50YWwgZ3JhcGguXG5cbiAgICAgIEl0J3MgYmVzdCBpZiB0aGUgdmFsdWVzIGluIHRoZSBtb2RlbCBzdXBwb3J0IGEgc2VtYW50aWNhbGx5IHJlYXNvbmFibGUgY3V0b2ZmXG4gICAgICBmdW5jdGlvbiB3aGljaCBsZXRzIHlvdSBhdm9pZCBpbmZpbml0ZSByZWNvbXB1dGF0aW9uIGxvb3BzIHRoYXQgY2FuIG90aGVyd2lzZSBiZVxuICAgICAgdHJpZ2dlcmVkIGJ5IHRoZSB2aXNpYmlsaXR5IGNoZWNrcy4gRm9yIHRoaXMgcmVhc29uLCBpdCdzIHR5cGljYWxseSBhIGdvb2QgaWRlYSB0b1xuICAgICAgYXZvaWQgaGF2aW5nIHNpbXBsZSBjbG9zdXJlcyBzdG9yZWQgaW4gdGhlIG1vZGVsLlxuXG4gICAgICBUaGF0IHNhaWQsIGl0IGRvZXMgd29yayBpZiB5b3UgcHV0IHBoeXNfZXF1YWwgaW4gZm9yIHRoZSBjdXRvZmYuICopXG4gIHZhbCBjdXRvZmYgOiB0IC0+IHQgLT4gYm9vbFxuZW5kXG5cbm1vZHVsZSB0eXBlIEFjdGlvbiA9IHNpZ1xuICB0eXBlIHQgW0BAZGVyaXZpbmcgc2V4cF9vZl1cbmVuZFxuXG5tb2R1bGUgdHlwZSBTdGF0ZSA9IHNpZ1xuICAoKiogUmVwcmVzZW50cyB0aGUgaW1wZXJhdGl2ZSBzdGF0ZSBhc3NvY2lhdGVkIHdpdGggYW4gYXBwbGljYXRpb24sIHR5cGljYWxseSB1c2VkIGZvclxuICAgICAgaG91c2luZyB0aGluZ3MgbGlrZSBjb21tdW5pY2F0aW9uIEFzeW5jLVJQQyBjb25uZWN0aW9ucy4gKilcbiAgdHlwZSB0XG5lbmRcblxubW9kdWxlIHR5cGUgUyA9IHNpZ1xuICBtb2R1bGUgTW9kZWwgOiBNb2RlbFxuICBtb2R1bGUgQWN0aW9uIDogQWN0aW9uXG4gIG1vZHVsZSBTdGF0ZSA6IFN0YXRlXG5cbiAgKCoqIFtvbl9zdGFydHVwXSBpcyBjYWxsZWQgb25jZSwgcmlnaHQgYWZ0ZXIgdGhlIGluaXRpYWwgRE9NIGlzIHNldCB0byB0aGUgdmlldyB0aGF0XG4gICAgICBjb3JyZXNwb25kcyB0byB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhpcyBpcyB1c2VmdWwgZm9yIGRvaW5nIHRoaW5ncyBsaWtlIHN0YXJ0aW5nIHVwXG4gICAgICBhc3luYyBwcm9jZXNzZXMuICBOb3RlIHRoYXQgdGhpcyBwYXJ0IG9mIHRoZSBjb21wdXRhdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGFueVxuICAgICAgaW5jcmVtZW50YWxpdHksIHNpbmNlIGl0J3Mgb25seSBydW4gb25jZS4gKilcbiAgdmFsIG9uX3N0YXJ0dXAgOiBzY2hlZHVsZV9hY3Rpb246KEFjdGlvbi50IC0+IHVuaXQpIC0+IE1vZGVsLnQgLT4gU3RhdGUudCBEZWZlcnJlZC50XG5cbiAgKCoqIFtjcmVhdGVdIGlzIGEgZnVuY3Rpb24gdGhhdCBpbmNyZW1lbnRhbGx5IGNvbnN0cnVjdHMgYSB7IUNvbXBvbmVudH0uIE5vdGUgdGhhdCBhXG4gICAgICBbQ29tcG9uZW50XSBzdXBwb3J0cyBmdW5jdGlvbnMgbGlrZSBbYXBwbHlfYWN0aW9uXSwgd2hpY2ggcmV0dXJuIGEgbmV3IFtNb2RlbC50XSxcbiAgICAgIHdpdGhvdXQgdGFraW5nIGEgbW9kZWwgYXMgYW4gZXhwbGljaXQgaW5wdXQuICBUaGUgaW50ZW50IGlzIGZvciBbYXBwbHlfYWN0aW9uXSB0b1xuICAgICAgaGF2ZSBhY2Nlc3MgdG8gdGhlIGN1cnJlbnQgbW9kZWwgdmlhIGl0cyBjb25zdHJ1Y3Rpb25cblxuICAgICAgSGVyZSdzIGFuIGV4YW1wbGUgb2YgaG93IHRoaXMgbWlnaHQgbG9vayBpbiBwcmFjdGljZS5cblxuICAgICAge1tcbiAgICAgICAgbW9kdWxlIE1vZGVsID0gc3RydWN0XG4gICAgICAgICAgdHlwZSB0ID0geyBjb3VudGVyIDogaW50IH0gW0BAZGVyaXZpbmcgZmllbGRzLCBjb21wYXJlXVxuXG4gICAgICAgICAgbGV0IGN1dG9mZiB0MSB0MiA9IGNvbXBhcmUgdDEgdDIgPSAwXG4gICAgICAgIGVuZFxuXG4gICAgICAgIG1vZHVsZSBTdGF0ZSA9IHN0cnVjdFxuICAgICAgICAgIHR5cGUgdCA9IHVuaXRcbiAgICAgICAgZW5kXG5cbiAgICAgICAgbW9kdWxlIEFjdGlvbiA9IHN0cnVjdFxuICAgICAgICAgIHR5cGUgdCA9IEluY3JlbWVudCBbQEBkZXJpdmluZyBzZXhwX29mXVxuXG4gICAgICAgICAgbGV0IHNob3VsZF9sb2cgXyA9IGZhbHNlXG4gICAgICAgIGVuZFxuXG4gICAgICAgIGxldCBpbml0aWFsX21vZGVsID0geyBNb2RlbC5jb3VudGVyID0gMCB9XG5cbiAgICAgICAgbGV0IG9uX3N0YXJ0dXAgfnNjaGVkdWxlX2FjdGlvbnMgX21vZGVsID1cbiAgICAgICAgICBldmVyeSAoVGltZV9ucy5TcGFuLm9mX3NlYyAxLikgKGZ1biAoKSAtPlxuICAgICAgICAgICAgc2NoZWR1bGVfYWN0aW9ucyBbIEFjdGlvbi5JbmNyZW1lbnQgXSk7XG4gICAgICAgICAgRGVmZXJyZWQudW5pdFxuICAgICAgICA7O1xuXG4gICAgICAgIGxldCBjcmVhdGUgbW9kZWwgfm9sZF9tb2RlbDpfIH5pbmplY3Q6XyA9XG4gICAgICAgICAgbGV0IG9wZW4gSW5jci5MZXRfc3ludGF4IGluXG4gICAgICAgICAgbGV0JW1hcCBhcHBseV9hY3Rpb24gPVxuICAgICAgICAgICAgbGV0JW1hcCBjb3VudGVyID0gbW9kZWwgPj58IE1vZGVsLmNvdW50ZXIgaW5cbiAgICAgICAgICAgIGZ1biAoSW5jcmVtZW50IDogQWN0aW9uLnQpIF8gfnNjaGVkdWxlX2FjdGlvbnM6XyAtPlxuICAgICAgICAgICAgICB7IE1vZGVsLmNvdW50ZXIgPSBjb3VudGVyICsgMSB9XG4gICAgICAgICAgYW5kIHZpZXcgPVxuICAgICAgICAgICAgbGV0JW1hcCBjb3VudGVyID1cbiAgICAgICAgICAgICAgbGV0JW1hcCBjb3VudGVyID0gbW9kZWwgPj58IE1vZGVsLmNvdW50ZXIgaW5cbiAgICAgICAgICAgICAgVmRvbS5Ob2RlLmRpdiBbXSBbIFZkb20uTm9kZS50ZXh0IChJbnQudG9fc3RyaW5nIGNvdW50ZXIpIF1cbiAgICAgICAgICAgIGluXG4gICAgICAgICAgICBWZG9tLk5vZGUuYm9keSBbXSBbIGNvdW50ZXIgXVxuICAgICAgICAgIGFuZCBtb2RlbCA9IG1vZGVsIGluXG4gICAgICAgICAgKCogTm90ZSB0aGF0IHdlIGRvbid0IGluY2x1ZGUgW29uX2Rpc3BsYXldIG9yIFt1cGRhdGVfdmlzaWJpbGl0eV0sIHNpbmNlXG4gICAgICAgICAgICAgdGhlc2UgYXJlIG9wdGlvbmFsIGFyZ3VtZW50cyAqKVxuICAgICAgICAgIENvbXBvbmVudC5jcmVhdGUgfmFwcGx5X2FjdGlvbiBtb2RlbCB2aWV3XG4gICAgICAgIDs7IF19XG5cbiAgICAgIFRoZSBmdWxsIGNvZGUgZm9yIHRoaXMgZXhhbXBsZSBjYW4gYmUgZm91bmQgaW4gZXhhbXBsZXMvY291bnRlci5cbiAgKilcbiAgdmFsIGNyZWF0ZVxuICAgIDogIE1vZGVsLnQgSW5jci50XG4gICAgLT4gb2xkX21vZGVsOk1vZGVsLnQgSW5jci50XG4gICAgICAgICAoKiogW29sZF9tb2RlbF0gY29udGFpbnMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIG1vZGVsICopXG4gICAgLT4gaW5qZWN0OihBY3Rpb24udCAtPiB1bml0IFZkb20uRWZmZWN0LnQpXG4gICAgICAgICAoKiogW2luamVjdF0gZ2l2ZXMgeW91IHRoZSBhYmlsaXR5IHRvIGNyZWF0ZSBldmVudCBoYW5kbGVycyBpbiB0aGUgdmlydHVhbCBET00uIEluXG4gICAgICAgIHlvdXIgZXZlbnQgaGFuZGxlciwgY2FsbCB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBhY3Rpb24geW91IHdvdWxkIGxpa2UgdG9cbiAgICAgICAgc2NoZWR1bGUuIFZpcnR1YWwgRE9NIHdpbGwgYXV0b21hdGljYWxseSBkZWxlZ2F0ZSB0aGF0IGFjdGlvbiBiYWNrIHRvIHRoZVxuICAgICAgICBbU3RhcnRfYXBwXSBtYWluIGxvb3AuICopXG4gICAgLT4gKEFjdGlvbi50LCBNb2RlbC50LCBTdGF0ZS50KSBDb21wb25lbnQudCBJbmNyLnRcbmVuZFxuXG5tb2R1bGUgUHJpdmF0ZSA9IHN0cnVjdFxuICB0eXBlICgnc3RhdGUsICdtb2RlbCwgJ2FjdGlvbikgc25hcHNob3QgPVxuICAgIHsgdmlldyA6IFZkb20uTm9kZS50XG4gICAgOyBhcHBseV9hY3Rpb24gOlxuICAgICAgICAnc3RhdGUgLT4gc2NoZWR1bGVfZXZlbnQ6KHVuaXQgVWlfZWZmZWN0LnQgLT4gdW5pdCkgLT4gJ21vZGVsIC0+ICdhY3Rpb24gLT4gJ21vZGVsXG4gICAgOyB1cGRhdGVfdmlzaWJpbGl0eSA6ICdtb2RlbCAtPiBzY2hlZHVsZV9ldmVudDoodW5pdCBVaV9lZmZlY3QudCAtPiB1bml0KSAtPiAnbW9kZWxcbiAgICA7IG9uX2Rpc3BsYXkgOiAnc3RhdGUgLT4gc2NoZWR1bGVfZXZlbnQ6KHVuaXQgVWlfZWZmZWN0LnQgLT4gdW5pdCkgLT4gdW5pdFxuICAgIH1cblxuICBtb2R1bGUgdHlwZSBTX2Zvcl9ib25zYWkgPSBzaWdcbiAgICBtb2R1bGUgTW9kZWwgOiBNb2RlbFxuICAgIG1vZHVsZSBBY3Rpb24gOiBBY3Rpb25cbiAgICBtb2R1bGUgU3RhdGUgOiBTdGF0ZVxuXG4gICAgdmFsIGFjdGlvbl9yZXF1aXJlc19zdGFiaWxpemF0aW9uIDogQWN0aW9uLnQgLT4gYm9vbFxuICAgIHZhbCBvbl9hY3Rpb25fYXBwbGljYXRpb24gOiBBY3Rpb24udCAtPiB1bml0XG4gICAgdmFsIG9uX3N0YWJpbGl6ZSA6IHVuaXQgLT4gdW5pdFxuICAgIHZhbCBvbl9zdGFydHVwIDogc2NoZWR1bGVfYWN0aW9uOihBY3Rpb24udCAtPiB1bml0KSAtPiBNb2RlbC50IC0+IFN0YXRlLnQgRGVmZXJyZWQudFxuICAgIHZhbCBhZHZhbmNlX2Nsb2NrX3RvIDogVGltZV9ucy50IC0+IHVuaXRcblxuICAgIHZhbCBjcmVhdGVcbiAgICAgIDogIE1vZGVsLnQgSW5jci50XG4gICAgICAtPiBvbGRfbW9kZWw6TW9kZWwudCBJbmNyLnRcbiAgICAgIC0+IGluamVjdDooQWN0aW9uLnQgLT4gdW5pdCBWZG9tLkVmZmVjdC50KVxuICAgICAgLT4gKFN0YXRlLnQsIE1vZGVsLnQsIEFjdGlvbi50KSBzbmFwc2hvdCBJbmNyLnRcbiAgZW5kXG5lbmRcbiIsIm9wZW4hIENvcmVcbm9wZW4gSnNfb2Zfb2NhbWxcblxubW9kdWxlIFJlY3QgPSBzdHJ1Y3RcbiAgdHlwZSAnYSB0ID1cbiAgICB7IHRvcCA6ICdhXG4gICAgOyBsZWZ0IDogJ2FcbiAgICA7IGJvdHRvbSA6ICdhXG4gICAgOyByaWdodCA6ICdhXG4gICAgfVxuICBbQEBkZXJpdmluZyBzZXhwLCBiaW5faW8sIGNvbXBhcmUsIGZpZWxkcyB+Z2V0dGVyc11cblxuICBsZXQgbWFwIHQgfmYgPVxuICAgIHsgdG9wID0gZiB0LnRvcDsgbGVmdCA9IGYgdC5sZWZ0OyBib3R0b20gPSBmIHQuYm90dG9tOyByaWdodCA9IGYgdC5yaWdodCB9XG4gIDs7XG5cbiAgbGV0IGludF9oZWlnaHQgdCA9IHQuYm90dG9tIC0gdC50b3BcbiAgbGV0IGludF93aWR0aCB0ID0gdC5yaWdodCAtIHQubGVmdFxuICBsZXQgZmxvYXRfaGVpZ2h0IHQgPSB0LmJvdHRvbSAtLiB0LnRvcFxuICBsZXQgZmxvYXRfd2lkdGggdCA9IHQucmlnaHQgLS4gdC5sZWZ0XG5lbmRcblxubGV0IHJvdW5kX2Zsb2F0X3JlY3QgPyhyb3VuZCA9IEZsb2F0Lmlyb3VuZF9uZWFyZXN0X2V4bikgPSBSZWN0Lm1hcCB+Zjpyb3VuZFxuXG50eXBlIHJvd3Nfb3JfY29sdW1ucyA9XG4gIHwgUm93c1xuICB8IENvbHVtbnNcbltAQGRlcml2aW5nIHNleHAsIGJpbl9pbywgdmFyaWFudHMsIGNvbXBhcmVdXG5cbmxldCBpbm5lckhlaWdodCAoKSA9IERvbV9odG1sLndpbmRvdyMjLmlubmVySGVpZ2h0XG5sZXQgaW5uZXJXaWR0aCAoKSA9IERvbV9odG1sLndpbmRvdyMjLmlubmVyV2lkdGhcblxubGV0IGVsZW1lbnRfaXNfaW5fdmlld3BvcnQgKGVsdCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCkgPVxuICBsZXQgcmVjdCA9IGVsdCMjZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluXG4gIEZsb2F0LiggPj0gKSByZWN0IyMudG9wIDAuXG4gICYmIEZsb2F0LiggPj0gKSByZWN0IyMubGVmdCAwLlxuICAmJiBGbG9hdC4oIDw9ICkgcmVjdCMjLmJvdHRvbSAoRmxvYXQub2ZfaW50IChpbm5lckhlaWdodCAoKSkpXG4gICYmIEZsb2F0LiggPD0gKSByZWN0IyMucmlnaHQgKEZsb2F0Lm9mX2ludCAoaW5uZXJXaWR0aCAoKSkpXG47O1xuXG4oKiogU2Nyb2xscyB0byB0aGUgaXRlbSBtYXJrZWQgYXMgXCJrZWVwLWluLXZpZXdcIiAqKVxubGV0IHNjcm9sbCA/KGlkID0gXCJrZWVwLWluLXZpZXdcIikgKCkgPVxuICBtYXRjaCBEb21faHRtbC5nZXRFbGVtZW50QnlJZF9vcHQgaWQgd2l0aFxuICB8IE5vbmUgLT4gKClcbiAgfCBTb21lIGVsdCAtPiBpZiBub3QgKGVsZW1lbnRfaXNfaW5fdmlld3BvcnQgZWx0KSB0aGVuIGVsdCMjc2Nyb2xsSW50b1ZpZXcgSnMuX3RydWVcbjs7XG5cbigqIE5vdCB5ZXQgc3VwcG9ydGVkIG9uIENocm9tZS4gIE1heWJlIHdlIHNob3VsZCB1c2UgalF1ZXJ5P1xuICAge1tcbiAgICAgbGV0IHNjcm9sbF9pbnRvX3ZpZXcgKGVsdCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCkgOiB1bml0ID1cbiAgICAgICBlbHQjI3Njcm9sbEludG9WaWV3IChvYmplY3QlanNcbiAgICAgICAgIHZhbCBibG9jayA9IEpzLnN0cmluZyBcInN0YXJ0XCJcbiAgICAgICAgIHZhbCBiZWhhdmlvciA9IEpzLnN0cmluZyBcInNtb290aFwiXG4gICAgICAgZW5kKVxuICAgXX1cbiopXG4oKiBbdmlld3BvcnRfcmVjdF9vZl9lbGVtZW50IGVsXSBnZXRzIGJvdW5kaW5nIHJlY3Qgb2YgW2VsdF0uIFRoZSBib3VuZGluZyByZWN0IGlzXG4gICByZWxhdGl2ZSB0byB0aGUgdmlldyBwb3J0ICopXG5sZXQgdmlld3BvcnRfcmVjdF9vZl9lbGVtZW50IChlbHQgOiBEb21faHRtbC5lbGVtZW50IEpzLnQpIDogZmxvYXQgUmVjdC50ID1cbiAgbGV0IHJlY3QgPSBlbHQjI2dldEJvdW5kaW5nQ2xpZW50UmVjdCBpblxuICB7IFJlY3QudG9wID0gcmVjdCMjLnRvcFxuICA7IGxlZnQgPSByZWN0IyMubGVmdFxuICA7IGJvdHRvbSA9IHJlY3QjIy5ib3R0b21cbiAgOyByaWdodCA9IHJlY3QjIy5yaWdodFxuICB9XG47O1xuXG5sZXQgdmlld3BvcnRfcmVjdCAoKSA9XG4gIHsgUmVjdC50b3AgPSAwOyBsZWZ0ID0gMDsgYm90dG9tID0gaW5uZXJIZWlnaHQgKCk7IHJpZ2h0ID0gaW5uZXJXaWR0aCAoKSB9XG47O1xuXG5sZXQgY2xpZW50X3JlY3Rfb2ZfZWxlbWVudCAoZWx0IDogRG9tX2h0bWwuZWxlbWVudCBKcy50KSA6IGZsb2F0IFJlY3QudCA9XG4gIGxldCBib3VuZGluZ19yZWN0ID0gdmlld3BvcnRfcmVjdF9vZl9lbGVtZW50IGVsdCBpblxuICB7IGJvdW5kaW5nX3JlY3Qgd2l0aFxuICAgIGJvdHRvbSA9IGJvdW5kaW5nX3JlY3QudG9wICsuIEZsb2F0Lm9mX2ludCBlbHQjIy5jbGllbnRIZWlnaHRcbiAgOyByaWdodCA9IGJvdW5kaW5nX3JlY3QubGVmdCArLiBGbG9hdC5vZl9pbnQgZWx0IyMuY2xpZW50V2lkdGhcbiAgfVxuOztcblxubGV0IGNsaWVudF9yZWN0ICgpID1cbiAgeyBSZWN0LnRvcCA9IDBcbiAgOyBsZWZ0ID0gMFxuICA7IGJvdHRvbSA9IERvbV9odG1sLmRvY3VtZW50IyMuZG9jdW1lbnRFbGVtZW50IyMuY2xpZW50SGVpZ2h0XG4gIDsgcmlnaHQgPSBEb21faHRtbC5kb2N1bWVudCMjLmRvY3VtZW50RWxlbWVudCMjLmNsaWVudFdpZHRoXG4gIH1cbjs7XG5cbigqKiBTaW1wbGUgd3JhcHBlciBmb3IgdGhlIGJpbmFyeS1zZWFyY2ggZnVuY3RvciAgICopXG5sZXQgYmluYXJ5X3NlYXJjaCAodHlwZSBlbHQpIH5sZW5ndGggfmdldCB+Y29tcGFyZSBtb2RlIHggPVxuICBsZXQgbW9kdWxlIEJzID1cbiAgICBCaW5hcnlfc2VhcmNoYWJsZS5NYWtlIChzdHJ1Y3RcbiAgICAgIHR5cGUgbm9ucmVjIGVsdCA9IGVsdFxuICAgICAgdHlwZSBub25yZWMgdCA9IHVuaXRcblxuICAgICAgbGV0IGdldCAoKSBuID0gZ2V0IG5cbiAgICAgIGxldCBsZW5ndGggKCkgPSBsZW5ndGhcbiAgICBlbmQpXG4gIGluXG4gIEJzLmJpbmFyeV9zZWFyY2ggKCkgfmNvbXBhcmUgbW9kZSB4XG47O1xuXG4oKiogU2VhcmNoZXMgdGhyb3VnaCBlbGVtZW50cyBpbmRleGVkIGZyb20gWzBdIHRvIFtsZW5ndGggLSAxXS4gKilcbmxldCBlbGVtZW50X3NlYXJjaCB+bGVuZ3RoIH5udGhfZWxlbWVudF9pZCB+c2VhcmNoX2J5IG1vZGUgbGF5b3V0IHggPVxuICBsZXQgZ2V0ID1cbiAgICBsZXQgbnRoX2VsZW1lbnQgbiA9XG4gICAgICBsZXQgaWQgPSBudGhfZWxlbWVudF9pZCBuIGluXG4gICAgICBtYXRjaCBEb21faHRtbC5nZXRFbGVtZW50QnlJZF9vcHQgaWQgd2l0aFxuICAgICAgfCBOb25lIC0+IGZhaWx3aXRoZiBcIkVsZW1lbnQgJXMgbm90IGZvdW5kXCIgaWQgKClcbiAgICAgIHwgU29tZSBlbHQgLT4gZWx0XG4gICAgaW5cbiAgICBsZXQgZmlyc3QgPSB2aWV3cG9ydF9yZWN0X29mX2VsZW1lbnQgKG50aF9lbGVtZW50IDApIGluXG4gICAgbGV0IGxhc3QgPSB2aWV3cG9ydF9yZWN0X29mX2VsZW1lbnQgKG50aF9lbGVtZW50IChsZW5ndGggLSAxKSkgaW5cbiAgICAoKiBDb21wdXRlIHRoZSBuJ3RoIGVsZW1lbnQgaW4gYSBub3JtYWxpemVkIHdheSwgYXMgaWYgdGhlIGluZGV4aW5nIGFsd2F5cyBnb2VzIGluXG4gICAgICAgaW5jcmVhc2luZyBvcmRlciBmcm9tIHRvcCB0b3AgYm90dG9tICopXG4gICAgbGV0IG50aF9lbGVtZW50X25vcm1hbGl6ZWQgbiA9XG4gICAgICBsZXQgaXNfYXNjZW5kaW5nID1cbiAgICAgICAgbWF0Y2ggbGF5b3V0IHdpdGhcbiAgICAgICAgfCBSb3dzIC0+IEZsb2F0LiggPD0gKSBmaXJzdC50b3AgbGFzdC50b3BcbiAgICAgICAgfCBDb2x1bW5zIC0+IEZsb2F0LiggPD0gKSBmaXJzdC5sZWZ0IGxhc3QubGVmdFxuICAgICAgaW5cbiAgICAgIG50aF9lbGVtZW50IChpZiBpc19hc2NlbmRpbmcgdGhlbiBuIGVsc2UgbGVuZ3RoIC0gbiAtIDEpXG4gICAgaW5cbiAgICBmdW4gbiAtPiBzZWFyY2hfYnkgKHZpZXdwb3J0X3JlY3Rfb2ZfZWxlbWVudCAobnRoX2VsZW1lbnRfbm9ybWFsaXplZCBuKSlcbiAgaW5cbiAgYmluYXJ5X3NlYXJjaCB+bGVuZ3RoIH5nZXQgfmNvbXBhcmU6RmxvYXQuY29tcGFyZSBtb2RlIHhcbjs7XG5cbmxldCBmaW5kX3Zpc2libGVfcmFuZ2Ugfmxlbmd0aCB+bnRoX2VsZW1lbnRfaWQgbGF5b3V0ID1cbiAgaWYgbGVuZ3RoID0gMFxuICB0aGVuIE5vbmVcbiAgZWxzZSAoXG4gICAgbGV0IGVsZW1lbnRfc2VhcmNoID0gZWxlbWVudF9zZWFyY2ggfmxlbmd0aCB+bnRoX2VsZW1lbnRfaWQgaW5cbiAgICBsZXQgdmlld3BvcnRfcmVjdCA9IHZpZXdwb3J0X3JlY3QgKCkgaW5cbiAgICBsZXQgZmlyc3QgPVxuICAgICAgbGV0IHNlYXJjaF9ieSwgdGFyZ2V0ID1cbiAgICAgICAgbWF0Y2ggbGF5b3V0IHdpdGhcbiAgICAgICAgfCBSb3dzIC0+IFJlY3QuYm90dG9tLCB2aWV3cG9ydF9yZWN0LnRvcFxuICAgICAgICB8IENvbHVtbnMgLT4gUmVjdC5yaWdodCwgdmlld3BvcnRfcmVjdC5sZWZ0XG4gICAgICBpblxuICAgICAgZWxlbWVudF9zZWFyY2ggfnNlYXJjaF9ieSBgRmlyc3Rfc3RyaWN0bHlfZ3JlYXRlcl90aGFuIGxheW91dCAoRmxvYXQub2ZfaW50IHRhcmdldClcbiAgICBpblxuICAgIGxldCBsYXN0ID1cbiAgICAgIGxldCBzZWFyY2hfYnksIHRhcmdldCA9XG4gICAgICAgIG1hdGNoIGxheW91dCB3aXRoXG4gICAgICAgIHwgUm93cyAtPiBSZWN0LnRvcCwgdmlld3BvcnRfcmVjdC5ib3R0b21cbiAgICAgICAgfCBDb2x1bW5zIC0+IFJlY3QubGVmdCwgdmlld3BvcnRfcmVjdC5yaWdodFxuICAgICAgaW5cbiAgICAgIGVsZW1lbnRfc2VhcmNoIH5zZWFyY2hfYnkgYExhc3Rfc3RyaWN0bHlfbGVzc190aGFuIGxheW91dCAoRmxvYXQub2ZfaW50IHRhcmdldClcbiAgICBpblxuICAgICgqIEJvdGggW2ZpcnN0XSBhbmQgW2xhc3RdIG5lZWQgdG8gYmUgW1NvbWVdLiBPdGhlcndpc2UsIGZvciBleGFtcGxlIGlmIHRoZSB3aG9sZVxuICAgICAgIHRhYmxlIGlzIGJlbG93IHZpZXcgcG9ydCwgdGhlbiBbZmlyc3RdIHdpbGwgYmUgW1NvbWVdLCBbbGFzdF0gd2lsbCBiZSBbTm9uZV0gKilcbiAgICBPcHRpb24uYm90aCBmaXJzdCBsYXN0KVxuOztcblxubGV0IGdldF9zY3JvbGxfY29udGFpbmVyX2pzX2V4cHIgPVxuICBKcy5VbnNhZmUucHVyZV9qc19leHByXG4gICAge2pzfFxuICAgICAgKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgICAgIHZhciB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgICAgICB2YXIgcmUgPSAvKGF1dG98c2Nyb2xsKS87XG5cbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IGRvYykge1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VyID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgICAgIHdoaWxlIChjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHZhciBzdHlsZSA9IHdpbi5nZXRDb21wdXRlZFN0eWxlKGN1cik7XG5cbiAgICAgICAgICBpZiAocmUudGVzdChzdHlsZS5vdmVyZmxvdyArIHN0eWxlLm92ZXJmbG93WSArIHN0eWxlLm92ZXJmbG93WCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3VyID0gY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgfSlcbiAgICB8anN9XG47O1xuXG5sZXQgZ2V0X3Njcm9sbF9jb250YWluZXIgKGVsIDogI0RvbS5ub2RlIEpzLnQpIDogRG9tLm5vZGUgSnMudCA9XG4gIEpzLlVuc2FmZS5mdW5fY2FsbCBnZXRfc2Nyb2xsX2NvbnRhaW5lcl9qc19leHByIFt8IEpzLlVuc2FmZS5pbmplY3QgZWwgfF1cbjs7XG4iLCJvcGVuISBDb3JlXG5vcGVuIFZpcnR1YWxfZG9tXG5vcGVuIEFzeW5jX2tlcm5lbFxub3BlbiBKc19vZl9vY2FtbFxubW9kdWxlIFBlcmZvcm1hbmNlID0gSmF2YXNjcmlwdF9wcm9maWxpbmdcblxubGV0IHRpbWVyX3N0YXJ0IHMgfmRlYnVnIH5wcm9maWxlID1cbiAgaWYgcHJvZmlsZSB0aGVuIFBlcmZvcm1hbmNlLk1hbnVhbC5tYXJrIChzIF4gXCJiZWZvcmVcIik7XG4gIGlmIGRlYnVnIHRoZW4gRmlyZWJ1Zy5jb25zb2xlIyN0aW1lIChKcy5zdHJpbmcgcylcbjs7XG5cbmxldCB0aW1lcl9zdG9wIHMgfmRlYnVnIH5wcm9maWxlID1cbiAgaWYgcHJvZmlsZVxuICB0aGVuIChcbiAgICBsZXQgYmVmb3JlID0gcyBeIFwiYmVmb3JlXCIgaW5cbiAgICBsZXQgYWZ0ZXIgPSBzIF4gXCJhZnRlclwiIGluXG4gICAgUGVyZm9ybWFuY2UuTWFudWFsLm1hcmsgYWZ0ZXI7XG4gICAgUGVyZm9ybWFuY2UuTWFudWFsLm1lYXN1cmUgfm5hbWU6cyB+c3RhcnQ6YmVmb3JlIH5lbmRfOmFmdGVyKTtcbiAgaWYgZGVidWcgdGhlbiBGaXJlYnVnLmNvbnNvbGUjI3RpbWVFbmQgKEpzLnN0cmluZyBzKVxuOztcblxubGV0IHByaW50X2Vycm9yZiBmbXQgPSBrc3ByaW50ZiAoZnVuIHMgLT4gRmlyZWJ1Zy5jb25zb2xlIyNlcnJvciAoSnMuc3RyaW5nIHMpKSBmbXRcblxubW9kdWxlIFJlcXVlc3RfaWRzIDogc2lnXG4gIHR5cGUgdFxuXG4gIHZhbCBjcmVhdGUgOiB1bml0IC0+IHRcblxuICB2YWwgc2V0X29uY2VfZXhuXG4gICAgOiAgdFxuICAgIC0+IGFuaW1hdGlvbl9mcmFtZV9pZDpEb21faHRtbC5hbmltYXRpb25fZnJhbWVfcmVxdWVzdF9pZFxuICAgIC0+IHNldF90aW1lb3V0X2lkOkRvbV9odG1sLnRpbWVvdXRfaWRcbiAgICAtPiB1bml0XG5cbiAgdmFsIGNhbmNlbGxlZCA6IHQgLT4gYm9vbFxuICB2YWwgY2FuY2VsIDogdCAtPiB1bml0XG5lbmQgPSBzdHJ1Y3RcbiAgdHlwZSBpZHMgPVxuICAgIHwgRW1wdHlcbiAgICB8IENhbmNlbGxlZFxuICAgIHwgSWRzIG9mXG4gICAgICAgIHsgYW5pbWF0aW9uX2ZyYW1lX2lkIDogRG9tX2h0bWwuYW5pbWF0aW9uX2ZyYW1lX3JlcXVlc3RfaWRcbiAgICAgICAgOyBzZXRfdGltZW91dF9pZCA6IERvbV9odG1sLnRpbWVvdXRfaWRcbiAgICAgICAgfVxuXG4gIHR5cGUgdCA9IGlkcyByZWZcblxuICBsZXQgY3JlYXRlICgpIDogdCA9IHJlZiBFbXB0eVxuXG4gIGxldCBzZXRfb25jZV9leG4gKHQgOiB0KSB+YW5pbWF0aW9uX2ZyYW1lX2lkIH5zZXRfdGltZW91dF9pZCA9XG4gICAgbWF0Y2ggIXQgd2l0aFxuICAgIHwgQ2FuY2VsbGVkIC0+XG4gICAgICAoKiBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgbGV0J3MgYmUgZGVmZW5zaXZlLiAqKVxuICAgICAgRG9tX2h0bWwud2luZG93IyNjYW5jZWxBbmltYXRpb25GcmFtZSBhbmltYXRpb25fZnJhbWVfaWQ7XG4gICAgICBEb21faHRtbC53aW5kb3cjI2NsZWFyVGltZW91dCBzZXRfdGltZW91dF9pZFxuICAgIHwgRW1wdHkgLT4gdCA6PSBJZHMgeyBhbmltYXRpb25fZnJhbWVfaWQ7IHNldF90aW1lb3V0X2lkIH1cbiAgICB8IElkcyBfIC0+IGludmFsaWRfYXJnIFwicmVxdWVzdF9pZHMgYWxyZWFkeSBzZXRcIlxuICA7O1xuXG4gIGxldCBjYW5jZWxsZWQgeCA9XG4gICAgbWF0Y2ggIXggd2l0aFxuICAgIHwgQ2FuY2VsbGVkIC0+IHRydWVcbiAgICB8IEVtcHR5IHwgSWRzIF8gLT4gZmFsc2VcbiAgOztcblxuICBsZXQgY2FuY2VsICh0IDogdCkgPVxuICAgIG1hdGNoICF0IHdpdGhcbiAgICB8IENhbmNlbGxlZCAtPiAoKVxuICAgIHwgRW1wdHkgLT4gdCA6PSBDYW5jZWxsZWRcbiAgICB8IElkcyB7IGFuaW1hdGlvbl9mcmFtZV9pZDsgc2V0X3RpbWVvdXRfaWQgfSAtPlxuICAgICAgRG9tX2h0bWwud2luZG93IyNjYW5jZWxBbmltYXRpb25GcmFtZSBhbmltYXRpb25fZnJhbWVfaWQ7XG4gICAgICBEb21faHRtbC53aW5kb3cjI2NsZWFyVGltZW91dCBzZXRfdGltZW91dF9pZDtcbiAgICAgIHQgOj0gQ2FuY2VsbGVkXG4gIDs7XG5lbmRcblxuKCoqIFtyZXF1ZXN0X2FuaW1hdGlvbl9mcmFtZV0gbm90aWZpZXMgdGhlIGJyb3dzZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byBkbyBzb21lXG4gICAgY29tcHV0YXRpb24gYmVmb3JlIHRoZSBuZXh0IHJlcGFpbnQuIEJlY2F1c2UgdGhpcyBuZWVkcyB0byBvY2N1ciBpbiB0aGUgc2FtZVxuICAgIHN5bmNocm9ub3VzIGNhbGwgKGNhbGxlZCBiZWZvcmUgdGhlIG5leHQgcmVwYWludCksIHJldHVybmluZyBhIERlZmVycmVkLnQgd2lsbCBub3RcbiAgICB3b3JrLiBJbnN0ZWFkLCB5b3UgcGFzcyBpbiBhIGpvYiB0byBiZSBydW4gYmVmb3JlIHRoZSByZXBhaW50LlxuXG4gICAgTm90ZSB0aGF0IGlmIFtjYWxsYmFja10gY29udGFpbnMgYW55IGFzeW5jaHJvbm91cyB3b3JrIGJlZm9yZSBkb2luZyBET00gY2hhbmdlcywgdGhvc2VcbiAgICBjaGFuZ2VzIHdpbGwgbm90IGJlIGluY2x1ZGVkIGluIHRoZSByZXBhaW50IGFuZCB3aWxsIGJlIHNhdmVkIHVudGlsIHRoZSBmb2xsb3dpbmcgb25lLlxuXG4gICAgV2hlbiB0aGUgdGFiIGlzIGluIHRoZSBiYWNrZ3JvdW5kLCB0aGUgYnJvd3NlcnMgbmF0aXZlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBmdW5jdGlvblxuICAgIHdpbGwgbmV2ZXIgY2FsbCB0aGUgY2FsbGJhY2ssIHNvIGluIG9yZGVyIHRvIGNvbnRpbnVlIHByb2Nlc3NpbmcgZXZlbnRzLCB3ZSBzZXQgYW5cbiAgICBhbHRlcm5hdGUgc2V0VGltZW91dCBhdCAxIHNlY29uZC5cbiopXG5sZXQgcmVxdWVzdF9hbmltYXRpb25fZnJhbWUgY2FsbGJhY2sgPVxuICAoKiBXZSBjYXB0dXJlIHRoZSBjdXJyZW50IGNvbnRleHQgdG8gdXNlIGl0IGxhdGVyIHdoZW4gaGFuZGxpbmcgY2FsbGJhY2tzIGZyb21cbiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBzaW5jZSBleGNlcHRpb25zIHJhaXNlZCB0byB0aGF0IHdvdWxkIG90aGVyd2lzZSBub3QgZ28gdGhyb3VnaFxuICAgICBvdXIgb3JkaW5hcnkgQXN5bmMgbW9uaXRvci4gKilcbiAgbGV0IGN1cnJlbnRfY29udGV4dCA9IEFzeW5jX2tlcm5lbF9zY2hlZHVsZXIuY3VycmVudF9leGVjdXRpb25fY29udGV4dCAoKSBpblxuICBsZXQgcmVxdWVzdF9pZHMgPSBSZXF1ZXN0X2lkcy5jcmVhdGUgKCkgaW5cbiAgbGV0IGNhbGxiYWNrICgpID1cbiAgICBpZiBSZXF1ZXN0X2lkcy5jYW5jZWxsZWQgcmVxdWVzdF9pZHNcbiAgICB0aGVuICgpXG4gICAgZWxzZSAoXG4gICAgICBSZXF1ZXN0X2lkcy5jYW5jZWwgcmVxdWVzdF9pZHM7XG4gICAgICBsZXQgY2FsbGJhY2tfcmVzdWx0ID1cbiAgICAgICAgQXN5bmNfa2VybmVsX3NjaGVkdWxlci53aXRoaW5fY29udGV4dCBjdXJyZW50X2NvbnRleHQgY2FsbGJhY2tcbiAgICAgIGluXG4gICAgICBpZ25vcmUgKGNhbGxiYWNrX3Jlc3VsdCA6ICh1bml0LCB1bml0KSBSZXN1bHQudCkpXG4gIGluXG4gIGxldCBhbmltYXRpb25fZnJhbWVfaWQgPVxuICAgIGxldCBhbmltYXRpb25fY2FsbGJhY2sgPSBKcy53cmFwX2NhbGxiYWNrIChmdW4gXyAtPiBjYWxsYmFjayAoKSkgaW5cbiAgICBEb21faHRtbC53aW5kb3cjI3JlcXVlc3RBbmltYXRpb25GcmFtZSBhbmltYXRpb25fY2FsbGJhY2tcbiAgaW5cbiAgbGV0IHNldF90aW1lb3V0X2lkID1cbiAgICBsZXQgdGltZW91dF9jYWxsYmFjayA9IEpzLndyYXBfY2FsbGJhY2sgKGZ1biBfIC0+IGNhbGxiYWNrICgpKSBpblxuICAgICgqIDEwMDAgbXMgPSAxczsgIENob3NlbiBiZWNhdXNlIGJhY2tncm91bmRlZCB0YW5nbGUgc2VuZHMgcmVxdWVzdHNcbiAgICAgICBhdCBhcHByb3hpbWF0ZWx5IHRoaXMgcmF0ZS4gKilcbiAgICBsZXQgdGltZW91dCA9IDEwMDAuMCBpblxuICAgIERvbV9odG1sLndpbmRvdyMjc2V0VGltZW91dCB0aW1lb3V0X2NhbGxiYWNrIHRpbWVvdXRcbiAgaW5cbiAgUmVxdWVzdF9pZHMuc2V0X29uY2VfZXhuIHJlcXVlc3RfaWRzIH5hbmltYXRpb25fZnJhbWVfaWQgfnNldF90aW1lb3V0X2lkXG47O1xuXG4oKiogVGhlIEpzX29mX29jYW1sIHR5cGUgRG9tX2h0bWwuZWxlbWVudCBkb2Vzbid0IGhhdmUgdGhlIGNvcnJlY3Qgb3B0aW9ucyBmb3JcbiAgICB0aGVpciBgZm9jdXNgIG1ldGhvZC4gQ2FzdCB0byB0aGlzIGluIG9yZGVyIHRvIHdvcmsgYXJvdW5kIHRoaXMgYnVnLiAgKilcbnR5cGUgZm9jdXNhYmxlID1cbiAgPCBmb2N1cyA6IDwgcHJldmVudFNjcm9sbCA6IGJvb2wgSnMudCBKcy5yZWFkb25seV9wcm9wID4gSnMudCAtPiB1bml0IEpzLm1ldGggPlxuXG5sZXQgYXNfZm9jdXNhYmxlIDogRG9tX2h0bWwuZWxlbWVudCBKcy50IC0+IGZvY3VzYWJsZSBKcy50ID0gSnMuVW5zYWZlLmNvZXJjZVxuXG4oKiogW1Zpc2liaWxpdHldIGVuY2Fwc3VsYXRlcyB0aGUgZGlydHlpbmcgYW5kIGNsZWFuaW5nIG9mIHRoZSB2aXNpYmlsaXR5IGZsYWdcblxuICAgIFRoZSB2aWV3cG9ydCBzdGFydHMgb3V0IGRpcnR5LiBXaGVuIHdlIGxvb2sgYXQgdGhlIERPTSB0byBjb21wdXRlIHdoYXQgaXMgdmlzaWJsZSBieVxuICAgIGNhbGxpbmcgW3VwZGF0ZV92aXNpYmlsaXR5XSwgdGhlIHZpZXdwb3J0IHRoZW4gYmVjb21lcyBjbGVhbi4gQW55IHRpbWUgdGhlIHVzZXJcbiAgICBzY3JvbGxzIG91ciBwYWdlIG9yIHJlc2l6ZXMgdGhlIHdpbmRvdywgdGhlIHZpZXdwb3J0IGJlY29tZXMgZGlydHkgYWdhaW4uIElmIHdlIHVwZGF0ZVxuICAgIHRoZSBET00sIHRoZSB2aWV3cG9ydCBiZWNvbWVzIGRpcnR5IGFnYWluIGJlY2F1c2UgYSBET00gdXBkYXRlIGNvdWxkIGNhdXNlIGEgcmVmbG93LFxuICAgIG1vdmluZyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgdmlzaWJsZS5cblxuICAgIFdlIGhhdmUgaW1wbGVtZW50ZWQgdGhpcyBhcyBhIGZsYWcgaW5zdGVhZCBvZiByZXF1aXJpbmcgdGhlIHVzZXJzIHRvIHNlbmQgYW4gYWN0aW9uIG9uXG4gICAgc2Nyb2xsIGJlY2F1c2UgaXQgd291bGQgbWFrZSBubyBzZW5zZSB0byBjb21wdXRlIHRoZSB2aXNpYmlsaXR5IG9uIHRoZSB2aXJ0dWFsLWRvbVxuICAgIHdoZW4gdGhlIHZpcnR1YWwtZG9tIGRvZXMgbm90IG1hdGNoIHRoZSBhY3R1YWwgZG9tIChhcyBpdCBpcyBpbiB0aGUgbWlkZGxlIG9mXG4gICAgW2FwcGx5X2FjdGlvbnNdKS4gKilcbm1vZHVsZSBWaXNpYmlsaXR5IDogc2lnXG4gIHR5cGUgdFxuXG4gIHZhbCBjcmVhdGVfYXNfZGlydHkgOiB1bml0IC0+IHRcbiAgdmFsIG1hcmtfY2xlYW4gOiB0IC0+IHVuaXRcbiAgdmFsIG1hcmtfZGlydHkgOiB0IC0+IHVuaXRcbiAgdmFsIGlzX2RpcnR5IDogdCAtPiBib29sXG5lbmQgPSBzdHJ1Y3RcbiAgdHlwZSB0ID0geyBtdXRhYmxlIHdoZW5fZGlydHkgOiB1bml0IEl2YXIudCB9XG5cbiAgbGV0IGNyZWF0ZV9hc19kaXJ0eSAoKSA9IHsgd2hlbl9kaXJ0eSA9IEl2YXIuY3JlYXRlX2Z1bGwgKCkgfVxuICBsZXQgbWFya19kaXJ0eSB0ID0gSXZhci5maWxsX2lmX2VtcHR5IHQud2hlbl9kaXJ0eSAoKVxuICBsZXQgaXNfZGlydHkgdCA9IEl2YXIuaXNfZnVsbCB0LndoZW5fZGlydHlcbiAgbGV0IG1hcmtfY2xlYW4gdCA9IGlmIGlzX2RpcnR5IHQgdGhlbiB0LndoZW5fZGlydHkgPC0gSXZhci5jcmVhdGUgKClcbmVuZFxuXG5tb2R1bGUgTG9nZ2luZ19maWx0ZXIgPSBzdHJ1Y3RcbiAgbW9kdWxlIFN0cmluZ19ibGFuZyA9IHN0cnVjdFxuICAgIG1vZHVsZSBUID0gc3RydWN0XG4gICAgICB0eXBlIHQgPSBzdHJpbmcgQmxhbmcudCBbQEBkZXJpdmluZyBzZXhwLCBjb21wYXJlXVxuICAgIGVuZFxuXG4gICAgaW5jbHVkZSBUXG4gICAgaW5jbHVkZSBDb21wYXJhYmxlLk1ha2UgKFQpXG4gIGVuZFxuXG4gIHR5cGUgdCA9XG4gICAgfCBBbGxcbiAgICB8IE5vbmVcbiAgICB8IE5hbWVkX2ZpbHRlcl9ibGFuZyBvZiBTdHJpbmdfYmxhbmcudFxuICAgIHwgQ3VzdG9tX2ZpbHRlciBvZiAoU2V4cC50IC0+IGJvb2wpXG5lbmRcblxubW9kdWxlIERlYnVnX2ZsYWdzIDogc2lnXG4gIHR5cGUgdCA9XG4gICAgeyBsb2dnaW5nX2ZpbHRlciA6IHVuaXQgLT4gTG9nZ2luZ19maWx0ZXIudFxuICAgIDsgc2hvdWxkX3Byb2ZpbGUgOiB1bml0IC0+IGJvb2xcbiAgICA7IHNob3VsZF9kZWJ1ZyA6IHVuaXQgLT4gYm9vbFxuICAgIH1cblxuICB2YWwgaW5pdF9hcHBcbiAgICA6ICBhcHBfaWQ6c3RyaW5nXG4gICAgLT4gZmlsdGVyX25hbWVzOlN0cmluZy5TZXQudFxuICAgIC0+IGRlYnVnOmJvb2xcbiAgICAtPiBzdG9wOnVuaXQgRGVmZXJyZWQudFxuICAgIC0+IHRcbmVuZCA9IHN0cnVjdFxuICB0eXBlIHQgPVxuICAgIHsgbG9nZ2luZ19maWx0ZXIgOiB1bml0IC0+IExvZ2dpbmdfZmlsdGVyLnRcbiAgICA7IHNob3VsZF9wcm9maWxlIDogdW5pdCAtPiBib29sXG4gICAgOyBzaG91bGRfZGVidWcgOiB1bml0IC0+IGJvb2xcbiAgICB9XG5cbiAgbW9kdWxlIEFwcF9zdGF0ZSA9IHN0cnVjdFxuICAgIHR5cGUgdCA9XG4gICAgICB7IGZpbHRlcl9uYW1lcyA6IFN0cmluZy5TZXQudFxuICAgICAgOyBsb2dnaW5nX2ZpbHRlciA6IExvZ2dpbmdfZmlsdGVyLnQgcmVmXG4gICAgICA7IHNob3VsZF9wcm9maWxlIDogYm9vbCByZWZcbiAgICAgIDsgc2hvdWxkX2RlYnVnIDogYm9vbCByZWZcbiAgICAgIH1cblxuICAgIGxldCBzZXRfbG9nZ2luZ19maWx0ZXIgdCB+bG9nZ2luZ19maWx0ZXIgPSB0LmxvZ2dpbmdfZmlsdGVyIDo9IGxvZ2dpbmdfZmlsdGVyXG4gICAgbGV0IHNldF9zaG91bGRfcHJvZmlsZSB0IH5zaG91bGRfcHJvZmlsZSA9IHQuc2hvdWxkX3Byb2ZpbGUgOj0gc2hvdWxkX3Byb2ZpbGVcbiAgICBsZXQgc2V0X3Nob3VsZF9kZWJ1ZyB0IH5zaG91bGRfZGVidWcgPSB0LnNob3VsZF9kZWJ1ZyA6PSBzaG91bGRfZGVidWdcbiAgZW5kXG5cbiAgY2xhc3MgdHlwZSBnbG9iYWwgPSBvYmplY3RcbiAgICBtZXRob2Qgc3RhcnRMb2dnaW5nQWxsIDpcbiAgICAgIChKcy5qc19zdHJpbmcgSnMudCBKcy5vcHQgLT4gdW5pdCkgSnMuY2FsbGJhY2sgSnMud3JpdGVvbmx5X3Byb3BcblxuICAgIG1ldGhvZCBzdGFydExvZ2dpbmcgOlxuICAgICAgKEpzLmpzX3N0cmluZyBKcy50IC0+IEpzLmpzX3N0cmluZyBKcy50IEpzLm9wdCAtPiB1bml0KSBKcy5jYWxsYmFja1xuICAgICAgSnMud3JpdGVvbmx5X3Byb3BcblxuICAgIG1ldGhvZCBzdGFydExvZ2dpbmdDdXN0b20gOlxuICAgICAgKChKcy5qc19zdHJpbmcgSnMudCAtPiBib29sIEpzLnQpIC0+IEpzLmpzX3N0cmluZyBKcy50IEpzLm9wdCAtPiB1bml0KSBKcy5jYWxsYmFja1xuICAgICAgSnMud3JpdGVvbmx5X3Byb3BcblxuICAgIG1ldGhvZCBzdG9wTG9nZ2luZyA6IChKcy5qc19zdHJpbmcgSnMudCBKcy5vcHQgLT4gdW5pdCkgSnMuY2FsbGJhY2sgSnMud3JpdGVvbmx5X3Byb3BcblxuICAgIG1ldGhvZCBzdGFydFByb2ZpbGluZyA6XG4gICAgICAoSnMuanNfc3RyaW5nIEpzLnQgSnMub3B0IC0+IHVuaXQpIEpzLmNhbGxiYWNrIEpzLndyaXRlb25seV9wcm9wXG5cbiAgICBtZXRob2Qgc3RvcFByb2ZpbGluZyA6XG4gICAgICAoSnMuanNfc3RyaW5nIEpzLnQgSnMub3B0IC0+IHVuaXQpIEpzLmNhbGxiYWNrIEpzLndyaXRlb25seV9wcm9wXG5cbiAgICBtZXRob2Qgc3RhcnREZWJ1Z2dpbmcgOlxuICAgICAgKEpzLmpzX3N0cmluZyBKcy50IEpzLm9wdCAtPiB1bml0KSBKcy5jYWxsYmFjayBKcy53cml0ZW9ubHlfcHJvcFxuXG4gICAgbWV0aG9kIHN0b3BEZWJ1Z2dpbmcgOlxuICAgICAgKEpzLmpzX3N0cmluZyBKcy50IEpzLm9wdCAtPiB1bml0KSBKcy5jYWxsYmFjayBKcy53cml0ZW9ubHlfcHJvcFxuXG4gICAgbWV0aG9kIHNhdmVJbmNyZW1lbnRhbEdyYXBoIDogKHVuaXQgLT4gdW5pdCkgSnMuY2FsbGJhY2sgSnMud3JpdGVvbmx5X3Byb3BcbiAgZW5kXG5cbiAgbGV0IGdsb2JhbCA6IGdsb2JhbCBKcy50ID0gSnMuVW5zYWZlLmdsb2JhbFxuICBsZXQgZ2xvYmFsX2lzX2luaXRpYWxpemVkID0gcmVmIGZhbHNlXG4gIGxldCBhcHBfc3RhdGVzIDogQXBwX3N0YXRlLnQgU3RyaW5nLlRhYmxlLnQgPSBTdHJpbmcuVGFibGUuY3JlYXRlICgpXG5cbiAgbGV0IHNpbmdsZV9saW5lX3N0cmluZ19saXN0IHN0cmluZ3MgPVxuICAgIHN0cmluZ3MgfD4gTGlzdC5tYXAgfmY6KGZ1biBzdHIgLT4gXCJcXFwiXCIgXiBzdHIgXiBcIlxcXCJcIikgfD4gU3RyaW5nLmNvbmNhdCB+c2VwOlwiLCBcIlxuICA7O1xuXG4gIGxldCBtdWx0aV9saW5lX3N0cmluZ19saXN0IHN0cmluZ3MgPVxuICAgIHN0cmluZ3MgfD4gTGlzdC5tYXAgfmY6KGZ1biBzdHIgLT4gXCIgIFwiIF4gc3RyKSB8PiBTdHJpbmcuY29uY2F0IH5zZXA6XCJcXG5cIlxuICA7O1xuXG4gIGxldCBpbml0X2dsb2JhbCB+YXBwX2ZpbHRlcnMgKCkgPVxuICAgIGxldCB3aXRoX2FwcF9pZF9vcHQgdXBkYXRlX3N0YXRlIGFwcF9pZF9vcHQgPVxuICAgICAgbGV0IGFwcF9pZF9vcHQgPSBKcy5PcHQudG9fb3B0aW9uIGFwcF9pZF9vcHQgfD4gT3B0aW9uLm1hcCB+ZjpKcy50b19zdHJpbmcgaW5cbiAgICAgIG1hdGNoIGFwcF9pZF9vcHQgd2l0aFxuICAgICAgfCBOb25lIC0+IEhhc2h0YmwuaXRlciBhcHBfc3RhdGVzIH5mOnVwZGF0ZV9zdGF0ZVxuICAgICAgfCBTb21lIGFwcF9pZCAtPlxuICAgICAgICAobWF0Y2ggSGFzaHRibC5maW5kIGFwcF9zdGF0ZXMgYXBwX2lkIHdpdGhcbiAgICAgICAgIHwgU29tZSBzdGF0ZSAtPiB1cGRhdGVfc3RhdGUgc3RhdGVcbiAgICAgICAgIHwgTm9uZSAtPlxuICAgICAgICAgICBwcmludF9lcnJvcmZcbiAgICAgICAgICAgICBcIlVuYWJsZSB0byBmaW5kIGFwcCB3aXRoIGlkIFxcXCIlc1xcXCIuIFZhbGlkIGFwcCBpZHMgYXJlOiAlc1wiXG4gICAgICAgICAgICAgYXBwX2lkXG4gICAgICAgICAgICAgKEhhc2h0Ymwua2V5cyBhcHBfc3RhdGVzIHw+IHNpbmdsZV9saW5lX3N0cmluZ19saXN0KSlcbiAgICBpblxuICAgIGxldCB1cGRhdGVfbG9nZ2luZ19maWx0ZXIgbG9nZ2luZ19maWx0ZXIgPVxuICAgICAgd2l0aF9hcHBfaWRfb3B0IChBcHBfc3RhdGUuc2V0X2xvZ2dpbmdfZmlsdGVyIH5sb2dnaW5nX2ZpbHRlcilcbiAgICBpblxuICAgIGxldCB1cGRhdGVfc2hvdWxkX3Byb2ZpbGUgc2hvdWxkX3Byb2ZpbGUgPVxuICAgICAgd2l0aF9hcHBfaWRfb3B0IChBcHBfc3RhdGUuc2V0X3Nob3VsZF9wcm9maWxlIH5zaG91bGRfcHJvZmlsZSlcbiAgICBpblxuICAgIGxldCB1cGRhdGVfc2hvdWxkX2RlYnVnIHNob3VsZF9kZWJ1ZyA9XG4gICAgICB3aXRoX2FwcF9pZF9vcHQgKEFwcF9zdGF0ZS5zZXRfc2hvdWxkX2RlYnVnIH5zaG91bGRfZGVidWcpXG4gICAgaW5cbiAgICBnbG9iYWwjIy5zdGFydExvZ2dpbmdBbGwgOj0gSnMud3JhcF9jYWxsYmFjayAodXBkYXRlX2xvZ2dpbmdfZmlsdGVyIEFsbCk7XG4gICAgZ2xvYmFsIyMuc3RhcnRMb2dnaW5nXG4gICAgICA6PSBKcy53cmFwX2NhbGxiYWNrIChmdW4gYmxhbmdfc3RyIC0+XG4gICAgICAgICAgIGxldCBibGFuZ19zdHIgPSBKcy50b19zdHJpbmcgYmxhbmdfc3RyIGluXG4gICAgICAgICAgIHdpdGhfYXBwX2lkX29wdCAoZnVuIGFwcF9zdGF0ZSAtPlxuICAgICAgICAgICAgIGxldCBibGFuZyA9IEJsYW5nLnRfb2Zfc2V4cCBTdHJpbmcudF9vZl9zZXhwIChTZXhwLm9mX3N0cmluZyBibGFuZ19zdHIpIGluXG4gICAgICAgICAgICAgbGV0IGludmFsaWRfbmFtZXMgPVxuICAgICAgICAgICAgICAgQmxhbmcuZm9sZCBibGFuZyB+aW5pdDpTdHJpbmcuU2V0LmVtcHR5IH5mOihmdW4gaW52YWxpZF9uYW1lcyBuYW1lIC0+XG4gICAgICAgICAgICAgICAgIGlmIFNldC5tZW0gYXBwX3N0YXRlLmZpbHRlcl9uYW1lcyBuYW1lXG4gICAgICAgICAgICAgICAgIHRoZW4gaW52YWxpZF9uYW1lc1xuICAgICAgICAgICAgICAgICBlbHNlIFNldC5hZGQgaW52YWxpZF9uYW1lcyBuYW1lKVxuICAgICAgICAgICAgIGluXG4gICAgICAgICAgICAgaWYgU2V0LmlzX2VtcHR5IGludmFsaWRfbmFtZXNcbiAgICAgICAgICAgICB0aGVuXG4gICAgICAgICAgICAgICBBcHBfc3RhdGUuc2V0X2xvZ2dpbmdfZmlsdGVyXG4gICAgICAgICAgICAgICAgIGFwcF9zdGF0ZVxuICAgICAgICAgICAgICAgICB+bG9nZ2luZ19maWx0ZXI6KE5hbWVkX2ZpbHRlcl9ibGFuZyBibGFuZylcbiAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICBwcmludF9lcnJvcmZcbiAgICAgICAgICAgICAgICAgXCJVbmFibGUgdG8gZmluZCBuYW1lZCBmaWx0ZXIocyk6ICVzLiBWYWxpZCBuYW1lcyBhcmU6XFxuJXNcIlxuICAgICAgICAgICAgICAgICAoU2V0LnRvX2xpc3QgaW52YWxpZF9uYW1lcyB8PiBzaW5nbGVfbGluZV9zdHJpbmdfbGlzdClcbiAgICAgICAgICAgICAgICAgKFNldC50b19saXN0IGFwcF9zdGF0ZS5maWx0ZXJfbmFtZXMgfD4gbXVsdGlfbGluZV9zdHJpbmdfbGlzdCkpKTtcbiAgICBnbG9iYWwjIy5zdGFydExvZ2dpbmdDdXN0b21cbiAgICAgIDo9IEpzLndyYXBfY2FsbGJhY2sgKGZ1biBmaWx0ZXIgLT5cbiAgICAgICAgICAgbGV0IGZpbHRlciBhY3Rpb25fc2V4cCA9XG4gICAgICAgICAgICAgYWN0aW9uX3NleHAgfD4gU2V4cC50b19zdHJpbmcgfD4gSnMuc3RyaW5nIHw+IGZpbHRlciB8PiBKcy50b19ib29sXG4gICAgICAgICAgIGluXG4gICAgICAgICAgIHVwZGF0ZV9sb2dnaW5nX2ZpbHRlciAoQ3VzdG9tX2ZpbHRlciBmaWx0ZXIpKTtcbiAgICBnbG9iYWwjIy5zdG9wTG9nZ2luZyA6PSBKcy53cmFwX2NhbGxiYWNrICh1cGRhdGVfbG9nZ2luZ19maWx0ZXIgTm9uZSk7XG4gICAgZ2xvYmFsIyMuc3RhcnRQcm9maWxpbmcgOj0gSnMud3JhcF9jYWxsYmFjayAodXBkYXRlX3Nob3VsZF9wcm9maWxlIHRydWUpO1xuICAgIGdsb2JhbCMjLnN0b3BQcm9maWxpbmcgOj0gSnMud3JhcF9jYWxsYmFjayAodXBkYXRlX3Nob3VsZF9wcm9maWxlIGZhbHNlKTtcbiAgICBnbG9iYWwjIy5zdGFydERlYnVnZ2luZyA6PSBKcy53cmFwX2NhbGxiYWNrICh1cGRhdGVfc2hvdWxkX2RlYnVnIHRydWUpO1xuICAgIGdsb2JhbCMjLnN0b3BEZWJ1Z2dpbmcgOj0gSnMud3JhcF9jYWxsYmFjayAodXBkYXRlX3Nob3VsZF9kZWJ1ZyBmYWxzZSk7XG4gICAgZ2xvYmFsIyMuc2F2ZUluY3JlbWVudGFsR3JhcGhcbiAgICAgIDo9IEpzLndyYXBfY2FsbGJhY2sgKGZ1biAoKSAtPlxuICAgICAgICAgICBsZXQgZmlsZW5hbWUgPSBcImN1cnJlbnRfaW5jcl9kb21fZG90X2dyYXBoLmRvdFwiIGluXG4gICAgICAgICAgIFVpX2luY3Iuc2F2ZV9kb3RfdG9fZmlsZSBmaWxlbmFtZTtcbiAgICAgICAgICAgbGV0IGNvbnRlbnRzID0gSW5fY2hhbm5lbC5yZWFkX2FsbCBmaWxlbmFtZSBpblxuICAgICAgICAgICBWZG9tX2ZpbGVfZG93bmxvYWQuY3JlYXRlIH5maWxlbmFtZSB+bWltZXR5cGU6XCJwbGFpbi90ZXh0XCIgfmNvbnRlbnRzXG4gICAgICAgICAgIHw+IFZkb21fZmlsZV9kb3dubG9hZC50cmlnZ2VyKTtcbiAgICBsZXQgZ3JvdXAgcyB+ZiA9XG4gICAgICBGaXJlYnVnLmNvbnNvbGUjI2dyb3VwQ29sbGFwc2VkIChKcy5zdHJpbmcgcyk7XG4gICAgICBmICgpO1xuICAgICAgRmlyZWJ1Zy5jb25zb2xlIyNncm91cEVuZFxuICAgIGluXG4gICAgbGV0IGxvZyBzID0gRmlyZWJ1Zy5jb25zb2xlIyNsb2cgKEpzLnN0cmluZyBzKSBpblxuICAgIGdyb3VwIFwiSW5jcl9kb20gLyBCb25zYWkgQ29uc29sZVwiIH5mOihmdW4gKCkgLT5cbiAgICAgIGdyb3VwIFwiQWN0aW9uIExvZ2dpbmdcIiB+ZjooZnVuICgpIC0+XG4gICAgICAgIGxvZ1xuICAgICAgICAgIHt8TG9nZ2luZyBwcmludHMgYWN0aW9uIGluZm8gdG8gdGhlIGNvbnNvbGUuIEl0IGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQuIFRvIHN0YXJ0IGxvZ2dpbmcsIHR5cGUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG5zdGFydExvZ2dpbmdBbGwoW2FwcF9pZF0pIC0gbG9nIGFsbCBhY3Rpb25zXG5zdGFydExvZ2dpbmcoZmlsdGVyX25hbWUgWywgYXBwX2lkXSkgLSBmaWx0ZXIgYWN0aW9ucyB1c2luZyBhIHByZS1kZWZpbmVkIG5hbWVkIGZpbHRlciBbZmlsdGVyX25hbWVdXG5zdGFydExvZ2dpbmcoZmlsdGVyX25hbWVfYmxhbmcgWywgYXBwX2lkXSkgLSBmaWx0ZXIgYWN0aW9ucyB1c2luZyBhIGJsYW5nIG9mIG5hbWVkIGZpbHRlcnMgW2ZpbHRlcl9uYW1lX2JsYW5nXVxuc3RhcnRMb2dnaW5nQ3VzdG9tKGZpbHRlciBbLCBhcHBfaWRdKSAtIGZpbHRlciBhY3Rpb25zIHVzaW5nIGEgY3VzdG9tIGZ1bmN0aW9uIFtmaWx0ZXJdIGZyb20gYSBzdHJpbmcgKHRoZSBhY3Rpb24gc2V4cCkgdG8gYSBib29sXG5UbyBzdG9wIGxvZ2dpbmcsIHR5cGU6IHN0b3BMb2dnaW5nKFthcHBfaWRdKXx9KTtcbiAgICAgIGdyb3VwIFwiQWN0aW9uIFByb2ZpbGluZ1wiIH5mOihmdW4gKCkgLT5cbiAgICAgICAgbG9nXG4gICAgICAgICAge3xQcm9maWxpbmcgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdC5cblRvIHN0YXJ0IHByb2ZpbGluZywgdHlwZTogc3RhcnRQcm9maWxpbmcoW2FwcF9pZF0pXG5UbyBzdG9wIHByb2ZpbGluZywgdHlwZTogc3RvcFByb2ZpbGluZyhbYXBwX2lkXSl8fSk7XG4gICAgICBncm91cCBcIkRlYnVnZ2luZ1wiIH5mOihmdW4gKCkgLT5cbiAgICAgICAgbG9nXG4gICAgICAgICAge3xEZWJ1Z2dpbmcgcHJpbnRzIHRpbWluZyBpbmZvIHRvIHRoZSBjb25zb2xlLiBJdCBpcyBkaXNhYmxlZCBieSBkZWZhdWx0IHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkIGJ5IHRoZSBhcHAuXG5UbyBzdGFydCBkZWJ1Z2dpbmcsIHR5cGU6IHN0YXJ0RGVidWdnaW5nKFthcHBfaWRdKVxuVG8gc3RvcCBkZWJ1Z2dpbmcsIHR5cGU6IHN0b3BEZWJ1Z2dpbmcoW2FwcF9pZF0pXG5cblthcHBfaWRdIGlzIGVxdWFsIHRvIHRoZSBpZCBvZiB0aGUgZWxlbWVudCB0aGF0IHRoZSBpbmNyLWRvbSBhcHAgaXMgYm91bmQgdG8uIElmIHRoZSBwYWdlIG9ubHkgaGFzIG9uZSBhcHAgb3IgeW91IHdhbnQgdG8gYXBwbHkgdGhlIGFjdGlvbiB0byBhbGwgYXBwcywgeW91IGNhbiBwYXNzIGluIFtudWxsXSAob3IgZm9yIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMsIG9taXQgaXQgYWx0b2dldGhlcikufH0pO1xuICAgICAgbG9nIGFwcF9maWx0ZXJzKVxuICA7O1xuXG4gIGxldCBpbml0X2FwcCB+YXBwX2lkIH5maWx0ZXJfbmFtZXMgfmRlYnVnIH5zdG9wID1cbiAgICBsZXQgYXBwX2luaXRfbWVzc2FnZSA9XG4gICAgICBzcHJpbnRmXG4gICAgICAgIHt8QXZhaWxhYmxlIGxvZ2dpbmcgZmlsdGVycyBmb3IgXCIlc1wiOlxuJXN8fVxuICAgICAgICBhcHBfaWRcbiAgICAgICAgKFNldC50b19saXN0IGZpbHRlcl9uYW1lcyB8PiBtdWx0aV9saW5lX3N0cmluZ19saXN0KVxuICAgIGluXG4gICAgaWYgbm90ICFnbG9iYWxfaXNfaW5pdGlhbGl6ZWRcbiAgICB0aGVuIChcbiAgICAgIGluaXRfZ2xvYmFsIH5hcHBfZmlsdGVyczphcHBfaW5pdF9tZXNzYWdlICgpO1xuICAgICAgZ2xvYmFsX2lzX2luaXRpYWxpemVkIDo9IHRydWUpXG4gICAgZWxzZSBGaXJlYnVnLmNvbnNvbGUjI2xvZyAoSnMuc3RyaW5nIGFwcF9pbml0X21lc3NhZ2UpO1xuICAgIGxldCBsb2dnaW5nX2ZpbHRlciA9IHJlZiBMb2dnaW5nX2ZpbHRlci5Ob25lIGluXG4gICAgbGV0IHNob3VsZF9wcm9maWxlID0gcmVmIGZhbHNlIGluXG4gICAgbGV0IHNob3VsZF9kZWJ1ZyA9IHJlZiBkZWJ1ZyBpblxuICAgIEhhc2h0Ymwuc2V0XG4gICAgICBhcHBfc3RhdGVzXG4gICAgICB+a2V5OmFwcF9pZFxuICAgICAgfmRhdGE6eyBmaWx0ZXJfbmFtZXM7IGxvZ2dpbmdfZmlsdGVyOyBzaG91bGRfcHJvZmlsZTsgc2hvdWxkX2RlYnVnIH07XG4gICAgdXBvbiBzdG9wIChmdW4gKCkgLT4gSGFzaHRibC5yZW1vdmUgYXBwX3N0YXRlcyBhcHBfaWQpO1xuICAgIHsgbG9nZ2luZ19maWx0ZXIgPSAoZnVuICgpIC0+ICFsb2dnaW5nX2ZpbHRlcilcbiAgICA7IHNob3VsZF9wcm9maWxlID0gKGZ1biAoKSAtPiAhc2hvdWxkX3Byb2ZpbGUpXG4gICAgOyBzaG91bGRfZGVidWcgPSAoZnVuICgpIC0+ICFzaG91bGRfZGVidWcpXG4gICAgfVxuICA7O1xuZW5kXG5cbigqIEFkZHMgdGhlIG5lY2Vzc2FyeSBhdHRyaWJ1dGUgdG8gdGhlIHJvb3Qgbm9kZSBzbyB0aGF0IGl0IGNhbiBpbnRlcmNlcHRcbiAgIGtleWJvYXJkIGV2ZW50cy5cbiAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXggKilcbmxldCBvdmVycmlkZV9yb290X2VsZW1lbnQgcm9vdCA9XG4gIGxldCBvcGVuIFZkb20gaW5cbiAgbGV0IHNob3VsZF9hZGRfZm9jdXNfbW9kaWZpZXJzIGVsZW1lbnQgPVxuICAgIGVsZW1lbnQgfD4gTm9kZS5FbGVtZW50LmF0dHJzIHw+IEF0dHIuRXhwZXJ0LmNvbnRhaW5zX25hbWUgXCJkaXNhYmxlX3RhYl9pbmRleFwiIHw+IG5vdFxuICBpblxuICBtYXRjaCAocm9vdCA6IE5vZGUudCkgd2l0aFxuICB8IEVsZW1lbnQgZWxlbWVudCB3aGVuIHNob3VsZF9hZGRfZm9jdXNfbW9kaWZpZXJzIGVsZW1lbnQgLT5cbiAgICBsZXQgYWRkX25ld19hdHRycyBhdHRycyA9XG4gICAgICBWZG9tLkF0dHIuKHN0eWxlIChDc3NfZ2VuLm91dGxpbmUgfnN0eWxlOmBOb25lICgpKSBAIHRhYmluZGV4IDAgQCBhdHRycylcbiAgICBpblxuICAgIGVsZW1lbnQgfD4gTm9kZS5FbGVtZW50Lm1hcF9hdHRycyB+ZjphZGRfbmV3X2F0dHJzIHw+IE5vZGUuRWxlbWVudFxuICB8IF8gLT4gcm9vdFxuOztcblxubGV0IHJlYyBnZXRfdGFnX25hbWUgKG5vZGUgOiBWZG9tLk5vZGUudCkgPVxuICBtYXRjaCBub2RlIHdpdGhcbiAgfCBFbGVtZW50IGUgLT4gU29tZSAoVmRvbS5Ob2RlLkVsZW1lbnQudGFnIGUpXG4gIHwgTGF6eSB7IHQ7IF8gfSAtPiBnZXRfdGFnX25hbWUgKExhenkuZm9yY2UgdClcbiAgfCBOb25lIHwgVGV4dCBfIHwgV2lkZ2V0IF8gfCBGcmFnbWVudCBfIC0+IE5vbmVcbjs7XG5cbmxldCB0aW1lX3NvdXJjZSA6IFVpX3RpbWVfc291cmNlLnQgPSBVaV90aW1lX3NvdXJjZS5jcmVhdGUgfnN0YXJ0OihUaW1lX25zLm5vdyAoKSlcblxubGV0IHN0YXJ0X2JvbnNhaVxuICAodHlwZSBtb2RlbCBhY3Rpb24pXG4gID8oZGVidWcgPSBmYWxzZSlcbiAgPyhzdG9wID0gRGVmZXJyZWQubmV2ZXIgKCkpXG4gID8obmFtZWRfbG9nZ2luZ19maWx0ZXJzID0gW10pXG4gID8oc2ltdWxhdGVfYm9keV9mb2N1c19vbl9yb290X2VsZW1lbnQgPSB0cnVlKVxuICB+YmluZF90b19lbGVtZW50X3dpdGhfaWRcbiAgfmluaXRpYWxfbW9kZWxcbiAgKG1vZHVsZSBBcHAgOiBBcHBfaW50Zi5Qcml2YXRlLlNfZm9yX2JvbnNhaVxuICAgIHdpdGggdHlwZSBNb2RlbC50ID0gbW9kZWxcbiAgICAgYW5kIHR5cGUgQWN0aW9uLnQgPSBhY3Rpb24pXG4gID1cbiAgKCogVGhpcyBpcyBpZGVtcG90ZW50IGFuZCBzbyBmaW5lIHRvIGRvLiAqKVxuICBBc3luY19qcy5pbml0ICgpO1xuICBkb24ndF93YWl0X2ZvclxuICAgIChsZXQlYmluZCAoKSA9IEFzeW5jX2pzLmRvY3VtZW50X2xvYWRlZCAoKSBpblxuICAgICBsZXQgbW9kZWxfdiA9IEluY3IuVmFyLmNyZWF0ZSBpbml0aWFsX21vZGVsIGluXG4gICAgIGxldCBtb2RlbCA9IEluY3IuVmFyLndhdGNoIG1vZGVsX3YgaW5cbiAgICAgbGV0IG1vZGVsX2Zyb21fbGFzdF9kaXNwbGF5X3YgPSBJbmNyLlZhci5jcmVhdGUgaW5pdGlhbF9tb2RlbCBpblxuICAgICBsZXQgbW9kZWxfZnJvbV9sYXN0X2Rpc3BsYXkgPSBJbmNyLlZhci53YXRjaCBtb2RlbF9mcm9tX2xhc3RfZGlzcGxheV92IGluXG4gICAgIGxldCBjdXRvZmYgPVxuICAgICAgIEluY3IuQ3V0b2ZmLmNyZWF0ZSAoZnVuIH5vbGRfdmFsdWUgfm5ld192YWx1ZSAtPlxuICAgICAgICAgQXBwLk1vZGVsLmN1dG9mZiBvbGRfdmFsdWUgbmV3X3ZhbHVlKVxuICAgICBpblxuICAgICBJbmNyLnNldF9jdXRvZmYgbW9kZWwgY3V0b2ZmO1xuICAgICBJbmNyLnNldF9jdXRvZmYgbW9kZWxfZnJvbV9sYXN0X2Rpc3BsYXkgY3V0b2ZmO1xuICAgICBsZXQgYWN0aW9uX3F1ZXVlID0gUXVldWUuY3JlYXRlICgpIGluXG4gICAgIGxldCBtb2R1bGUgRXZlbnQgPVxuICAgICAgIFZkb20uRWZmZWN0LkRlZmluZSAoc3RydWN0XG4gICAgICAgICBtb2R1bGUgQWN0aW9uID0gQXBwLkFjdGlvblxuXG4gICAgICAgICBsZXQgaGFuZGxlIGFjdGlvbiA9IFF1ZXVlLmVucXVldWUgYWN0aW9uX3F1ZXVlIGFjdGlvblxuICAgICAgIGVuZClcbiAgICAgaW5cbiAgICAgbGV0IHZpc2liaWxpdHkgPSBWaXNpYmlsaXR5LmNyZWF0ZV9hc19kaXJ0eSAoKSBpblxuICAgICBsZXQgdmlld3BvcnRfY2hhbmdlZCAoKSA9IFZpc2liaWxpdHkubWFya19kaXJ0eSB2aXNpYmlsaXR5IGluXG4gICAgICgqIFRoaXMgcmVnaXN0ZXJzIHRoZSBbdmlld3BvcnRfY2hhbmdlZF0gaGFuZGxlciB3aXRoIFZpcnR1YWxfZG9tLiBJZiBldmVudCBoYW5kbGVyc1xuICAgICAgICB1c2UgdGhlIFtWZG9tLkVmZmVjdC5WaWV3cG9ydF9jaGFuZ2VkXSBldmVudCwgd2UgYXJlIG5vdGlmaWVkLiAqKVxuICAgICBsZXQgbW9kdWxlIF8gPVxuICAgICAgIFZkb20uRWZmZWN0LkRlZmluZV92aXNpYmlsaXR5IChzdHJ1Y3RcbiAgICAgICAgIGxldCBoYW5kbGUgPSB2aWV3cG9ydF9jaGFuZ2VkXG4gICAgICAgZW5kKVxuICAgICBpblxuICAgICBsZXQgZ2V0X3ZpZXcsIGdldF9hcHBseV9hY3Rpb24sIGdldF91cGRhdGVfdmlzaWJpbGl0eSwgZ2V0X29uX2Rpc3BsYXkgPVxuICAgICAgIGxldCBvYnMgPVxuICAgICAgICAgSW5jci5vYnNlcnZlXG4gICAgICAgICAgIChBcHAuY3JlYXRlIG1vZGVsIH5vbGRfbW9kZWw6bW9kZWxfZnJvbV9sYXN0X2Rpc3BsYXkgfmluamVjdDpFdmVudC5pbmplY3QpXG4gICAgICAgaW5cbiAgICAgICBsZXQgZmV0Y2ggKGYgOiBfIEFwcF9pbnRmLlByaXZhdGUuc25hcHNob3QgLT4gXykgKCkgPVxuICAgICAgICAgZiAoSW5jci5PYnNlcnZlci52YWx1ZV9leG4gb2JzKVxuICAgICAgIGluXG4gICAgICAgKCBmZXRjaCAoZnVuIHsgdmlldzsgXyB9IC0+IHZpZXcpXG4gICAgICAgLCBmZXRjaCAoZnVuIHsgYXBwbHlfYWN0aW9uOyBfIH0gLT4gYXBwbHlfYWN0aW9uKVxuICAgICAgICwgZmV0Y2ggKGZ1biB7IHVwZGF0ZV92aXNpYmlsaXR5OyBfIH0gLT4gdXBkYXRlX3Zpc2liaWxpdHkpXG4gICAgICAgLCBmZXRjaCAoZnVuIHsgb25fZGlzcGxheTsgXyB9IC0+IG9uX2Rpc3BsYXkpIClcbiAgICAgaW5cbiAgICAgSW5jci5zdGFiaWxpemUgKCk7XG4gICAgIEFwcC5vbl9zdGFiaWxpemUgKCk7XG4gICAgIGxldCBuYW1lZF9sb2dnaW5nX2ZpbHRlcnMgPVxuICAgICAgIChcImFsbFwiLCBGbi5jb25zdCB0cnVlKSA6OiAoXCJub25lXCIsIEZuLmNvbnN0IGZhbHNlKSA6OiBuYW1lZF9sb2dnaW5nX2ZpbHRlcnNcbiAgICAgICB8PiBTdHJpbmcuVGFibGUub2ZfYWxpc3RfZXhuXG4gICAgIGluXG4gICAgIGxldCB7IERlYnVnX2ZsYWdzLmxvZ2dpbmdfZmlsdGVyOyBzaG91bGRfcHJvZmlsZTsgc2hvdWxkX2RlYnVnIH0gPVxuICAgICAgIGxldCBmaWx0ZXJfbmFtZXMgPSBIYXNodGJsLmtleXMgbmFtZWRfbG9nZ2luZ19maWx0ZXJzIHw+IFN0cmluZy5TZXQub2ZfbGlzdCBpblxuICAgICAgIERlYnVnX2ZsYWdzLmluaXRfYXBwIH5hcHBfaWQ6YmluZF90b19lbGVtZW50X3dpdGhfaWQgfmZpbHRlcl9uYW1lcyB+ZGVidWcgfnN0b3BcbiAgICAgaW5cbiAgICAgbGV0IGh0bWwgPSBnZXRfdmlldyAoKSBpblxuICAgICBsZXQgaHRtbF9kb20gPSBWZG9tLk5vZGUudG9fZG9tIGh0bWwgaW5cbiAgICAgbGV0IGVsZW0gPSBEb21faHRtbC5nZXRFbGVtZW50QnlJZF9leG4gYmluZF90b19lbGVtZW50X3dpdGhfaWQgaW5cbiAgICAgbGV0IHBhcmVudCA9IE9wdGlvbi52YWx1ZV9leG4gfmhlcmU6WyVoZXJlXSAoSnMuT3B0LnRvX29wdGlvbiBlbGVtIyMucGFyZW50Tm9kZSkgaW5cbiAgICAgRG9tLnJlcGxhY2VDaGlsZCBwYXJlbnQgaHRtbF9kb20gZWxlbTtcbiAgICAgKCogd2UgbWFrZSBzdXJlIHRvIGNhbGwgW3ZpZXdwb3J0X2NoYW5nZWRdIHdoZW5ldmVyIHRoZSB3aW5kb3cgcmVzaXplcyBvciB0aGUgc2Nyb2xsXG4gICAgICAgIGNvbnRhaW5lciBpbiB3aGljaCBvdXIgSFRNTCBpcyBsb2NhdGVkIGlzIHNjcm9sbGVkLiAqKVxuICAgICBsZXQgY2FsbF92aWV3cG9ydF9jaGFuZ2VkX29uX2V2ZW50IGV2ZW50X25hbWUgd2hlcmUgPVxuICAgICAgIGlnbm9yZVxuICAgICAgICAgKERvbS5hZGRFdmVudExpc3RlbmVyXG4gICAgICAgICAgICB3aGVyZVxuICAgICAgICAgICAgKERvbS5FdmVudC5tYWtlIGV2ZW50X25hbWUpXG4gICAgICAgICAgICAoRG9tLmhhbmRsZXIgKGZ1biBfIC0+XG4gICAgICAgICAgICAgICB2aWV3cG9ydF9jaGFuZ2VkICgpO1xuICAgICAgICAgICAgICAgSnMuX3RydWUpKVxuICAgICAgICAgICAgSnMuX2ZhbHNlXG4gICAgICAgICAgIDogRG9tLmV2ZW50X2xpc3RlbmVyX2lkKVxuICAgICBpblxuICAgICBjYWxsX3ZpZXdwb3J0X2NoYW5nZWRfb25fZXZlbnQgXCJzY3JvbGxcIiAoSnNfbWlzYy5nZXRfc2Nyb2xsX2NvbnRhaW5lciBodG1sX2RvbSk7XG4gICAgIGNhbGxfdmlld3BvcnRfY2hhbmdlZF9vbl9ldmVudCBcInJlc2l6ZVwiIERvbV9odG1sLndpbmRvdztcbiAgICAgbGV0JWJpbmQgc3RhdGUgPVxuICAgICAgIEFwcC5vbl9zdGFydHVwXG4gICAgICAgICB+c2NoZWR1bGVfYWN0aW9uOihmdW4gYSAtPiBVaV9lZmZlY3QuRXhwZXJ0LmhhbmRsZSAoRXZlbnQuaW5qZWN0IGEpKVxuICAgICAgICAgKEluY3IuVmFyLnZhbHVlIG1vZGVsX3YpXG4gICAgIGluXG4gICAgIGxldCBwcmV2X2h0bWwgPSByZWYgaHRtbCBpblxuICAgICBsZXQgcHJldl9lbHQgPSByZWYgaHRtbF9kb20gaW5cbiAgICAgbGV0IHJlZm9jdXNfcm9vdF9lbGVtZW50ICgpID1cbiAgICAgICBsZXQgZWxlbWVudCA9ICFwcmV2X2VsdCBpblxuICAgICAgICgqIElmIHRoZSBlbGVtZW50IHRvIGZvY3VzIGlzIGFuIGVsZW1lbnQsIGNhc3QgaXQgaW50byB0aGVcbiAgICAgICAgICBtb3JlIHBlcm1pc3NpdmUgXCJmb2N1c2FibGVcIiB0eXBlIGRlZmluZWQgYXQgdGhlIHRvcCBvZlxuICAgICAgICAgIHRoaXMgZmlsZSwgYW5kIHRoZW4gZm9jdXMgdGhhdC4gKilcbiAgICAgICBEb21faHRtbC5Db2VyY2VUby5lbGVtZW50IGVsZW1lbnRcbiAgICAgICB8PiBKcy5PcHQudG9fb3B0aW9uXG4gICAgICAgfD4gT3B0aW9uLm1hcCB+Zjphc19mb2N1c2FibGVcbiAgICAgICB8PiBPcHRpb24uaXRlciB+ZjooZnVuIGVsZW1lbnQgLT5cbiAgICAgICAgICAgIGVsZW1lbnQjI2ZvY3VzXG4gICAgICAgICAgICAgIChvYmplY3QlanNcbiAgICAgICAgICAgICAgICAgdmFsIHByZXZlbnRTY3JvbGwgPSBKcy5fdHJ1ZVxuICAgICAgICAgICAgICBlbmQpKVxuICAgICBpblxuICAgICBsZXQgdGltZXJfc3RhcnQgcyA9XG4gICAgICAgdGltZXJfc3RhcnQgcyB+ZGVidWc6KHNob3VsZF9kZWJ1ZyAoKSkgfnByb2ZpbGU6KHNob3VsZF9wcm9maWxlICgpKVxuICAgICBpblxuICAgICBsZXQgdGltZXJfc3RvcCBzID1cbiAgICAgICB0aW1lcl9zdG9wIHMgfmRlYnVnOihzaG91bGRfZGVidWcgKCkpIH5wcm9maWxlOihzaG91bGRfcHJvZmlsZSAoKSlcbiAgICAgaW5cbiAgICAgaWYgc2ltdWxhdGVfYm9keV9mb2N1c19vbl9yb290X2VsZW1lbnRcbiAgICAgdGhlblxuICAgICAgICgqIFRha2UgYWN0aW9uIG9uIGFueSBibHVyIGV2ZW50LCByZWZvY3VzaW5nIHRvIHRoZSByb290IG5vZGUgaWYgdGhlIHJlbGF0ZWRUYXJnZXQgaXNcbiAgICAgICAgICBudWxsIG9yIHVuZGVmaW5lZCwgc2lnbmlmeWluZyB0aGF0IGZvY3VzIHdhcyBsb3N0IGFuZCB3b3VsZCBvdGhlcndpc2UgYmUgcmVzZXQgdG9cbiAgICAgICAgICB0aGUgYm9keSBub2RlLlxuXG4gICAgICAgICAgVGhlIEpzLl90cnVlIHBhcmFtZXRlciBwcm92aWRlZCB0byBEb20uYWRkRXZlbnRMaXN0ZW5lciBpcyB0aGUgdXNlQ2FwdHVyZVxuICAgICAgICAgIHBhcmFtZXRlciBkZXNjcmliZWQgaGVyZTpcbiAgICAgICAgICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lclxuICAgICAgICopXG4gICAgICAgaWdub3JlXG4gICAgICAgQEAgRG9tLmFkZEV2ZW50TGlzdGVuZXJcbiAgICAgICAgICAgIERvbV9odG1sLndpbmRvd1xuICAgICAgICAgICAgRG9tX2h0bWwuRXZlbnQuYmx1clxuICAgICAgICAgICAgKERvbV9odG1sLmhhbmRsZXIgKGZ1biBlIC0+XG4gICAgICAgICAgICAgICAoKiBbSnMuVW5zYWZlLipdIGlzIGxpa2UgW09iai5tYWdpY10uIFdlIHNob3VsZCBiZSBleHBsaWNpdCBhYm91dCB3aGF0IHdlXG4gICAgICAgICAgICAgICAgICBleHBlY3QuICopXG4gICAgICAgICAgICAgICBsZXQgZVxuICAgICAgICAgICAgICAgICA6IDwgcmVsYXRlZFRhcmdldCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCBKcy5vcHQgSnMucmVhZG9ubHlfcHJvcCA+IEpzLnRcbiAgICAgICAgICAgICAgICAgPVxuICAgICAgICAgICAgICAgICBKcy5VbnNhZmUuY29lcmNlIGVcbiAgICAgICAgICAgICAgIGluXG4gICAgICAgICAgICAgICBsZXQgcmVsYXRlZF90YXJnZXQgPSBlIyMucmVsYXRlZFRhcmdldCBpblxuICAgICAgICAgICAgICAgaWYgbm90IChKcy5PcHQudGVzdCByZWxhdGVkX3RhcmdldCkgdGhlbiByZWZvY3VzX3Jvb3RfZWxlbWVudCAoKTtcbiAgICAgICAgICAgICAgIEpzLl90cnVlKSlcbiAgICAgICAgICAgIEpzLl90cnVlO1xuICAgICBsZXQgdXBkYXRlX3Zpc2liaWxpdHkgKCkgPVxuICAgICAgIFZpc2liaWxpdHkubWFya19jbGVhbiB2aXNpYmlsaXR5O1xuICAgICAgIGxldCBuZXdfbW9kZWwgPVxuICAgICAgICAgKGdldF91cGRhdGVfdmlzaWJpbGl0eSAoKSlcbiAgICAgICAgICAgfnNjaGVkdWxlX2V2ZW50OlVpX2VmZmVjdC5FeHBlcnQuaGFuZGxlXG4gICAgICAgICAgIChJbmNyLlZhci5sYXRlc3RfdmFsdWUgbW9kZWxfdilcbiAgICAgICBpblxuICAgICAgIEluY3IuVmFyLnNldCBtb2RlbF92IG5ld19tb2RlbDtcbiAgICAgICB0aW1lcl9zdGFydCBcInN0YWJpbGl6ZVwiO1xuICAgICAgIEluY3Iuc3RhYmlsaXplICgpO1xuICAgICAgIHRpbWVyX3N0b3AgXCJzdGFiaWxpemVcIjtcbiAgICAgICBBcHAub25fc3RhYmlsaXplICgpXG4gICAgIGluXG4gICAgIGxldCBtYXliZV9sb2dfYWN0aW9uID1cbiAgICAgICBsZXQgc2FmZV9maWx0ZXIgfm5hbWUgZmlsdGVyIGFjdGlvbiA9XG4gICAgICAgICBtYXRjaCBPcl9lcnJvci50cnlfd2l0aCAoZnVuICgpIC0+IGZpbHRlciBhY3Rpb24pIHdpdGhcbiAgICAgICAgIHwgT2sgc2hvdWxkX2xvZyAtPiBzaG91bGRfbG9nXG4gICAgICAgICB8IEVycm9yIGVyciAtPlxuICAgICAgICAgICBwcmludF9lcnJvcmYgIVwiRXhjZXB0aW9uIHJhaXNlZCBieSAlczogJXtFcnJvciNodW19XCIgbmFtZSBlcnI7XG4gICAgICAgICAgIGZhbHNlXG4gICAgICAgaW5cbiAgICAgICBsZXQgbmFtZWRfZmlsdGVyX2JsYW5nX2NhY2hlID1cbiAgICAgICAgIENvcmUuTWVtby5vZl9jb21wYXJhYmxlXG4gICAgICAgICAgIChtb2R1bGUgTG9nZ2luZ19maWx0ZXIuU3RyaW5nX2JsYW5nKVxuICAgICAgICAgICAoZnVuIGJsYW5nIC0+XG4gICAgICAgICAgICAgbGV0IGZpbHRlciA9IEhhc2h0YmwuZmluZF9leG4gbmFtZWRfbG9nZ2luZ19maWx0ZXJzIGluXG4gICAgICAgICAgICAgc2FmZV9maWx0ZXJcbiAgICAgICAgICAgICAgIH5uYW1lOihzcHJpbnRmICFcIm5hbWVkIGZpbHRlciBibGFuZyBcXFwiJXtzZXhwOnN0cmluZyBCbGFuZy50fVxcXCJcIiBibGFuZylcbiAgICAgICAgICAgICAgIChtYXRjaCBibGFuZyB3aXRoXG4gICAgICAgICAgICAgICAgfCBCYXNlIG5hbWUgLT4gZmlsdGVyIG5hbWVcbiAgICAgICAgICAgICAgICB8IF8gLT4gZnVuIGFjdGlvbiAtPiBCbGFuZy5ldmFsIGJsYW5nIChmdW4gbmFtZSAtPiBmaWx0ZXIgbmFtZSBhY3Rpb24pKSlcbiAgICAgICBpblxuICAgICAgIGZ1biBhY3Rpb24gLT5cbiAgICAgICAgIGxldCBzaG91bGRfbG9nX2FjdGlvbiA9XG4gICAgICAgICAgIG1hdGNoIGxvZ2dpbmdfZmlsdGVyICgpIHdpdGhcbiAgICAgICAgICAgfCBBbGwgLT4gdHJ1ZVxuICAgICAgICAgICB8IE5vbmUgLT4gZmFsc2VcbiAgICAgICAgICAgfCBOYW1lZF9maWx0ZXJfYmxhbmcgYmxhbmcgLT4gbmFtZWRfZmlsdGVyX2JsYW5nX2NhY2hlIGJsYW5nIGFjdGlvblxuICAgICAgICAgICB8IEN1c3RvbV9maWx0ZXIgZmlsdGVyIC0+XG4gICAgICAgICAgICAgc2FmZV9maWx0ZXJcbiAgICAgICAgICAgICAgIH5uYW1lOlwiY3VzdG9tIGZpbHRlclwiXG4gICAgICAgICAgICAgICAoZnVuIGFjdGlvbiAtPiBmaWx0ZXIgKEFwcC5BY3Rpb24uc2V4cF9vZl90IGFjdGlvbikpXG4gICAgICAgICAgICAgICBhY3Rpb25cbiAgICAgICAgIGluXG4gICAgICAgICBpZiBzaG91bGRfbG9nX2FjdGlvblxuICAgICAgICAgdGhlbiBBc3luY19qcy5sb2dfc19hc19zdHJpbmcgWyVtZXNzYWdlIFwiQWN0aW9uXCIgKGFjdGlvbiA6IEFwcC5BY3Rpb24udCldXG4gICAgIGluXG4gICAgICgqIEl0J3MgaW1wb3J0YW50IHRoYXQgd2UgZG9uJ3QgY2FsbCBbSW5jci5WYXIuc2V0XSB3aXRoaW4gW2FwcGx5X2FjdGlvbl0gdW5sZXNzXG4gICAgICAgIHdlJ3JlIGFsc28gZ29pbmcgdG8gc3RhYmlsaXplLiBTb21lIGNvZGUgaW4gQm9uc2FpIHJlbGllcyBvbiB0aGlzIGFzc3VtcHRpb25cbiAgICAgICAgYXMgcGFydCBvZiBpdHMgW2FjdGlvbl9yZXF1aXJlc19zdGFiaWxpemF0aW9uXSBsb2dpYy4gQnJlYWtpbmcgdGhpcyBpbnZhcmlhbnRcbiAgICAgICAgd29uJ3QgYnJlYWsgQm9uc2FpIGNvZGUsIGJ1dCBpdCB3aWxsIGVmZmVjdGl2ZWx5IHJlbW92ZSBhbiBvcHRpbWl6YXRpb24uICopXG4gICAgIGxldCBhcHBseV9hY3Rpb24gYWN0aW9uIG1vZGVsID1cbiAgICAgICBtYXliZV9sb2dfYWN0aW9uIGFjdGlvbjtcbiAgICAgICBpZiBBcHAuYWN0aW9uX3JlcXVpcmVzX3N0YWJpbGl6YXRpb24gYWN0aW9uXG4gICAgICAgdGhlbiAoXG4gICAgICAgICBJbmNyLlZhci5zZXQgbW9kZWxfdiBtb2RlbDtcbiAgICAgICAgIHRpbWVyX3N0YXJ0IFwic3RhYmlsaXplLWZvci1hY3Rpb25cIjtcbiAgICAgICAgIEluY3Iuc3RhYmlsaXplICgpO1xuICAgICAgICAgdGltZXJfc3RvcCBcInN0YWJpbGl6ZS1mb3ItYWN0aW9uXCI7XG4gICAgICAgICBBcHAub25fc3RhYmlsaXplICgpKVxuICAgICAgIGVsc2UgaWYgc2hvdWxkX2RlYnVnICgpXG4gICAgICAgdGhlbiBGaXJlYnVnLmNvbnNvbGUjI2RlYnVnIChKcy5zdHJpbmcgXCJhY3Rpb24gYXBwbGllZCB3aXRob3V0IHN0YWJpbGl6aW5nXCIpO1xuICAgICAgIGxldCBuZXdfbW9kZWwgPVxuICAgICAgICAgKGdldF9hcHBseV9hY3Rpb24gKCkpIHN0YXRlIH5zY2hlZHVsZV9ldmVudDpVaV9lZmZlY3QuRXhwZXJ0LmhhbmRsZSBtb2RlbCBhY3Rpb25cbiAgICAgICBpblxuICAgICAgIEFwcC5vbl9hY3Rpb25fYXBwbGljYXRpb24gYWN0aW9uO1xuICAgICAgIG5ld19tb2RlbFxuICAgICBpblxuICAgICBsZXQgcmVjIGFwcGx5X2FjdGlvbnMgbW9kZWwgPVxuICAgICAgIG1hdGNoIFF1ZXVlLmRlcXVldWUgYWN0aW9uX3F1ZXVlIHdpdGhcbiAgICAgICB8IE5vbmUgLT4gSW5jci5WYXIuc2V0IG1vZGVsX3YgbW9kZWxcbiAgICAgICB8IFNvbWUgYWN0aW9uIC0+XG4gICAgICAgICBsZXQgbmV3X21vZGVsID0gYXBwbHlfYWN0aW9uIGFjdGlvbiBtb2RlbCBpblxuICAgICAgICAgYXBwbHlfYWN0aW9ucyBuZXdfbW9kZWxcbiAgICAgaW5cbiAgICAgbGV0IHBlcmZvcm1fdXBkYXRlICgpID1cbiAgICAgICB0aW1lcl9zdGFydCBcInN0YWJpbGl6ZVwiO1xuICAgICAgICgqIFRoZSBjbG9jayBpcyBzZXQgb25seSBvbmNlIHBlciBjYWxsIHRvIHBlcmZvcm1fdXBkYXRlLCBzbyB0aGF0IGFsbCBhY3Rpb25zIHRoYXRcbiAgICAgICAgICBvY2N1ciBiZWZvcmUgZWFjaCBkaXNwbGF5IHVwZGF0ZSBvY2N1ciBcImF0IHRoZSBzYW1lIHRpbWUuXCIgKilcbiAgICAgICBsZXQgbm93ID1cbiAgICAgICAgIGxldCBkYXRlID0gbmV3JWpzIEpzLmRhdGVfbm93IGluXG4gICAgICAgICBUaW1lX25zLlNwYW4ub2ZfbXMgZGF0ZSMjZ2V0VGltZSB8PiBUaW1lX25zLm9mX3NwYW5fc2luY2VfZXBvY2hcbiAgICAgICBpblxuICAgICAgIEluY3IuQ2xvY2suYWR2YW5jZV9jbG9jayBJbmNyLmNsb2NrIH50b186bm93O1xuICAgICAgIEFwcC5hZHZhbmNlX2Nsb2NrX3RvIG5vdztcbiAgICAgICBJbmNyLnN0YWJpbGl6ZSAoKTtcbiAgICAgICB0aW1lcl9zdG9wIFwic3RhYmlsaXplXCI7XG4gICAgICAgQXBwLm9uX3N0YWJpbGl6ZSAoKTtcbiAgICAgICB0aW1lcl9zdGFydCBcInRvdGFsXCI7XG4gICAgICAgdGltZXJfc3RhcnQgXCJ1cGRhdGUgdmlzaWJpbGl0eVwiO1xuICAgICAgIGlmIFZpc2liaWxpdHkuaXNfZGlydHkgdmlzaWJpbGl0eSB0aGVuIHVwZGF0ZV92aXNpYmlsaXR5ICgpO1xuICAgICAgIHRpbWVyX3N0b3AgXCJ1cGRhdGUgdmlzaWJpbGl0eVwiO1xuICAgICAgIHRpbWVyX3N0YXJ0IFwiYXBwbHkgYWN0aW9uc1wiO1xuICAgICAgIGFwcGx5X2FjdGlvbnMgKEluY3IuVmFyLnZhbHVlIG1vZGVsX3YpO1xuICAgICAgIHRpbWVyX3N0b3AgXCJhcHBseSBhY3Rpb25zXCI7XG4gICAgICAgdGltZXJfc3RhcnQgXCJzdGFiaWxpemVcIjtcbiAgICAgICBJbmNyLnN0YWJpbGl6ZSAoKTtcbiAgICAgICB0aW1lcl9zdG9wIFwic3RhYmlsaXplXCI7XG4gICAgICAgQXBwLm9uX3N0YWJpbGl6ZSAoKTtcbiAgICAgICBsZXQgaHRtbCA9IGdldF92aWV3ICgpIGluXG4gICAgICAgbGV0IGh0bWwgPVxuICAgICAgICAgaWYgc2ltdWxhdGVfYm9keV9mb2N1c19vbl9yb290X2VsZW1lbnQgdGhlbiBvdmVycmlkZV9yb290X2VsZW1lbnQgaHRtbCBlbHNlIGh0bWxcbiAgICAgICBpblxuICAgICAgIHRpbWVyX3N0YXJ0IFwiZGlmZlwiO1xuICAgICAgIGxldCBwYXRjaCA9IFZkb20uTm9kZS5QYXRjaC5jcmVhdGUgfnByZXZpb3VzOiFwcmV2X2h0bWwgfmN1cnJlbnQ6aHRtbCBpblxuICAgICAgIHRpbWVyX3N0b3AgXCJkaWZmXCI7XG4gICAgICAgaWYgbm90IChWZG9tLk5vZGUuUGF0Y2guaXNfZW1wdHkgcGF0Y2gpIHRoZW4gVmlzaWJpbGl0eS5tYXJrX2RpcnR5IHZpc2liaWxpdHk7XG4gICAgICAgdGltZXJfc3RhcnQgXCJwYXRjaFwiO1xuICAgICAgIGxldCBlbHQgPSBWZG9tLk5vZGUuUGF0Y2guYXBwbHkgcGF0Y2ggIXByZXZfZWx0IGluXG4gICAgICAgdGltZXJfc3RvcCBcInBhdGNoXCI7XG4gICAgICAgdGltZXJfc3RhcnQgXCJvbl9kaXNwbGF5XCI7XG4gICAgICAgKGdldF9vbl9kaXNwbGF5ICgpKSBzdGF0ZSB+c2NoZWR1bGVfZXZlbnQ6VWlfZWZmZWN0LkV4cGVydC5oYW5kbGU7XG4gICAgICAgdGltZXJfc3RvcCBcIm9uX2Rpc3BsYXlcIjtcbiAgICAgICBJbmNyLlZhci5zZXQgbW9kZWxfZnJvbV9sYXN0X2Rpc3BsYXlfdiAoSW5jci5WYXIudmFsdWUgbW9kZWxfdik7XG4gICAgICAgbGV0IG9sZF90YWdfbmFtZSA9IGdldF90YWdfbmFtZSAhcHJldl9odG1sIGluXG4gICAgICAgbGV0IG5ld190YWdfbmFtZSA9IGdldF90YWdfbmFtZSBodG1sIGluXG4gICAgICAgbGV0IHRhZ3NfdGhlX3NhbWUgPSBPcHRpb24uZXF1YWwgU3RyaW5nLmVxdWFsIG9sZF90YWdfbmFtZSBuZXdfdGFnX25hbWUgaW5cbiAgICAgICBwcmV2X2h0bWwgOj0gaHRtbDtcbiAgICAgICBwcmV2X2VsdCA6PSBlbHQ7XG4gICAgICAgdGltZXJfc3RvcCBcInRvdGFsXCI7XG4gICAgICAgaWYgc2hvdWxkX2RlYnVnICgpIHRoZW4gRmlyZWJ1Zy5jb25zb2xlIyNkZWJ1ZyAoSnMuc3RyaW5nIFwiLS0tLS0tLVwiKTtcbiAgICAgICAoKiBDaGFuZ2luZyB0aGUgdGFnIG5hbWUgY2F1c2VzIGZvY3VzIHRvIGJlIGxvc3QuICBSZWZvY3VzIGluIHRoYXQgY2FzZS4gKilcbiAgICAgICBpZiBub3QgdGFnc190aGVfc2FtZSB0aGVuIHJlZm9jdXNfcm9vdF9lbGVtZW50ICgpXG4gICAgIGluXG4gICAgICgqIFdlIHVzZSBbcmVxdWVzdF9hbmltYXRpb25fZnJhbWVdIHNvIHRoYXQgYnJvd3NlciB0ZWxscyB1cyB3aGVyZSBpdCdzIHRpbWUgdG9cbiAgICAgICAgcmVmcmVzaCB0aGUgVUkuIEFsbCB0aGUgYWN0aW9ucyB3aWxsIGJlIHByb2Nlc3NlZCBhbmQgdGhlIGNoYW5nZXMgcHJvcGFnYXRlZFxuICAgICAgICB0byB0aGUgRE9NIGluIG9uZSBmcmFtZS4gKilcbiAgICAgbGV0IHJlYyBjYWxsYmFjayAoKSA9XG4gICAgICAgaWYgRGVmZXJyZWQuaXNfZGV0ZXJtaW5lZCBzdG9wXG4gICAgICAgdGhlbiAoKVxuICAgICAgIGVsc2UgKFxuICAgICAgICAgcGVyZm9ybV91cGRhdGUgKCk7XG4gICAgICAgICByZXF1ZXN0X2FuaW1hdGlvbl9mcmFtZSBjYWxsYmFjaylcbiAgICAgaW5cbiAgICAgKCogV2Ugd2FudCB0aGUgcm9vdCBlbGVtZW50IHRvIHN0YXJ0IG91dCBmb2N1c2VkLCBzbyBwZXJmb3JtIGFuIGluaXRpYWxcbiAgICAgICAgdXBkYXRlL3JlbmRlciwgdGhlbiBpbW1lZGlhdGVseSBmb2N1cyB0aGUgcm9vdCAodW5sZXNzIGEgbm9uLWJvZHkgZWxlbWVudCBhbHJlYWR5XG4gICAgICAgIGhhcyBmb2N1cykuICBUaGlzIGZvY3VzaW5nIGNhbid0IGhhcHBlbiBpbnNpZGUgb2YgdGhlIGBjYWxsYmFja2AgYmVjYXVzZSB0aGVuIGl0XG4gICAgICAgIHdvdWxkIHJlZm9jdXMgcm9vdCBldmVyeSBmcmFtZS4gICopXG4gICAgIHBlcmZvcm1fdXBkYXRlICgpO1xuICAgICAobWF0Y2ggSnMuT3B0LnRvX29wdGlvbiBEb21faHRtbC5kb2N1bWVudCMjLmFjdGl2ZUVsZW1lbnQgd2l0aFxuICAgICAgfCBTb21lIGVsIC0+IGlmIEpzLk9wdC50ZXN0IChEb21faHRtbC5Db2VyY2VUby5ib2R5IGVsKSB0aGVuIHJlZm9jdXNfcm9vdF9lbGVtZW50ICgpXG4gICAgICB8IE5vbmUgLT4gcmVmb2N1c19yb290X2VsZW1lbnQgKCkpO1xuICAgICByZXF1ZXN0X2FuaW1hdGlvbl9mcmFtZSBjYWxsYmFjaztcbiAgICAgRGVmZXJyZWQubmV2ZXIgKCkpXG47O1xuXG5tb2R1bGUgUHJpdmF0ZSA9IHN0cnVjdFxuICBsZXQgc3RhcnRfYm9uc2FpID0gc3RhcnRfYm9uc2FpXG4gIGxldCB0aW1lX3NvdXJjZSA9IHRpbWVfc291cmNlXG5lbmRcblxubGV0IHN0YXJ0XG4gICh0eXBlIG1vZGVsIGFjdGlvbilcbiAgPyhkZWJ1ZyA9IGZhbHNlKVxuICA/KHN0b3AgPSBEZWZlcnJlZC5uZXZlciAoKSlcbiAgPyhuYW1lZF9sb2dnaW5nX2ZpbHRlcnMgPSBbXSlcbiAgfmJpbmRfdG9fZWxlbWVudF93aXRoX2lkXG4gIH5pbml0aWFsX21vZGVsXG4gIChtb2R1bGUgQXBwIDogQXBwX2ludGYuUyB3aXRoIHR5cGUgTW9kZWwudCA9IG1vZGVsIGFuZCB0eXBlIEFjdGlvbi50ID0gYWN0aW9uKVxuICA9XG4gIHN0YXJ0X2JvbnNhaVxuICAgIH5kZWJ1Z1xuICAgIH5zdG9wXG4gICAgfm5hbWVkX2xvZ2dpbmdfZmlsdGVyc1xuICAgIH5iaW5kX3RvX2VsZW1lbnRfd2l0aF9pZFxuICAgIH5pbml0aWFsX21vZGVsXG4gICAgKG1vZHVsZSBzdHJ1Y3RcbiAgICAgIGluY2x1ZGUgQXBwXG5cbiAgICAgIGxldCBhY3Rpb25fcmVxdWlyZXNfc3RhYmlsaXphdGlvbiBfID0gdHJ1ZVxuICAgICAgbGV0IG9uX2FjdGlvbl9hcHBsaWNhdGlvbiBfID0gKClcbiAgICAgIGxldCBvbl9zdGFiaWxpemUgKCkgPSAoKVxuXG4gICAgICBsZXQgYWR2YW5jZV9jbG9ja190byB0b18gPVxuICAgICAgICBVaV90aW1lX3NvdXJjZS5hZHZhbmNlX2Nsb2NrIHRpbWVfc291cmNlIH50b187XG4gICAgICAgIFVpX3RpbWVfc291cmNlLlByaXZhdGUuZmx1c2ggdGltZV9zb3VyY2VcbiAgICAgIDs7XG5cbiAgICAgIGxldCBjcmVhdGUgbW9kZWwgfm9sZF9tb2RlbCB+aW5qZWN0ID1cbiAgICAgICAgbGV0IG9wZW4gSW5jci5MZXRfc3ludGF4IGluXG4gICAgICAgIGxldCVtYXAgY29tcG9uZW50ID0gY3JlYXRlIG1vZGVsIH5vbGRfbW9kZWwgfmluamVjdCBpblxuICAgICAgICBsZXQgdmlldyA9IENvbXBvbmVudC52aWV3IGNvbXBvbmVudCBpblxuICAgICAgICBsZXQgYXBwbHlfYWN0aW9uIHN0YXRlIH5zY2hlZHVsZV9ldmVudCBfbW9kZWwgYWN0aW9uID1cbiAgICAgICAgICBsZXQgc2NoZWR1bGVfYWN0aW9uIGEgPSBzY2hlZHVsZV9ldmVudCAoaW5qZWN0IGEpIGluXG4gICAgICAgICAgQ29tcG9uZW50LmFwcGx5X2FjdGlvbiBjb21wb25lbnQgYWN0aW9uIHN0YXRlIH5zY2hlZHVsZV9hY3Rpb25cbiAgICAgICAgaW5cbiAgICAgICAgbGV0IHVwZGF0ZV92aXNpYmlsaXR5IF9tb2RlbCB+c2NoZWR1bGVfZXZlbnQgPVxuICAgICAgICAgIGxldCBzY2hlZHVsZV9hY3Rpb24gYSA9IHNjaGVkdWxlX2V2ZW50IChpbmplY3QgYSkgaW5cbiAgICAgICAgICBDb21wb25lbnQudXBkYXRlX3Zpc2liaWxpdHkgY29tcG9uZW50IH5zY2hlZHVsZV9hY3Rpb25cbiAgICAgICAgaW5cbiAgICAgICAgbGV0IG9uX2Rpc3BsYXkgc3RhdGUgfnNjaGVkdWxlX2V2ZW50ID1cbiAgICAgICAgICBsZXQgc2NoZWR1bGVfYWN0aW9uIGEgPSBzY2hlZHVsZV9ldmVudCAoaW5qZWN0IGEpIGluXG4gICAgICAgICAgQ29tcG9uZW50Lm9uX2Rpc3BsYXkgY29tcG9uZW50IHN0YXRlIH5zY2hlZHVsZV9hY3Rpb25cbiAgICAgICAgaW5cbiAgICAgICAgeyBBcHBfaW50Zi5Qcml2YXRlLnZpZXc7IGFwcGx5X2FjdGlvbjsgdXBkYXRlX3Zpc2liaWxpdHk7IG9uX2Rpc3BsYXkgfVxuICAgICAgOztcbiAgICBlbmQpXG47O1xuIl19
